"use strict";(self.webpackChunkfluidhost=self.webpackChunkfluidhost||[]).push([[56458],{36591:(e,t,n)=>{n.d(t,{C:()=>s});class s{constructor(e,t,n,s,o){this.dispatcher=e,this.logicModuleProviders=t,this.entityStoreSet=n,this.clientSettings=s,this.loggers=o}}},50767:(e,t,n)=>{n.r(t),n.d(t,{UserPlansRetrievalActionCreator:()=>l});var s=n(36591),o=n(64226),r=n(96891),i=n(38752),a=n(45795),c=n(65818);class l extends s.C{get name(){return r.M.UserPlansRetrievalActionCreator}fetchAllPlans(e){i.B.clientType!==a.s.Loop?(this.fetchContainerPlans(c.K.Group,e),this.fetchContainerPlans(c.K.Roster,e),this.entityStoreSet.appContextStore.getFlights().EnableUserContainerFetch&&this.fetchContainerPlans(c.K.User,e),this.entityStoreSet.appContextStore.getFlights().EnableDocumentTasks&&this.fetchContainerPlans(c.K.DriveItem,e)):this.fetchContainerPlans(c.K.Roster,e)}fetchContainerPlans(e,t){e!==c.K.DriveItem?this.fetchContainerPlansRecursive(e,void 0,t):this.fetchRecommendedDocumentPlansForUserInternalAsync()}async fetchPlansForContainer(e){(await this.logicModuleProviders.containerModule()).resolveContainersToPlans(e.containerType,[e.externalId]).catch(()=>{})}async fetchRecommendedDocumentPlansForUserInternalAsync(){const e=await this.logicModuleProviders.planModule(),t=await this.logicModuleProviders.notificationModule();e.fetchRecommendedDocumentPlansAsync().catch(e=>{const n=e.response?.status,s=e.response?.statusText;t.showErrorInternal(o.fc.GetDocumentPlansError,n,s,void 0,e.response)})}async fetchContainerPlansRecursive(e,t,n){const s=await this.logicModuleProviders.containerModule(),r=await this.logicModuleProviders.notificationModule();s.fetchContainers(e,t,n).then(t=>{s.resolveContainersToPlans(e,t.Results.map(e=>e.externalId),n),t.NextContinuationToken&&this.fetchContainerPlansRecursive(e,t.NextContinuationToken,n)},t=>{const n=t.response?.status,s=t.response?.statusText,i=e===c.K.Group?o.fc.GetJoinedGroupsError:o.fc.GetDocumentPlansError;r.showErrorInternal(i,n,s,void 0,t.response)})}constructor(e,t,n,s){super(e,t,n,i.B.clientSettings,s)}}}}]);
//# sourceMappingURL=userplansretrievalac.73ce5710.chunk.js.map