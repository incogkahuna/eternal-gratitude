"use strict";(self.webpackChunkfluidhost=self.webpackChunkfluidhost||[]).push([[76902],{16701:(e,t,a)=>{a.d(t,{Gx:()=>o,_6:()=>l,mW:()=>s});var s,n=a(94772),r=a(72866),i=a(67271);!function(e){e.DueDate="DueDate",e.Priority="Priority",e.Progress="Progress",e.Label="Label",e.Bucket="Bucket",e.Assignment="Assignment"}(s||(s={}));const o={DueDate:"dueDate",Priority:"priority",Progress:"percentComplete",Label:"appliedCategories",Bucket:"bucketId",Assignment:"assignments"},l=new r.d("percentComplete",[(0,i.BK)(n.$.NotStarted),(0,i.BK)(n.$.InProgress)])},19285:(e,t,a)=>{a.d(t,{Q:()=>n});var s=a(25324);class n extends s.l{constructor(e,t,a,s,r,i,o){super(n.actionType,e,t,a,s,r,i,o)}}n.actionType="SHOW_ERROR_NOTIFICATION"},26260:(e,t,a)=>{a.d(t,{R:()=>l});var s=a(33183),n=a(21382),r=a(54320),i=a.n(r),o=a(86053);class l extends s.M{name(){return"NotificationToast"}constructor(e,t,a){let r=o.p.Strings[e];i()(t)||(r=n.G(r,...t));const c=a?r+", "+a:r;super(l.type,{className:"",toastDataType:s.M.toastDataType,mainContent:c,ariaAlertMessage:c,onDismiss:()=>{}})}}l.type="NOTIFICATION_TOAST"},27916:(e,t,a)=>{var s,n,r,i,o;a.d(t,{Zg:()=>l}),function(e){e[e.OK=0]="OK",e[e.ContainsDefaultReservedWords=1]="ContainsDefaultReservedWords",e[e.MissingPrefixSuffix=2]="MissingPrefixSuffix",e[e.ContainsCustomBlockedWords=3]="ContainsCustomBlockedWords",e[e.ContainsMSStandardBlockedWords=4]="ContainsMSStandardBlockedWords",e[e.MailNicknameNotOK=5]="MailNicknameNotOK",e[e.Unknown=6]="Unknown"}(s||(s={})),function(e){e.Forbidden="Forbidden",e.NotFound="NotFound",e.CreatePlanForGroupFailed="CreatePlanForGroupFailed",e.MaximumPlansOwnedByUserReached="MaximumPlansOwnedByUserReached",e.UnknownError="UnknownError"}(n||(n={})),function(e){e.Offline="Offline"}(r||(r={})),function(e){e.DynamicImportError="DynamicImportError"}(i||(i={})),function(e){e.MaximumProjectsOwnedByUser="MaximumProjectsOwnedByUser",e.MaximumProjectsSharedWithUser="MaximumProjectsSharedWithUser",e.MaximumTasksCreatedByUser="MaximumTasksCreatedByUser",e.MaximumTasksAssignedToUser="MaximumTasksAssignedToUser",e.MaximumTasksInProject="MaximumTasksInProject",e.MaximumActiveTasksInProject="MaximumActiveTasksInProject",e.MaximumBucketsInProject="MaximumBucketsInProject",e.MaximumUsersSharedWithProject="MaximumUsersSharedWithProject",e.MaximumReferencesOnTask=" MaximumReferencesOnTask",e.MaximumChecklistItemsOnTask="MaximumChecklistItemsOnTask",e.MaximumAssigneesInTasks="MaximumAssigneesInTasks",e.MaximumFavoritePlansForUser="MaximumFavoriteProjectsForUser",e.MaximumRecentPlansForUser="MaximumRecentProjectsForUser",e.MaximumContextsOnPlan="MaximumContextsOnPlan"}(o||(o={}));const l="ArchivedEntityCanNotBeUpdated"},38780:(e,t,a)=>{a.d(t,{U:()=>s});var s,n=a(77508),r=a(86053);!function(e){function t(e){switch(e){case 0:return r.p.Strings.Labels_PinkLabelPlaceholderText;case 1:return r.p.Strings.Labels_RedLabelPlaceholderText;case 2:return r.p.Strings.Labels_YellowLabelPlaceholderText;case 3:return r.p.Strings.Labels_GreenLabelPlaceholderText;case 4:return r.p.Strings.Labels_BlueLabelPlaceholderText;case 5:return r.p.Strings.Labels_PurpleLabelPlaceholderText;case 6:return r.p.Strings.Labels_BronzeLabelPlaceholderText;case 7:return r.p.Strings.Labels_LimeLabelPlaceholderText;case 8:return r.p.Strings.Labels_AquaLabelPlaceholderText;case 9:return r.p.Strings.Labels_GrayLabelPlaceholderText;case 10:return r.p.Strings.Labels_SilverLabelPlaceholderText;case 11:return r.p.Strings.Labels_BrownLabelPlaceholderText;case 12:return r.p.Strings.Labels_CranberryLabelPlaceholderText;case 13:return r.p.Strings.Labels_OrangeLabelPlaceholderText;case 14:return r.p.Strings.Labels_PeachLabelPlaceholderText;case 15:return r.p.Strings.Labels_MarigoldLabelPlaceholderText;case 16:return r.p.Strings.Labels_LightGreenLabelPlaceholderText;case 17:return r.p.Strings.Labels_DarkGreenLabelPlaceholderText;case 18:return r.p.Strings.Labels_TealLabelPlaceholderText;case 19:return r.p.Strings.Labels_LightBlueLabelPlaceholderText;case 20:return r.p.Strings.Labels_DarkBlueLabelPlaceholderText;case 21:return r.p.Strings.Labels_LavenderLabelPlaceholderText;case 22:return r.p.Strings.Labels_PlumLabelPlaceholderText;case 23:return r.p.Strings.Labels_LightGrayLabelPlaceholderText;case 24:return r.p.Strings.Labels_DarkGrayLabelPlaceholderText;default:return""}}e.getILabelArray=function(e,a){return e.map((e,s)=>({name:e,index:s,usageCount:a.getValueAtIndex(s),id:s.toString(),labelFormatting:{BackgroundColor:n.U4.LabelFormattingData[s].BackgroundColor,HoverBackgroundColor:n.U4.LabelFormattingData[s].HoverBackgroundColor,HoverBorderColor:n.U4.LabelFormattingData[s].HoverBorderColor,TextColor:n.U4.LabelFormattingData[s].TextColor},placeholderText:t(s)}))},e.convertILabelArrayToUnoILabelArray=function(e){return e.map(e=>({name:e.name,index:e.index,usageCount:e.usageCount,id:e.id,labelFormatting:{backgroundColor:e.labelFormatting.BackgroundColor,hoverBackgroundColor:e.labelFormatting.HoverBackgroundColor,hoverBorderColor:e.labelFormatting.HoverBorderColor,textColor:e.labelFormatting.TextColor},placeholderText:e.placeholderText}))},e.getLabelPlaceholderByIndex=t}(s||(s={}))},48817:(e,t,a)=>{a.r(t),a.d(t,{NotificationModule:()=>D});var s=a(19285),n=a(23835),r=a(24367),i=a(45078),o=a(96891),l=a(64226),c=a(27916),d=a(52274),u=a(34648),h=a(94772),g=a(51857),p=a(26260),T=a(64805),m=a(86178),f=a.n(m),k=a(55491),C=a.n(k),b=a(54320),S=a.n(b),x=a(50723),P=a.n(x),L=a(28673),F=a.n(L),_=a(74844),N=a(86053),v=a(38780),y=a(67271),w=a(98424),I=a(66070),B=a(49728);class D extends T.J{get name(){return"NotificationModule"}enqueueHiddenToastNotification(e,t,a){this.loggers.traceLogger.logTrace(507897361,_.k.Verbose,`Enqueue HiddenToastNotification [TitleSelector=${String(e)}]`),this.dispatcher.dispatchAction(new r.Z(new g.Q(e,this.stores.appContextStore.getFlights().ShowHiddenToasts,t,a)))}enqueueToastNotification(e,t,a){this.loggers.traceLogger.logTrace(507897360,_.k.Verbose,`Enqueue ToastNotification [TitleSelector=${String(e)}]`),this.dispatcher.dispatchAction(new r.Z(new p.R(e,t,a)))}announcePlanUpdates(e,t,a){this.loggers.traceLogger.logTrace(507897359,_.k.Verbose,`Announce Plan Updates [PlanId=${a.id}]`),C()(e,(e,t)=>{if("title"===t)this.enqueueHiddenToastNotification("SharedComponents_ChangePlanTitleToastTitle",[e])}),C()(t,(e,t)=>{switch(t){case"categories":const t=a.planDetails;C()(e,(e,a)=>{null==t||e===t.categories[a]||S()(e)&&S()(t.categories[a])||this.enqueueHiddenToastNotification("SharedComponents_ChangePlanCategoryToastTitle",[(a+1).toString(),e])});break;case"notifyWhen":this.enqueueHiddenToastNotification("SharedComponents_ChangePlanNotificationsToastTitle")}})}announceTaskUpdates(e,t){this.loggers.traceLogger.logTrace(507897358,_.k.Verbose,`Announce Task Updates [TaskId=${t.id}]`),C()(e,(e,a)=>{switch(a){case"appliedCategories":const a=e,s=P()(a,e=>t.appliedCategories.indexOf(e)<0),n=P()(t.appliedCategories,e=>a.indexOf(e)<0),r=this.stores.planStore.getPlanDetails(t.planId);C()(s,e=>{const t=r?.categories[e]??v.U.getLabelPlaceholderByIndex(e);this.enqueueHiddenToastNotification("SharedComponents_TaskCategoryAppliedToastTitle",[t])}),C()(n,e=>{const t=r?.categories[e]??v.U.getLabelPlaceholderByIndex(e);this.enqueueHiddenToastNotification("SharedComponents_TaskCategoryRemovedToastTitle",[t])});break;case"assignments":const o=e===i.Wh.CollectionCleanupValue?{}:e,l=F()(o),c=F()(t.assignments),d=P()(l,e=>c.indexOf(e)<0),u=P()(c,e=>l.indexOf(e)<0);C()(d,e=>{const t=this.stores.userStore.getUserById(e),a=null!=t?t.displayName:"";this.enqueueHiddenToastNotification("SharedComponents_AssignUserToastTitle",[a])}),C()(u,e=>{const t=this.stores.userStore.getUserById(e),a=null!=t?t.displayName:"";this.enqueueHiddenToastNotification("SharedComponents_UnassignUserToastTitle",[a])});break;case"bucketId":const g=null!=e?this.stores.bucketStore.getBucket(e):null,p=null==g?N.p.Strings.Bucket_NullBucketLabel:g.title;this.enqueueHiddenToastNotification("SharedComponents_ChangeTaskBucketToastTitle",[p]);break;case"dueDate":const T=null==e?N.p.Strings.SharedComponents_DateEmptyValue:f()(e).toDate().toDateString();this.enqueueHiddenToastNotification("SharedComponents_ChangeTaskDueDateToastTitle",[T]);break;case"percentComplete":const m=(0,y.Fk)(e);if(m===h.$.NotStarted)this.enqueueHiddenToastNotification("SharedComponents_ChangeTaskProgressToastTitle",[N.p.Strings.PlannerApp_NotStartedText]);else if(m===h.$.Complete){const e=t.title;this.enqueueHiddenToastNotification("SharedComponents_TaskCompletedToastTitle",[e])}else this.enqueueHiddenToastNotification("SharedComponents_ChangeTaskProgressToastTitle",[N.p.Strings.PlannerApp_InProgressText]);break;case"startDate":const k=null==e?N.p.Strings.SharedComponents_DateEmptyValue:f()(e).toDate().toDateString();this.enqueueHiddenToastNotification("SharedComponents_ChangeTaskStartDateToastTitle",[k]);break;case"title":this.enqueueHiddenToastNotification("SharedComponents_ChangeTaskTitleToastTitle",[e])}})}announceTaskDetailsUpdates(e,t){this.loggers.traceLogger.logTrace(507897357,_.k.Verbose,`Announce Task Details Updates [TaskId=${t.id}]`),C()(e,(e,a)=>{switch(a){case"checklist":const a=e===i.Wh.CollectionCleanupValue?{}:e,s=P()(a,e=>null==t.checklist[e.id]),n=P()(t.checklist,e=>null==a[e.id]),r=P()(a,e=>null!=t.checklist[e.id]&&!t.checklist[e.id].isChecked&&e.isChecked),o=(0,B.l5)(a,t);C()(s,e=>{this.enqueueHiddenToastNotification("SharedComponents_AddChecklistItemToastTitle",[],e.title)}),C()(n,e=>{this.enqueueHiddenToastNotification("SharedComponents_DeleteChecklistItemToastTitle",[],e.title)}),C()(r,e=>{this.enqueueHiddenToastNotification("SharedComponents_CompleteChecklistItemToastTitle",[],e.title)}),o&&this.enqueueHiddenToastNotification("SharedComponents_ReorderChecklistToastTitle");break;case"previewType":let l=null;switch(e){case u.X.Automatic:l=N.p.Strings.SharedComponents_PreviewTypeAutomatic;break;case u.X.CheckList:l=N.p.Strings.SharedComponents_PreviewTypeChecklist;break;case u.X.Description:l=N.p.Strings.SharedComponents_PreviewTypeDescription;break;case u.X.NoPreview:l=N.p.Strings.SharedComponents_PreviewTypeNoPreview;break;case u.X.Reference:l=N.p.Strings.SharedComponents_PreviewTypeReference}null!=l&&this.enqueueHiddenToastNotification("SharedComponents_ChangeTaskPreviewToastTitle",[l]);break;case"references":const c=e===i.Wh.CollectionCleanupValue?{}:e,d=P()(c,e=>null==t.references[e.url]),h=P()(t.references,e=>null==c[e.url]);C()(d,e=>{this.enqueueHiddenToastNotification("SharedComponents_TaskReferenceAddedToastTitle",[],e.alias)}),C()(h,e=>{this.enqueueHiddenToastNotification("SharedComponents_TaskReferenceRemovedToastTitle",[],e.alias)})}})}announceTaskReorder(e,t,a,s,n,r){this.loggers.traceLogger.logTrace(507897356,_.k.Verbose,`Announce Task Reorder [TaskId=${n.id}]`);let o=null,l=null;if(S()(e)||null==n.task?S()(e)&&!S()(t)&&null!=n.taskFormatData&&null!=n.taskFormatData.assignmentBoardFormat?C()(t,(e,t)=>{switch(t){case"orderHintsByAssignee":const t=n.taskFormatData?.assignmentBoardFormat?.orderHintsByAssignee??{},a=e===i.Wh.CollectionCleanupValue?{}:e;C()(a,(e,a)=>{null!=t[a]&&e!==t[a]&&(o=t[a],l=e)});break;case"unassignedOrderHint":o=n.taskFormatData?.assignmentBoardFormat?.unassignedOrderHint??"",l=e}}):S()(e)&&!S()(a)&&null!=n.taskFormatData&&null!=n.taskFormatData.bucketBoardFormat?C()(a,(e,t)=>{if("orderHint"===t)o=n.taskFormatData?.bucketBoardFormat?.orderHint??"",l=e}):S()(e)&&!S()(s)&&null!=n.taskFormatData&&null!=n.taskFormatData.progressBoardFormat&&C()(s,(e,t)=>{if("orderHint"===t)o=n.taskFormatData?.progressBoardFormat?.orderHint??"",l=e}):C()(e,(e,t)=>{if("assigneePriority"===t)o=n.task.assigneePriority??null,l=e}),null!=o&&null!=l){w.O.compareOrderHints(o,l)<0?this.enqueueHiddenToastNotification("SharedComponents_TaskMovedDownToastTitle",[],r):this.enqueueHiddenToastNotification("SharedComponents_TaskMovedUpToastTitle",[],r)}}announceUnifiedGroupUpdates(e,t){this.loggers.traceLogger.logTrace(507897355,_.k.Verbose,`Announce Unified Group Updates [GroupId=${e.id}]`);const a=e.getDiff(t);S()(a)||C()(a,(e,t)=>{switch(t){case"classification":this.enqueueHiddenToastNotification("SharedComponents_ChangeUnifiedGroupClassificationToastTitle");break;case"description":this.enqueueHiddenToastNotification("SharedComponents_ChangeUnifiedGroupDescriptionToastTitle");break;case"displayName":this.enqueueHiddenToastNotification("SharedComponents_ChangeUnifiedGroupTitleToastTitle",[e]);break;case"visibility":this.enqueueHiddenToastNotification("SharedComponents_ChangeUnifiedGroupVisibilityToastTitle")}})}handleRequestFailures(e,t,a,s,r,i,o){if(this.loggers.traceLogger.logTrace(507897354,_.k.Verbose,`Handle Request Failures [StatusCode=${e.response?.status}][notificationId=${s}]`),!(e.error instanceof d.U)){const d=e.response?.status,u=e.response?.statusText,h=e.error?.name;h===c.Zg?this.dispatcher.dispatchAction(new n.i(l.fc.PlanConvertingInfo)):t.indexOf(d)<0?a.indexOf(d)<0?this.showErrorInternal(s,d,u,r,e.response,i,o):this.dispatcher.dispatchAction(new n.i(s,d,u,r,i,e.response,o)):this.loggers.traceLogger.logTrace(507897353,_.k.Verbose,`Ignored failure [statusCode=${d}][notificationId=${s}]`)}}showErrorInternal(e,t,a,n,r,i,l){this.loggers.traceLogger.logTrace(507897352,_.k.Verbose,`Show Error Internal [StatusCode=${t}][NotificationId=${e}]`),this.loggers.usageLogger.logData(o.M.NotificationBar,o.M.ErrorBarShown),r?(0,I.A)(r).then(r=>this.dispatcher.dispatchAction(new s.Q(e,t,a,n,r,i,l))).catch(()=>{this.dispatcher.dispatchAction(new s.Q(e,t,a,n,r,i,l))}):this.dispatcher.dispatchAction(new s.Q(e,t,a,n,r,i,l))}showInfoInternal(e,t,a,s,r,i,o){r?(0,I.A)(r).then(r=>this.dispatcher.dispatchAction(new n.i(e,t,a,s,i,r,o))).catch(()=>{this.dispatcher.dispatchAction(new n.i(e,t,a,s,i,r,o))}):this.dispatcher.dispatchAction(new n.i(e,t,a,s,i,r,o))}}},49728:(e,t,a)=>{a.d(t,{$p:()=>T,YO:()=>g,bN:()=>d,iG:()=>c,l5:()=>h,qj:()=>u,rA:()=>p});var s=a(16701),n=a(34717),r=a(50723),i=a.n(r),o=a(54320),l=a.n(o);function c(e,t){const a=e.reduce((e,t)=>(t.appliedCategories.forEach(t=>{e[t]=!0}),e),{});return t.forEach((e,t)=>{null!==e&&e.length>0&&(a[t]=!0)}),a}function d(e){return e.reduce((e,t)=>(t.getAssigneeIds().forEach(t=>{e[t]=!0}),e),{})}function u(e){const t={},a=[];for(const s of e){const e=s.planId;s.isProjectTask()&&!t[e]&&(t[e]=s,a.push(s))}return a}function h(e,t){return i()(e,e=>!l()(t.checklist[e.id]?.orderHint)&&t.checklist[e.id]?.orderHint!==e.orderHint).length>0}function g(e,t){return n.Y.builder.withPropertyBag({id:e,title:"tempTask",planId:t}).build()}function p(e,t,a){const n=d(t);return e.filter(e=>n[e.id]||a.doesFilterValueExist(s.Gx.Assignment,e.id))}function T(e,t,a){let n=e.map((e,t)=>({categoryNumber:t,categoryName:e}));if(null!=t){const r=c(t,e);n=n.filter(e=>{let{categoryNumber:t}=e;return r[t]||a.doesFilterValueExist(s.Gx.Label,t)})}return n}},64805:(e,t,a)=>{a.d(t,{J:()=>n});class s{get clientSettings(){return this.clientSettingsProvider()}constructor(e,t,a){this.dispatcher=e,this.clientSettingsProvider=t,this.loggers=a}}class n extends s{getCurrentViewIds(){const e=this.stores.appContextStore.getCurrentViewId();return e?[e]:void 0}constructor(e,t,a,s,n){super(e,s,n),this.webApiProviders=t,this.stores=a}}},66070:(e,t,a)=>{async function s(e){const t=e.clone(),a=await t.text();return t.responseText=a,t}a.d(t,{A:()=>s})},72866:(e,t,a)=>{a.d(t,{S:()=>o,d:()=>l});var s=a(56434),n=a.n(s),r=a(54320),i=a.n(r);class o{get filterCount(){let e=0;return this.filters.forEach(t=>{e+=t.values.length}),e}getFieldFilterCount(e){const t=this.indexOfFilter(e);return t<0?0:this.filters[t].values.length}replaceFilter(e,t){const a=this.getClone(),s=a.filters.filter(t=>t.field===e);let n=a.filters;return i()(s)?n.push(t):n=a.filters.map(a=>a.field===e?t:a),new o(n)}removeFilter(e){const t=this.getClone(),a=t.indexOfFilter(e);return a>=0&&t.filters.splice(a,1),t}doesFilterValueExist(e,t){const a=this.indexOfFilter(e);return a>=0&&this.filters[a].values.indexOf(t)>=0}toggleFilterValue(e,t){return this.doesFilterValueExist(e,t)?this.removeFilterValue(e,t):this.addFilterValue(e,t)}addFilterValue(e,t){const a=this.getClone(),s=a.indexOfFilter(e);return s>=0?a.filters[s].values.push(t):a.filters.push(new l(e,[t])),a}removeFilterValue(e,t){const a=this.getClone(),s=a.indexOfFilter(e);if(s>=0){const e=a.filters[s].values.indexOf(t);e>=0&&a.filters[s].values.splice(e,1)}return 0===a.filters[s].values.length&&a.filters.splice(s,1),a}getClone(){return n()(this)}indexOfFilter(e){let t=-1;for(let a=0;a<this.filters.length;a++){this.filters[a].field===e&&(t=a)}return t}constructor(e){this.filters=[],null!=e&&(this.filters=e)}}class l{constructor(e,t){if(i()(t))throw new Error("InvalidArgumentException: values cannot be empty");this.field=e,this.values=t}}}}]);
//# sourceMappingURL=notificationmodule.34e90045.chunk.js.map