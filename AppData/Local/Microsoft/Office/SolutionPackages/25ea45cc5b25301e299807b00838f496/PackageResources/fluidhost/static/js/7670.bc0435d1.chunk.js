"use strict";(self.webpackChunkfluidhost=self.webpackChunkfluidhost||[]).push([[7670],{141:(t,e,n)=>{n.d(e,{k:()=>i});var r=n(28730);function i(t,e){return r.l.compareStringForDisplay(t?.displayName?t.displayName.toUpperCase():null,e?.displayName?e.displayName.toUpperCase():null)}},7670:(t,e,n)=>{n.d(e,{fS:()=>$,pU:()=>z,Fy:()=>B,M1:()=>x,wA:()=>b,Qc:()=>F,GU:()=>P,V2:()=>H,K5:()=>S,py:()=>w,PG:()=>A});var r=n(78332),i=n(24723),o=n(94772),s=n(55491),u=n.n(s),l=n(54320),a=n.n(l),p=n(33411),c=n.n(p),d=n(9376),f=n.n(d),g=n(26727),h=n.n(g),y=n(86178),m=n.n(y),E=n(80347),I=n(98424),v=n(44459),D=n(40840),V=n.n(D);class O{static groupBy(t,e,n){let r=0,i=null;const o={};u()(n,t=>{const e=null!=t.pivotValue?String(t.pivotValue):"null";if(null!=o[e])throw new Error(`ArgumentException: Duplicate groups provided [PivotValue=${e}]`);if(!0===t.isOpen&&(i=t,++r>1))throw new Error("ArgumentException: Multiple open data-groups specified");t.dataEntities=[],o[e]=t}),u()(t,t=>{const n=e(t);if(0===n.length){if(null!=i){const e=null!=i.pivotValue?String(i.pivotValue):"null";null==o[e].dataEntities&&(o[e].dataEntities=[]),o[e].dataEntities.push(t)}}else u()(n,e=>{const n=null!=e?String(e):"null";if(null!=o[n])null==o[n].dataEntities&&(o[n].dataEntities=[]),o[n].dataEntities.push(t);else if(null!=i){const e=null!=i.pivotValue?String(i.pivotValue):"null";null==o[e].dataEntities&&(o[e].dataEntities=[]),o[e].dataEntities.push(t)}})});const s=[];return V()(o,(t,e)=>{s.push(t)}),s}}var k=n(141),N=n(67271),T=n(28730),C=n(49728);function B(t,e,n,r){const i=[],o=M(null);i.push(o);const s=[],u=[],l=[r];let a=!1;for(let p=0;p<t.length;p++)for(let e=0;e<t[p].getAssigneeIds().length;e++){const i=t[p].getAssigneeIds()[e];if(a||i!==r||(a=!0),-1===l.indexOf(i)){l.push(i);const t=n[i];t?s.push(t):u.push(i)}}return(a||n[r])&&i.push(M(r)),s.sort(k.k),s.forEach(t=>{i.push(M(t.id))}),u.forEach(t=>{i.push(M(t))}),O.groupBy(t,t=>t.getAssigneeIds(),i),i.forEach((t,n)=>{let r;r=t===o?t=>U(t,e):n=>function(t,e,n){let r=null;if(t&&n[t.id])if(null==e)r=n[t.id].unassignedOrderHint;else{r=(n[t.id].orderHintsByAssignee||{})[e]}return r||U(t,n)}(n,t.pivotValue,e),null!=t.dataEntities&&t.dataEntities.sort((t,e)=>(0,v.IN)(t,e,r))}),i}function x(t,e,n){let r=[];const i=W(null);r.push(i),r=r.concat(q(n));const o=t=>G(t,e);return t.sort((t,e)=>(0,v.IN)(t,e,o)),O.groupBy(t,t=>[t.bucketId],r),r}function b(t,e,n){let r=[];const i=W(null);r.push(i);const o={};for(const l of n)null==o[l.planId]&&(o[l.planId]=l.planId);const s=h()(o);for(const l of s){const t=n.filter(t=>t.planId===l);r=r.concat(q(t))}const u=t=>G(t,e);return t.sort((t,e)=>(0,v.IN)(t,e,u)),O.groupBy(t,t=>[t.bucketId],r),r}function H(t,e,n,r){const i=[],o=n.map(t=>({pivotValue:t,dataEntities:[],isOpen:!1}));return f()(c()(t,t=>t.planId)).filter(t=>n.indexOf(t)<0).forEach(t=>{const n={pivotValue:t,dataEntities:[],isOpen:!1};e.indexOf(t)>=0?o.push(n):i.push(n)}),o.push(...i),t.sort(r?v.vz:v.gT),O.groupBy(t,t=>[t.planId],o),o}function w(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=[],i=Y(o.$.NotStarted);r.push(i);const s=Y(o.$.InProgress);if(r.push(s),n){const t=Y(o.$.Complete);r.push(t)}const u=t=>function(t,e){return t&&e[t.id]?e[t.id].orderHint:null}(t,e);return t.sort((t,e)=>(0,v.IN)(t,e,u)),O.groupBy(t,t=>[(0,N.Fk)(t.percentComplete)],r),r}function A(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;const r=[],i=Y(o.$.NotStarted);r.push(i);const s=Y(o.$.InProgress);if(r.push(s),e){const t=Y(o.$.Complete);r.push(t)}return t.sort(n?v.vz:v.gT),O.groupBy(t,t=>[(0,N.Fk)(t.percentComplete)],r),r}function F(t,e){const n=[],r=j(null);n.push(r);const i=(0,C.iG)(t,e);return Object.keys(i).map(t=>parseInt(t,10)).sort(T.l.compareNumbers).map(t=>j(t)).forEach(t=>{n.push(t)}),t.sort((t,e)=>(0,v.BY)(t,e)),O.groupBy(t,t=>t.appliedCategories,n),n}function P(t){const e={},n=m()().startOf("day"),i=[],o=t=>null==t.dueDate?[r.Tt.NoDate]:t.dueDate.isBefore(n)?[r.Tt.Late]:E.lz.IsToday(t.dueDate)?[r.Tt.Today]:E.lz.IsTomorrow(t.dueDate)?[r.Tt.Tomorrow]:E.lz.IsInCurrentWeek(t.dueDate)?[r.Tt.ThisWeek]:E.lz.IsInNextWeek(t.dueDate)?[r.Tt.NextWeek]:[r.Tt.Future];for(let r=0;r<t.length;r++){const n=o(t[r]);e[n[0]]=!0}return u()(r.Tt,t=>{var n;e[t]&&i.push({pivotValue:n=t,dataEntities:[],isOpen:n===r.Tt.NoDate})}),t.sort((t,e)=>(0,v.Vm)(t,e)),O.groupBy(t,o,i),i}function S(t){const e=[],n=L(i.gy.Urgent);e.push(n);const r=L(i.gy.Important);e.push(r);const o=L(i.gy.Medium);e.push(o);const s=L(i.gy.Low);return e.push(s),t.sort((t,e)=>(0,v.Vm)(t,e)),O.groupBy(t,t=>[(0,N.aV)(t.priority)],e),e}function $(t,e,n){const r=t.indexOf(n);if(-1!==r)return r;const i=a()(e)?null:parseInt(e,10),o=E.lz.GetDefaultDueDateForCategory(i),s=n.setDueDate(o);return t.push(s),t.sort(v.Vm),t.indexOf(s)}function z(t,e,n){const r=t.indexOf(n);if(-1!==r)return r;const i=parseInt(e,10),o=n.setProperty("priority",i);return t.push(o),t.sort(v.Vm),t.indexOf(o)}function G(t,e){return t&&e[t.id]?e[t.id].orderHint:null}function U(t,e){return t&&e[t.id]?e[t.id].unassignedOrderHint:null}function M(t){return{pivotValue:t,dataEntities:[],isOpen:!t}}function W(t){return{pivotValue:t?t.id:null,dataEntities:[],isOpen:null==t}}function Y(t){return{pivotValue:t,dataEntities:[],isOpen:!1}}function j(t){return{pivotValue:t,dataEntities:[],isOpen:null==t}}function L(t){return{pivotValue:t,dataEntities:[],isOpen:!1}}function q(t){const e=[];t.sort((t,e)=>I.O.compareOrderHints(e.orderHint,t.orderHint));for(const n of t){const t=W(n);e.push(t)}return e}},44459:(t,e,n)=>{n.d(e,{BY:()=>f,IN:()=>p,Vm:()=>c,gT:()=>l,vz:()=>a});var r,i,o=n(94772),s=n(67271),u=n(28730);!function(t){t.Ascending="asc",t.Descending="desc"}(r||(r={})),function(t){t.dueDate="dueDate",t.priority="priority",t.orderHint="orderHint",t.title="title",t.percentComplete="percentComplete",t.createdDate="createdDate",t.startDate="startDate",t.assigneePriority="assigneePriority",t.assignments="assignments",t.bucket="bucket",t.plan="plan"}(i||(i={}));function l(t,e){return p(t,e,t=>t?.assigneePriority??null)}function a(t,e){return d(t,e)||c(t,e)}function p(t,e,n){return u.l.compareByOrderHint(t,e,n)||d(t,e)||c(t,e)}function c(t,e){return u.l.compareByMomentDate(t,e,g)||f(t,e)}function d(t,e){return t.priority===e.priority?0:t.priority<e.priority?-1:1}function f(t,e){return u.l.compareStringForDisplay(t?.title?t.title.toUpperCase():null,e?.title?e.title.toUpperCase():null)}function g(t){return t&&(0,s.Fk)(t.percentComplete)===o.$.Complete&&t.completedDate?t.completedDate:t?t.dueDate:null}},49728:(t,e,n)=>{n.d(e,{$p:()=>h,YO:()=>f,bN:()=>p,iG:()=>a,l5:()=>d,qj:()=>c,rA:()=>g});var r=n(16701),i=n(34717),o=n(50723),s=n.n(o),u=n(54320),l=n.n(u);function a(t,e){const n=t.reduce((t,e)=>(e.appliedCategories.forEach(e=>{t[e]=!0}),t),{});return e.forEach((t,e)=>{null!==t&&t.length>0&&(n[e]=!0)}),n}function p(t){return t.reduce((t,e)=>(e.getAssigneeIds().forEach(e=>{t[e]=!0}),t),{})}function c(t){const e={},n=[];for(const r of t){const t=r.planId;r.isProjectTask()&&!e[t]&&(e[t]=r,n.push(r))}return n}function d(t,e){return s()(t,t=>!l()(e.checklist[t.id]?.orderHint)&&e.checklist[t.id]?.orderHint!==t.orderHint).length>0}function f(t,e){return i.Y.builder.withPropertyBag({id:t,title:"tempTask",planId:e}).build()}function g(t,e,n){const i=p(e);return t.filter(t=>i[t.id]||n.doesFilterValueExist(r.Gx.Assignment,t.id))}function h(t,e,n){let i=t.map((t,e)=>({categoryNumber:e,categoryName:t}));if(null!=e){const o=a(e,t);i=i.filter(t=>{let{categoryNumber:e}=t;return o[e]||n.doesFilterValueExist(r.Gx.Label,e)})}return i}}}]);
//# sourceMappingURL=7670.bc0435d1.chunk.js.map