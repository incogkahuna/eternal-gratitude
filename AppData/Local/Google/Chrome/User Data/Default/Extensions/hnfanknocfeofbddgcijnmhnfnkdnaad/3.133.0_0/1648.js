/*! For license information please see 1648.js.LICENSE.txt */
try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="406af83d-6d97-4888-97c6-7c018441c518",e._sentryDebugIdIdentifier="sentry-dbid-406af83d-6d97-4888-97c6-7c018441c518")}()}catch(e){}!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"3.133.0-398e03"}}catch(e){}}(),(self.webpackChunkcb_wallet_extension=self.webpackChunkcb_wallet_extension||[]).push([[1648],{8609:(e,t,n)=>{n.d(t,{SH:()=>A,_6:()=>_,cY:()=>b});var r,o=n(14041),a=n(13394),s=n(69446),i=n(89771),c=n(66656),u=n(47075);e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var l,d,p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},f=new s.j("lastTxScannerRequest",void 0,i.q.LocalStorage),m=new s.j("lastTxScannerResult",void 0,i.q.LocalStorage);function A(e,t){try{c.i.set(f,(0,u.A)({transaction:e,dappURL:t}))}catch(e){(0,a.gf)({error:e,context:"data_layer",severity:"error",isHandled:!0})}}function _(e){try{c.i.set(m,(0,u.A)(e))}catch(e){(0,a.gf)({error:e,context:"data_layer",severity:"error",isHandled:!0})}}function T(){var e,t,n=c.i.get(f),r=c.i.get(m);return"string"==typeof n&&(e=(0,u.q)(n)),"string"==typeof r&&(t=(0,u.q)(r)),{request:e,result:t}}function b(e){var t=e.clipboard,n=(0,o.useRef)(1);return(0,o.useCallback)((function(){if(n.current>=5&&n.current%5==0)try{var e=T(),r=e.request,o=e.result;t((0,u.A)({request:r,result:o}))}catch(e){(0,a.gf)({error:e,context:"data_layer",severity:"error",isHandled:!0})}n.current+=1}),[t])}p(b,"useRef{numClicks}\nuseCallback{}"),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(l.register(f,"StoreKeys_lastTxScannerRequest","/workspaces/libs/data/stores/TxScanner/hooks/useCopyTxScannerResultsToClipboard.tsx"),l.register(m,"StoreKeys_lastTxScannerResult","/workspaces/libs/data/stores/TxScanner/hooks/useCopyTxScannerResultsToClipboard.tsx"),l.register(A,"cacheTxScannerRequest","/workspaces/libs/data/stores/TxScanner/hooks/useCopyTxScannerResultsToClipboard.tsx"),l.register(_,"cacheTxScannerResult","/workspaces/libs/data/stores/TxScanner/hooks/useCopyTxScannerResultsToClipboard.tsx"),l.register(T,"getCachedTxScannerData","/workspaces/libs/data/stores/TxScanner/hooks/useCopyTxScannerResultsToClipboard.tsx"),l.register(b,"useCopyTxScannerResultsToClipboard","/workspaces/libs/data/stores/TxScanner/hooks/useCopyTxScannerResultsToClipboard.tsx")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)},69148:(e,t,n)=>{n.d(t,{f:()=>u});var r,o,a,s=n(66181),i=n(14928),c=n(58524);function u(){var e=(0,s.l)((0,i.T)("kill_switch_transaction_preview"));return!c.$9&&!e}e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(u,"useKillSwitch{isKillSwitched}",(function(){return[s.l]})),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&o.register(u,"useIsTxPreviewEnabled","/workspaces/libs/data/stores/TxScanner/hooks/useIsTxPreviewEnabled.tsx"),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&a(e)},62759:(e,t,n)=>{n.d(t,{s:()=>k});var r,o=n(14041),a=n(71847),s=n(98053),i=n(52042),c=n(53769),u=n(16835),l=n(69148);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(){"use strict";var e=b(),t=e.m(p),n=(Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__).constructor;function r(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===n||"GeneratorFunction"===(t.displayName||t.name))}var o={throw:1,return:2,break:3,continue:3};function a(e){var t,n;return function(r){t||(t={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(e,t){return n(r.a,o[e],t)},delegateYield:function(e,o,a){return t.resultName=o,n(r.d,f(e),a)},finish:function(e){return n(r.f,e)}},n=function(e,n,o){r.p=t.prev,r.n=t.next;try{return e(n,o)}finally{t.next=r.n}}),t.resultName&&(t[t.resultName]=r.v,t.resultName=void 0),t.sent=r.v,t.next=r.n;try{return e.call(this,t)}finally{r.p=t.prev,r.n=t.next}}}return(p=function(){return{wrap:function(t,n,r,o){return e.w(a(t),n,r,o&&o.reverse())},isGeneratorFunction:r,mark:e.m,awrap:function(e,t){return new g(e,t)},AsyncIterator:T,async:function(e,t,n,o,s){return(r(t)?_:A)(a(e),t,n,o,s)},keys:m,values:f}})()}function f(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}throw new TypeError(d(e)+" is not iterable")}function m(e){var t=Object(e),n=[];for(var r in t)n.unshift(r);return function e(){for(;n.length;)if((r=n.pop())in t)return e.value=r,e.done=!1,e;return e.done=!0,e}}function A(e,t,n,r,o){var a=_(e,t,n,r,o);return a.next().then((function(e){return e.done?e.value:a.next()}))}function _(e,t,n,r,o){return new T(b().w(e,t,n,r),o||Promise)}function T(e,t){function n(r,o,a,s){try{var i=e[r](o),c=i.value;return c instanceof g?t.resolve(c.v).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(c).then((function(e){i.value=e,a(i)}),(function(e){return n("throw",e,a,s)}))}catch(e){s(e)}}var r;this.next||(E(T.prototype),E(T.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),E(this,"_invoke",(function(e,o,a){function s(){return new t((function(t,r){n(e,a,t,r)}))}return r=r?r.then(s,s):s()}),!0)}function b(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var c=r&&r.prototype instanceof i?r:i,u=Object.create(c.prototype);return E(u,"_invoke",function(n,r,o){var a,i,c,u=0,l=o||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return a=t,i=0,c=e,p.n=n,s}};function f(n,r){for(i=n,c=r,t=0;!d&&u&&!o&&t<l.length;t++){var o,a=l[t],f=p.p,m=a[2];n>3?(o=m===r)&&(c=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=e):a[0]<=f&&((o=n<2&&f<a[1])?(i=0,p.v=r,p.n=a[1]):f<m&&(o=n<3||a[0]>r||r>m)&&(a[4]=n,a[5]=r,p.n=m,i=0))}if(o||n>1)return s;throw d=!0,r}return function(o,l,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===l&&f(l,m),i=l,c=m;(t=i<2?e:c)||!d;){a||(i?i<3?(i>1&&(p.n=-1),f(i,c)):p.n=c:p.v=c);try{if(u=2,a){if(i||(o="next"),t=a[o]){if(!(t=t.call(a,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,i<2&&(i=0)}else 1===i&&(t=a.return)&&t.call(a),i<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=e}else if((t=(d=p.n<0)?c:n.call(r,p))!==s)break}catch(t){a=e,i=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,o,a),!0),u}var s={};function i(){}function c(){}function u(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(E(t={},r,(function(){return this})),t),d=u.prototype=i.prototype=Object.create(l);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,E(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,E(d,"constructor",u),E(u,"constructor",c),c.displayName="GeneratorFunction",E(u,o,"GeneratorFunction"),E(d),E(d,o,"Generator"),E(d,r,(function(){return this})),E(d,"toString",(function(){return"[object Generator]"})),(b=function(){return{w:a,m:p}})()}function E(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}E=function(e,t,n,r){function a(t,n){E(e,t,(function(e){return this._invoke(t,n,e)}))}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(a("next",0),a("throw",1),a("return",2))},E(e,t,n,r)}function g(e,t){this.v=e,this.k=t}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=d(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==d(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t,n,r,o,a,s){try{var i=e[a](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,o)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){v(a,r,o,s,i,"next",e)}function i(e){v(a,r,o,s,i,"throw",e)}s(void 0)}))}}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,s,i=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var w,I,O="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},x="".concat(c.wh,"_cache_key1"),L="".concat(i.xW,"_cache_key1");function k(e){var t=e.queryClient,r=e.queryKey,a=e.logTimeout,s=e.scannerService,i=(0,o.useRef)(),c=R((0,o.useState)(!1),2),u=c[0],l=c[1],d=P(s),f=(0,o.useCallback)((function(e){l(!1);var o=null!=d?d:5e3;i.current={timeout:n.g.setTimeout(h(p().mark((function n(){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i.current=void 0,n.next=3,t.cancelQueries(r);case 3:a(S(S({},e),{},{timeoutLength:o})),l(!0);case 5:case"end":return n.stop()}}),n)}))),o),startTime:Date.now(),timeoutLength:o,props:e}}),[t,r,d,a]),m=(0,o.useCallback)((function(){var e;i.current&&(clearTimeout(null===(e=i.current)||void 0===e?void 0:e.timeout),i.current=void 0)}),[]);return(0,o.useEffect)((function(){if(i.current&&d){var e=Date.now()-i.current.startTime;if(!(e>i.current.timeoutLength)){clearTimeout(i.current.timeout);var o=S(S({},i.current.props),{},{timeoutLength:d});i.current=S(S({},i.current),{},{timeout:n.g.setTimeout(function(){var e=h(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.current=void 0,e.next=3,t.cancelQueries(r);case 3:a(o),l(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d-e)})}}}),[d,a,t,r]),{startRequestTimeout:f,clearRequestTimeout:m,hasRequestTimedOut:u}}function P(e){var t=(0,l.f)(),n=(0,a.x)("message_scanner"),r=e===u.I.TX_SCANNER,o=r?t:n,d=r?x:L,p=r?c.d6:i.eA,f=(0,s.I)([d],p,{staleTime:6e4,retry:!1,enabled:o});return null==f?void 0:f.data}O(k,"useRef{timeoutRef}\nuseState{[hasRequestTimedOut, setRequestTimedOut](false)}\nuseConfiguredTimeout{configuredTimeout}\nuseCallback{startRequestTimeout}\nuseCallback{clearRequestTimeout}\nuseEffect{}",(function(){return[P]})),O(P,"useIsTxPreviewEnabled{isTxPreviewEnabled}\nuseIsFeatureEnabled{isMessageScannerEnabled}\nuseQuery{timeout}",(function(){return[l.f,a.x,s.I]})),(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(w.register(x,"TX_SCANNER_TIMEOUT_CACHE_KEY","/workspaces/libs/data/stores/TxScanner/hooks/useStartRequestTimeout.tsx"),w.register(L,"MESSAGE_SCANNER_TIMEOUT_CACHE_KEY","/workspaces/libs/data/stores/TxScanner/hooks/useStartRequestTimeout.tsx"),w.register(k,"useStartRequestTimeout","/workspaces/libs/data/stores/TxScanner/hooks/useStartRequestTimeout.tsx"),w.register(P,"useConfiguredTimeout","/workspaces/libs/data/stores/TxScanner/hooks/useStartRequestTimeout.tsx")),(I="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&I(e)},28556:(e,t,n)=>{n.d(t,{Q:()=>c});var r,o=n(10611),a=n(16835);e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var s,i;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function c(e,t,n){var r=t===o.D.whitelisted.SOLANA_MAINNET.chainId;if(t){var s=e.filter((function(e){return e.operationType===a.S.BALANCE_TRANSFER||e.operationType===a.S.BALANCE_TRANSFER_RANGE})).map((function(e){var o;return{code:e.currencyCode,chainId:t.toString(),networkId:n,contractAddress:r?e.contractAddress:null===(o=e.contractAddress)||void 0===o?void 0:o.toLowerCase()}}));if(null!=s&&s.length)return s}}(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&s.register(c,"getAssetsFromOperations","/workspaces/libs/data/stores/TxScanner/utils/getAssetsFromOperations.tsx"),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)},61513:(e,t,n)=>{n.d(t,{B:()=>K});var r=n(14041),o=n(41513),a=n(84141),s=n(48087),i=n(99172),c=n(8609),u=n(32183),l=n(8867),d=n(10611),p=n(4244),f=n(7077),m=n(2775),A=n(16835),_=n(52800);const T=19,b=22;function E(e,t){return t?"+":0n!==e?"\u2212":""}const g=(0,u.YK)({unlimitedTokens:{id:"kNNL7s",defaultMessage:"Unlimited {currencyCode}"},unknownCollection:{id:"oM/YKG",defaultMessage:"Unknown collection"},itemApproval:{id:"TY5zEf",defaultMessage:"{collectionName} {nftName}"},itemTransfer:{id:"aJ49yB",defaultMessage:"{symbol}{quantity}{collectionName} {nftName}"},balanceTransfer:{id:"yYDXiS",defaultMessage:"{symbol}{cryptoAmount}"}});function y({operations:e,userWalletAddress:t,network:n,largeTextCharLimit:o=T,smallTextCharLimit:a=b,exchangeRatesMap:s,activeFiatCurrency:i}){const c=n?.asChain()?.chainId===d.D.whitelisted.SOLANA_MAINNET.chainId,{formatters:u}=(0,l.A)(),{formatToCrypto:y}=(0,p.J9)(),{formatMessage:S}=(0,l.A)(),N=(0,r.useCallback)((function(e){return y({value:e.amountValue,currencyCode:e.currencyCode,decimals:BigInt(e.decimals),includeCode:!0,maxDisplayDecimals:8n,shouldDisplayDustAmount:!1})}),[y]),v=(0,r.useCallback)((function(e){return(0,f.c)({fromCurrencyCode:e.currencyCode,decimals:BigInt(e.decimals),value:e.amountValue,contractAddress:c?e.contractAddress:e.contractAddress?.toLowerCase(),network:n,exchangeRatesMap:s,fiatCurrency:i,formatters:u})}),[i,s,u,c,n]),h=(0,r.useCallback)((e=>{let r,l,d="";switch(e.operationType){case A.S.ITEM_APPROVAL:d=S(g.itemApproval,{collectionName:e.collectionName,nftName:e.NFTName});break;case A.S.ITEM_APPROVAL_ALL:d=e.collectionName||S(g.unknownCollection);break;case A.S.ITEM_TRANSFER:{l=e.toAddress.toLowerCase()===t.toLowerCase();const n=(0,_.Ee)(e,l),r=n>1n?`${n} `:"";d=S(g.itemTransfer,{symbol:l?"+":"\u2212",collectionName:e.collectionName,nftName:e.NFTName,quantity:r});break}case A.S.BALANCE_APPROVAL:if(0n===e.amountValue){d=e.currencyCode.rawValue;break}if(e.currentBalanceValue&&e.currentBalanceValue<e.amountValue){d=S(g.unlimitedTokens,{currencyCode:e.currencyCode.rawValue});break}d=N(e)||"";break;case A.S.BALANCE_TRANSFER:{l=e.toAddress.toLowerCase()===t.toLowerCase();const n=N(e),o=v(e),a=E(e.amountValue,l);d=S(g.balanceTransfer,{symbol:a,cryptoAmount:n||""}),o&&(r=o.toString());break}case A.S.BALANCE_TRANSFER_RANGE:{l=e.toAddress.toLowerCase()===t.toLowerCase();const o=(0,_.DH)(e,l),a=y({value:o,currencyCode:e.currencyCode,decimals:BigInt(e.decimals),includeCode:!0,maxDisplayDecimals:8n,shouldDisplayDustAmount:!1}),p=(0,f.c)({fromCurrencyCode:e.currencyCode,decimals:BigInt(e.decimals),value:o,contractAddress:c?e.contractAddress:e.contractAddress?.toLowerCase(),network:n,exchangeRatesMap:s,formatters:u,fiatCurrency:i}),m=E(o,l);d=S(g.balanceTransfer,{symbol:m,cryptoAmount:a||""}),p&&(r=p.toString());break}}return{fullString:d,subscriptString:r,shortenedStringLargeFont:(0,m.Eu)(d,o),shortenedStringSmallFont:(0,m.Eu)(d,a),isTokenBeingDepositedIntoWallet:l}}),[o,a,S,t,N,v,y,c,n,s,u,i]);return(0,r.useMemo)((()=>{let t=!1;return{content:e.map((function(e){const n=h(e);return n.fullString.length>o&&(t=!0),n})),contentExceedsCharLimit:t}}),[e,h,o])}var S,N=n(72127),v=n(31013),h=n(2673),R=n(15654),C=n(55799),w=n(59600),I=n(79683),O=n(86382),x=n(67209),L=n(39262),k=n(60149),P=n(94330),M=n(31085);function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=B(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=B(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==B(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,s,i=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return V(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}e=n.hmd(e),(S="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&S(e);var j="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},H="vlzlpab",W=(0,r.memo)((function(e){var t=e.isPreAuthorizedOperation,n=e.content,r=n.fullString,o=n.subscriptString,a=n.shortenedStringSmallFont,s=n.shortenedStringLargeFont,i=n.isTokenBeingDepositedIntoWallet,c=e.showSmallerFontSizes,u=c?a:s,l=r!==u,d=!t&&i?"fgPositive":void 0,p=o&&(0,M.jsx)(x.V,{as:"span",paddingX:1,color:"fgMuted",testID:"subscript-text",paddingBottom:1,children:o}),f=c?(0,M.jsxs)(R.T,{children:[(0,M.jsx)(L.w,{as:"span",color:d,testID:"headline-text",children:u}),p]}):(0,M.jsxs)(R.T,{children:[(0,M.jsx)(k.f,{as:"span",color:d,children:u}),p]});return l?(0,M.jsx)(O.m,{testID:"cb-tooltip",content:r,placement:"bottom",children:f}):f})),Q=(0,r.memo)(j((function(e){var t=e.operations,n=e.networkChainId,a=e.testIdPrefix,s=void 0===a?"icon-list":a,i=t.length>4,c=t.map((function(e){switch(e.operationType){case A.S.ITEM_TRANSFER:case A.S.ITEM_APPROVAL:case A.S.ITEM_APPROVAL_ALL:return e.shouldUseRemoteImage?(0,M.jsx)(w.W,{source:e.imageUrl,testID:"remote-image-item",height:"45px",width:"45px",size:"xl",borderColor:"bgLine"},"".concat(e.operationType,"-").concat(Math.random())):(0,M.jsx)(N.Vz,{imageUrl:e.imageUrl,borderColor:"bgLine",chainId:n||"",width:"40px",height:"40px"},"".concat(e.operationType,"-").concat(Math.random()));case A.S.BALANCE_TRANSFER:case A.S.BALANCE_TRANSFER_RANGE:case A.S.BALANCE_APPROVAL:return(0,M.jsx)(w.W,{source:e.imageUrl,shape:"circle",size:"xl",borderColor:"bgLine"},"".concat(e.operationType,"-").concat(Math.random()));default:return null}})),u=(0,r.useMemo)((function(){return c.reduce((function(e,t,n){return t?(n%8==0&&e.push([]),e[e.length-1].push(t),e):e}),[]).map((function(e,t){var n;return(0,M.jsx)(I.r,{size:"xl",max:Number.POSITIVE_INFINITY,testID:"".concat(s,"-group-").concat(t),children:e.map((function(e){return(0,M.jsx)(r.Fragment,{children:e},Math.random())}))},"icon-group-".concat(null===(n=e[0])||void 0===n?void 0:n.key))}))}),[c,s]);return(0,M.jsx)("div",{className:i?(0,o.cx)(H):void 0,style:{isolation:"isolate"},children:u})}),"useMemo{remoteImageGroupElements}")),q=(0,r.memo)(j((function(e){var t=e.operations,n=e.addTopSpacing,o=void 0!==n&&n,a=e.isPreAuthorizedOperations,i=e.operationsContent,c=e.showSmallerFontSizes,u=e.isRevokeOperation,l=e.networkChainId,d=e.operationSource,p=void 0===d?A.I.TX_SCANNER:d,f=(0,s.S)(p),m=F((0,r.useMemo)((function(){var e="",t="";return u?(e=f.revokeAllowanceHeader,t=f.revokeAllowanceTooltipContent):a?(e=f.preauthorizeHeader,t=f.preauthorizeTooltipContent):(e=f.assetChangeHeader,t=f.assetChangeTooltipContent),[e,t]}),[f,a,u]),2),_=m[0],T=m[1];return t.length?(0,M.jsxs)(C.a,{flexDirection:"column",paddingTop:o?2:0,children:[(0,M.jsxs)(C.a,{paddingBottom:2,alignItems:"center",children:[(0,M.jsx)(P.C,{as:"div",children:_}),(0,M.jsx)(O.m,{content:T,placement:"bottom",children:(0,M.jsx)(h.In,{testID:a?"cb-preauthorize-warning":"cb-asset-changes-warning",name:"info",size:"xs",color:"fgMuted",paddingStart:1})})]}),(0,M.jsxs)(C.a,{justifyContent:"space-between",alignItems:"center",children:[(0,M.jsx)(C.a,{flexDirection:"column",children:i.map((function(e){return(0,M.jsx)(W,{content:e,isPreAuthorizedOperation:a,showSmallerFontSizes:c},Math.random())}))}),(0,M.jsx)(Q,{operations:t,networkChainId:l,testIdPrefix:a?"preauth-icon-list":"asset-change-icon-list"})]})]}):null}),"useTxPreviewMessages{txPreviewMessages}\nuseMemo{[headerMessage, headerTooltipContent]}",(function(){return[s.S]})));function X(e){var t=e.userWalletAddress,n=e.parsedOperations,o=n.assetChangeOperations,s=n.preAuthorizeOperations,u=e.analyticsData,l=e.txScannerLoadStartTime,d=e.resetLoadTimer,p=e.isRevokeOperation,f=e.networkChainId,m=e.network,A=e.operationSource,_=e.exchangeRatesMap,T=e.activeFiatCurrency,b=(0,v.i)(),E=(0,r.useMemo)((function(){if(l){var e=Date.now()-l;return d(),e}}),[d,l]),g=(0,r.useMemo)((function(){return null!=m?m:i.lg.fromChainId({chainId:BigInt(null!=f?f:1)})}),[m,f]),S=y({operations:o,userWalletAddress:t,network:g,exchangeRatesMap:_,activeFiatCurrency:T}),N=S.content,h=S.contentExceedsCharLimit,R=y({operations:s,userWalletAddress:t,network:g,exchangeRatesMap:_,activeFiatCurrency:T}),w=R.content,I=R.contentExceedsCharLimit;(0,a.$d)(G(G({},u),{},{elapsedTimeToRenderTxPreviewComponent:E}));var O=(0,c.cY)({clipboard:b});return(0,M.jsxs)(C.a,{background:"bgAlternate",paddingX:3,paddingY:2,flexDirection:"column",onClick:O,testID:"tx-preview-component",children:[(0,M.jsx)(q,{operations:s,isPreAuthorizedOperations:!0,operationsContent:w,showSmallerFontSizes:h||I,isRevokeOperation:p,networkChainId:f,operationSource:A}),(0,M.jsx)(q,{operations:o,isPreAuthorizedOperations:!1,addTopSpacing:s.length>0,operationsContent:N,showSmallerFontSizes:h||I,networkChainId:f,operationSource:A})]})}j(X,"useClipboard{clipboard}\nuseMemo{elapsedTimeToRenderTxPreviewComponent}\nuseMemo{resolvedNetwork}\nuseTextDetailsForOperations{{\n    content: assetChangeOperationsContent,\n    contentExceedsCharLimit: assetChangeShowSmallFontSize\n  }}\nuseTextDetailsForOperations{{\n    content: preAuthorizeOperationsContent,\n    contentExceedsCharLimit: preAuthShowSmallFontSize\n  }}\nuseTriggerTxPreviewLoaded{}\nuseCopyTxScannerResultsToClipboard{txPreviewClicked}",(function(){return[v.i,y,y,a.$d,c.cY]}));var z,Y,K=(0,r.memo)(X);n(24770),(z="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(z.register(H,"verticalIconGroupContainer","/workspaces/libs/wallet-cds-web/components/TxPreview/TxPreview.tsx"),z.register(W,"TokenContent","/workspaces/libs/wallet-cds-web/components/TxPreview/TxPreview.tsx"),z.register(Q,"IconGroup","/workspaces/libs/wallet-cds-web/components/TxPreview/TxPreview.tsx"),z.register(q,"OperationGroup","/workspaces/libs/wallet-cds-web/components/TxPreview/TxPreview.tsx"),z.register(X,"TxPreviewComponent","/workspaces/libs/wallet-cds-web/components/TxPreview/TxPreview.tsx"),z.register(K,"TxPreview","/workspaces/libs/wallet-cds-web/components/TxPreview/TxPreview.tsx")),(Y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&Y(e)},44080:(e,t,n)=>{n.d(t,{l:()=>g});var r,o=n(14041),a=n(48087),s=n(16835),i=n(2673),c=n(55799),u=n(84492),l=n(86382),d=n(14787),p=n(66809),f=n(525),m=n(5295),A=n(67209),_=n(31085);function T(e){var t=e.operationSource,n=void 0===t?s.I.TX_SCANNER:t,r=(0,a.S)(n);return(0,_.jsxs)(c.a,{flexDirection:"column",dangerouslySetBackground:"rgb(var(--gray15))",paddingX:3,paddingY:2,testID:"tx-scanner-fallback",children:[(0,_.jsxs)(u.z,{children:[(0,_.jsx)(A.V,{as:"p",color:"fgMuted",children:r.fallbackTitle}),(0,_.jsx)(l.m,{content:r.assetChangeTooltipContent,placement:"bottom",children:(0,_.jsx)(i.In,{testID:"dapp-transaction-safety-tooltip-icon",name:"info",size:"xs",color:"fgMuted",paddingStart:.5})})]}),(0,_.jsx)(d.X,{children:(0,_.jsx)(p.B,{children:(0,_.jsx)(f.H,{className:y,children:(0,_.jsx)(m.v,{title:!0,end:"pictogram",innerSpacing:{paddingX:0,paddingTop:0}})})})})]})}e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(T,"useTxPreviewMessages{txPreviewMessages}",(function(){return[a.S]}));var b,E,g=(0,o.memo)(T),y="s4pjp9p";n(44830),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(b.register(T,"TxScannerFallback","/workspaces/libs/wallet-cds-web/components/TxPreviewFallback/TxPreviewFallback.tsx"),b.register(g,"TransactionScannerFallback","/workspaces/libs/wallet-cds-web/components/TxPreviewFallback/TxPreviewFallback.tsx"),b.register(y,"style","/workspaces/libs/wallet-cds-web/components/TxPreviewFallback/TxPreviewFallback.tsx")),(E="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&E(e)},24770:(e,t,n)=>{n.r(t)},44830:(e,t,n)=>{n.r(t)},44002:(e,t,n)=>{n.d(t,{xs:()=>_,mM:()=>f,R5:()=>u,hQ:()=>l,PK:()=>i,bG:()=>c,Ru:()=>d,HO:()=>p,h_:()=>A,UD:()=>m});var r=n(34767),o=n(55452);const a={WEB_3_REQUEST_SCAN_TX_INVOKED:"scan_tx.web3_request.scan_tx_invoked",WEB_3_REQUEST_SCAN_TX_SUCCESS:"scan_tx.web3_request.scan_tx_success",WEB_3_REQUEST_SCAN_TX_TIMEOUT:"scan_tx.web3_request.scan_tx_timeout",WEB_3_REQUEST_SCAN_TX_UNHANDLED_OPERATION_TYPE:"scan_tx.web3_request.scan_tx_unhandled_operation_type",WEB_3_REQUEST_SCAN_TX_ERROR:"scan_tx.web3_request.scan_tx_error",WEB_3_REQUEST_SCAN_TX_INVALID_QUERY:"scan_tx.web3_request.scan_tx_invalid_query",WEB_3_REQUEST_GET_CRYPTO_CURRENCIES_SUCCESS:"scan_tx.web3_request.get_crypto_currencies_success",WEB_3_REQUEST_GET_CRYPTO_CURRENCIES_IMAGE_NOT_FOUND:"scan_tx.web3_request.get_crypto_currencies_image_not_found",WEB_3_REQUEST_GET_CRYPTO_CURRENCIES_ERROR:"scan_tx.web3_request.get_crypto_currencies_error",WEB_3_REQUEST_PARSING_ERROR:"scan_tx.web3_request.parsing_error",WEB_3_REQUEST_TOKEN_IMAGE_NOT_RETURNED:"scan_tx.web3_request.token_image_not_returned",WEB_3_REQUEST_SUCCESSFULLY_PARSED_WITH_OPERATION_DETAILS:"scan_tx.web3_request.SUCCESSFULLY_PARSED_WITH_OPERATION_DETAILS",SCAN_TX_NATIVE_SEND_ANOMALY:"scan_tx.native_send_anomaly"};function s(e,t){const n={blockchain:t.blockchain,walletType:t.walletType,simulationEnabled:t.simulationEnabled,operationType:t.operationType,isInvokedFromNativeSend:t.isInvokedFromNativeSend};return(0,o.N8)({metricName:e,metricType:r.vj.count,value:1,tags:{...n}}),(0,o.Np)(e,t)}function i(e){s(a.WEB_3_REQUEST_SCAN_TX_SUCCESS,e)}function c(e){s(a.WEB_3_REQUEST_SCAN_TX_TIMEOUT,e)}function u(e){s(a.WEB_3_REQUEST_SCAN_TX_UNHANDLED_OPERATION_TYPE,e)}function l(e){s(a.WEB_3_REQUEST_SCAN_TX_INVALID_QUERY,e)}function d(e){s(a.WEB_3_REQUEST_SCAN_TX_ERROR,e)}function p(e){s(a.WEB_3_REQUEST_SCAN_TX_INVOKED,e)}function f(e,t){const n={operationType:e,errorMessage:t?.message,errorName:t?.name};var r,s;r=a.WEB_3_REQUEST_PARSING_ERROR,s=n,(0,o.Np)(r,s)}function m(e){s(a.WEB_3_REQUEST_TOKEN_IMAGE_NOT_RETURNED,{dappURL:"",request:"",...e})}function A(e){s(a.WEB_3_REQUEST_SUCCESSFULLY_PARSED_WITH_OPERATION_DETAILS,e)}function _(e){s(a.SCAN_TX_NATIVE_SEND_ANOMALY,e)}},84141:(e,t,n)=>{n.d(t,{zE:()=>i,NN:()=>s,RQ:()=>c,Dw:()=>l,$d:()=>u,wl:()=>m,uE:()=>d,x6:()=>p,oM:()=>f,wZ:()=>A});var r=n(34767),o=n(55452);const a={WEB3_REQUEST_TX_GENERATION_START:"sign_transaction.web3_request.tx_generation_start",WEB3_REQUEST_TX_GENERATION_ERROR:"sign_transaction.web3_request.tx_generation_error",SIGN_TRANSACTION_WEB3_REQUEST_SENDING_SUCCESS_RESPONSE:"sign_transaction.web3_request.sending_success",WEB3_REQUEST_SENDING_CANCELED_RESPONSE:"sign_transaction.web3_request.sending_canceled",SIGN_TRANSACTION_WEB3_REQUEST_TRANSACTION_REQUEST_VIEWED:"sign_transaction.web3_request.transaction_request_viewed",SIGN_TRANSACTION_WEB3_REQUEST_FRAUD_WARNING_CONFIRMATION_POPUP_REQUEST_VIEWED:"sign_transaction.web3_request.fraud_warning_confirmation_popup_request_viewed",SIGN_TRANSACTION_WEB3_REQUEST_FRAUD_WARNING_CONFIRMATION_BACK_BUTTON_CLICKED:"sign_transaction.web3_request.fraud_warning_confirmation_back_button_clicked",TX_APPROVAL_COMPONENT_LOADED:"tx_approval_component_loaded",SIGN_TRANSACTION_WEB3_REQUEST_TX_PREVIEW_COMPONENT_LOADED:"sign_transaction_web3_request.tx_preview_component_loaded",SIGN_TRANSACTION_WEB3_REQUEST_TX_ERROR_COMPONENT_LOADED:"sign_transaction_web3_request.tx_error_component_loaded",SIGN_TRANSACTION_WEB3_REQUEST_CONFIRM_TRANSACTION_CLICKED:"sign_transaction.web3_request.confirm_transaction_clicked",SIGN_TRANSACTION_WEB3_REQUEST_FRAUD_WARNING_CONFIRMATION_CLICKED:"sign_transaction.web3_request.fraud_warning_confirmation_clicked",SIGN_TRANSACTION_WEB3_REQUEST_SIGN_TRANSACTION_ERROR:"sign_transaction.web3_request.sign_transaction_error",SIGN_TRANSACTION_REQUEST_CONFIRM_BUTTON_ENABLED:"sign_transaction.web3_request.confirm_button_enabled"};function s(e){(0,o.cp)(a.SIGN_TRANSACTION_WEB3_REQUEST_TRANSACTION_REQUEST_VIEWED,{loggingId:"396c898f-c5ab-4f7a-ba3e-43fd9f3858d6",componentType:r.I5.page,action:r.X2.view,dapp:e?.dappURL,...e})}function i(e){(0,o.cp)(a.SIGN_TRANSACTION_WEB3_REQUEST_FRAUD_WARNING_CONFIRMATION_POPUP_REQUEST_VIEWED,{loggingId:"92cd7a0a-6f1c-49af-a386-3184464d8634",action:r.X2.view,componentType:r.I5.page,dapp:e.dappURL,...e})}function c(e){return(0,o.gd)(a.SIGN_TRANSACTION_WEB3_REQUEST_FRAUD_WARNING_CONFIRMATION_BACK_BUTTON_CLICKED,{action:r.X2.click,componentType:r.I5.button,dapp:e.dappURL,...e})}function u(e){(0,o.cp)(a.SIGN_TRANSACTION_WEB3_REQUEST_TX_PREVIEW_COMPONENT_LOADED,{loggingId:"21817d96-e697-4b8d-bba3-48fed57a6b1c",action:r.X2.render,componentType:r.I5.unknown,dapp:e.dappURL,...e})}function l(e){(0,o.cp)(a.SIGN_TRANSACTION_WEB3_REQUEST_TX_ERROR_COMPONENT_LOADED,{loggingId:"68c3b689-4c11-427f-a034-b310700f77a1",action:r.X2.render,componentType:r.I5.unknown,dapp:e.dappURL,...e})}function d(e){const t=(0,o.gd)(a.SIGN_TRANSACTION_WEB3_REQUEST_CONFIRM_TRANSACTION_CLICKED,{loggingId:"1529a00c-267c-48af-b931-2a82e93ba27c",action:r.X2.click,componentType:r.I5.button,dapp:e.dappURL,...e},r.$c.high);return()=>{(0,o.N8)({metricType:r.vj.count,metricName:a.SIGN_TRANSACTION_WEB3_REQUEST_CONFIRM_TRANSACTION_CLICKED,value:1,tags:{web3_method:e.request,blockchain:e.blockchain,chain_id:e.chainId}}),t()}}function p(e){return(0,o.gd)(a.SIGN_TRANSACTION_WEB3_REQUEST_FRAUD_WARNING_CONFIRMATION_CLICKED,{loggingId:"b3e5390f-ebf7-4759-846c-34432edc8da2",action:r.X2.click,componentType:r.I5.button,dapp:e.dappURL,...e},r.$c.high)}function f(e){return(0,o.gd)(a.SIGN_TRANSACTION_WEB3_REQUEST_SENDING_SUCCESS_RESPONSE,{loggingId:"8723cd14-81d1-4c6d-9c6f-5ee9c94e63d7",action:r.X2.measurement,componentType:r.I5.unknown,dapp:e.dappURL,...e},r.$c.high)}function m(e){return(0,o.gd)("sign_transaction.web3_request.cancel_transaction_clicked",{loggingId:"18c2d6a6-0b8f-4af1-b5e0-f0c1496bbd26",action:r.X2.click,componentType:r.I5.button,dapp:e.dappURL,...e},r.$c.high)}function A(e){return(0,o.gd)(a.SIGN_TRANSACTION_WEB3_REQUEST_SIGN_TRANSACTION_ERROR,{...e.eventData,loggingId:"ad70b8de-b408-4ef6-9204-ee580c4d1025",action:r.X2.measurement,componentType:r.I5.unknown,dapp:e.dappURL,...e},r.$c.high)}},48087:(e,t,n)=>{n.d(t,{S:()=>c});var r=n(14041),o=n(32183),a=n(8867),s=n(16835);const i=(0,o.YK)({revokeAllowanceHeader:{id:"V8k0KX",defaultMessage:"Revoke allowance"},preauthorizeHeader:{id:"EJUMuc",defaultMessage:"Pre-authorize withdrawal"},assetChangeHeader:{id:"jmBafj",defaultMessage:"Asset changes (estimate)"},preauthorizeTooltipContentForTransaction:{id:"At6Faa",defaultMessage:"This preview is based on a simulation of the transaction."},preauthorizeTooltipContentForMessage:{id:"I1e1X5",defaultMessage:"This preview is based on a simulation of the message."},assetChangeTooltipContentForTransaction:{id:"AVv4Nz",defaultMessage:"For your safety, we simulate the transaction in advance. This estimate may not be accurate."},assetChangeTooltipContentForMessage:{id:"GKBpfP",defaultMessage:"For your safety, we simulate the message in advance. This estimate may not be accurate."},revokeAllowanceTooltipContent:{id:"9a1h4g",defaultMessage:"This removes a dapp's ability to withdraw a particular token or NFT from your wallet."},fallbackTitleForTransaction:{id:"OnGi2E",defaultMessage:"Previewing your transaction...."},fallbackTitleForMessage:{id:"mQXajY",defaultMessage:"Previewing your message...."},messagePreviewDisclaimer:{id:"hQZ6nd",defaultMessage:"By signing this request, you will allow the dapp to create a transaction for the above asset changes in the future. Those changes may not occur immediately."}});function c(e){const{formatMessage:t}=(0,a.A)();return(0,r.useMemo)((()=>({revokeAllowanceHeader:t(i.revokeAllowanceHeader),preauthorizeHeader:t(i.preauthorizeHeader),assetChangeHeader:t(i.assetChangeHeader),preauthorizeTooltipContent:e===s.I.TX_SCANNER?t(i.preauthorizeTooltipContentForTransaction):t(i.preauthorizeTooltipContentForMessage),assetChangeTooltipContent:e===s.I.TX_SCANNER?t(i.assetChangeTooltipContentForTransaction):t(i.assetChangeTooltipContentForMessage),revokeAllowanceTooltipContent:t(i.revokeAllowanceTooltipContent),fallbackTitle:e===s.I.TX_SCANNER?t(i.fallbackTitleForTransaction):t(i.fallbackTitleForMessage),messagePreviewDisclaimer:t(i.messagePreviewDisclaimer)})),[e,t])}},52042:(e,t,n)=>{n.d(t,{LU:()=>i,eA:()=>c,xW:()=>a});var r=n(16835),o=n(74146);const a="scanMessageTimeout",s="scanMessage";async function i(e,t,n,a){const i=`eth_sign_typed_data_${n}_params`,{result:c}=await(0,o.TB)(s,{[i]:{signer:e,data:t,domain:a}});return function(e){return e.decodedMessage.operations?.forEach((function(e){e.operationType===r.S.BALANCE_TRANSFER&&(e.balanceTransfer.amountRange?.startAmount.currency&&void 0===e.balanceTransfer.amountRange?.startAmount.currency.decimals&&(e.balanceTransfer.amountRange.startAmount.currency.decimals=0),e.balanceTransfer.amountRange?.endAmount.currency&&void 0===e.balanceTransfer.amountRange?.endAmount.currency.decimals&&(e.balanceTransfer.amountRange.endAmount.currency.decimals=0),e.balanceTransfer.currentBalance&&void 0===e.balanceTransfer.currentBalance.currency.decimals&&(e.balanceTransfer.currentBalance.currency.decimals=0)),e.operationType===r.S.BALANCE_APPROVAL&&(e.balanceApproval?.amount?.currency&&void 0===e.balanceApproval.amount.currency.decimals&&(e.balanceApproval.amount.currency.decimals=0),e.balanceApproval.currentBalance&&void 0===e.balanceApproval.currentBalance.currency.decimals&&(e.balanceApproval.currentBalance.currency.decimals=0),e.balanceApproval.allowance?.currency&&void 0===e.balanceApproval.allowance.currency.decimals&&(e.balanceApproval.allowance.currency.decimals=0))})),e}(c)}async function c(){const{result:e}=await(0,o.hm)(a,{}),t=e.timeout;if("number"!=typeof t)throw new Error("Invalid timeout");return t}},53769:(e,t,n)=>{n.d(t,{Zg:()=>i,d6:()=>c,wh:()=>s});var r=n(16835),o=n(74146);const a="scanTxV2",s="scanTxTimeout";async function i({txData:e,networkName:t,from:n,shouldSimulate:s,dappURL:i,entryPointAddress:c}){const u=`${a}${s?"?simulate=true":""}`,{result:l}=await(0,o.TB)(u,{txData:e,networkName:t,from:n,clientName:"walletMobile",domain:i,entrypoint:c});return function(e){return e.decodedTx.operations?.forEach((function(e){e.operationType===r.S.BALANCE_TRANSFER&&(e.balanceTransfer.amount.currency&&void 0===e.balanceTransfer.amount.currency.decimals&&(e.balanceTransfer.amount.currency.decimals=0),e.balanceTransfer.currentBalance&&void 0===e.balanceTransfer.currentBalance.currency.decimals&&(e.balanceTransfer.currentBalance.currency.decimals=0)),e.operationType===r.S.BALANCE_APPROVAL&&(e.balanceApproval?.amount?.currency&&void 0===e.balanceApproval.amount.currency.decimals&&(e.balanceApproval.amount.currency.decimals=0),e.balanceApproval.currentBalance&&void 0===e.balanceApproval.currentBalance.currency.decimals&&(e.balanceApproval.currentBalance.currency.decimals=0),e.balanceApproval.allowance?.currency&&void 0===e.balanceApproval.allowance.currency.decimals&&(e.balanceApproval.allowance.currency.decimals=0))})),e}(l)}async function c(){const{result:e}=await(0,o.hm)(s,{}),t=e.timeout;if("number"!=typeof t)throw new Error("Invalid timeout");return t}},16835:(e,t,n)=>{var r,o;n.d(t,{I:()=>o,S:()=>r}),function(e){e.BALANCE_APPROVAL="BALANCE_APPROVAL",e.ITEM_APPROVAL_ALL="ITEM_APPROVAL_ALL",e.ITEM_APPROVAL="ITEM_APPROVAL",e.ITEM_TRANSFER="ITEM_TRANSFER",e.CONTRACT_OWNERSHIP_TRANSFER="CONTRACT_OWNERSHIP_TRANSFER",e.BALANCE_TRANSFER="BALANCE_TRANSFER",e.BALANCE_TRANSFER_RANGE="BALANCE_TRANSFER_RANGE"}(r||(r={})),function(e){e.TX_SCANNER="TX_SCANNER",e.MESSAGE_SCANNER="MESSAGE_SCANNER"}(o||(o={}))},59484:(e,t,n)=>{n.d(t,{$:()=>s});var r=n(81415),o=n(16835),a=n(28992);function s(e,t){return e.reduce((function(n,s){switch(s.operationType){case o.S.ITEM_APPROVAL:if(s.spenderAddress.toLowerCase()===r.Gy)break;if(s.fromAddress.toLowerCase()!==t?.toLowerCase())break;s.isApprovedAddressEoa&&e.some((e=>e.operationType===o.S.ITEM_TRANSFER&&e.toAddress===s.spenderAddress))?n.preAuthorizeOperations.push({...s,isApprovedAddressEoa:!1}):n.preAuthorizeOperations.push(s);break;case o.S.ITEM_APPROVAL_ALL:if(s.fromAddress.toLowerCase()!==t?.toLowerCase())break;n.preAuthorizeOperations.push(s);break;case o.S.BALANCE_APPROVAL:e.find((e=>e.operationType===o.S.BALANCE_TRANSFER&&e.fromAddress.toLowerCase()===t?.toLowerCase()&&e.contractAddress?.toLowerCase()===s.contractAddress?.toLowerCase()&&s.allowanceValue-e.amountValue===s.amountValue&&0n!==e.amountValue))||n.preAuthorizeOperations.push(s);break;case o.S.ITEM_TRANSFER:case o.S.BALANCE_TRANSFER:if(s.operationType===o.S.BALANCE_TRANSFER&&(s.fromAddress===t||s.toAddress===t)){const e=(0,a.MH)(s,n,t);if(e)return e}(0,a.P2)(s,t,(()=>n.assetChangeOperations.unshift(s)),(()=>n.assetChangeOperations.push(s)));break;case o.S.BALANCE_TRANSFER_RANGE:if(s.fromAddress===t||s.toAddress===t){const e=(0,a.Bn)(s,n,t);if(e)return e}(0,a.P2)(s,t,(()=>n.assetChangeOperations.unshift(s)),(()=>n.assetChangeOperations.push(s)))}return n}),{preAuthorizeOperations:[],assetChangeOperations:[],hasAggregatedTransfers:!1})}},52800:(e,t,n)=>{function r(e){return o(e)?"seaport":function(e){return!0===e.types?.PermitSingle?.some((e=>"details"===e.name&&"PermitDetails"===e.type||"sigDeadline"===e.name&&"uint256"===e.type))}(e)?"permit2":function(e){return!0===e.types?.Order?.some((e=>"makeAsset"===e.name&&"Asset"===e.type||"takeAsset"===e.name&&"Asset"===e.type))}(e)?"rarible":""}function o(e){return!0===e.types?.OrderComponents?.some((e=>"offer"===e.name&&"OfferItem[]"===e.type||"consideration"===e.name&&"Consideration[]"===e.type))}function a(e){return"number"==typeof e.domain?.chainId}function s(e){return void 0!==e.message&&(e.message.offer?.length??0)>0||(e.message?.consideration?.length??0)>0}function i(e,t){return t?BigInt(Math.min(Number(e.startAmountValue),Number(e.endAmountValue))):BigInt(Math.max(Number(e.startAmountValue),Number(e.endAmountValue)))}function c(e,t){return e.startQuantity&&e.endQuantity?t?BigInt(Math.min(Number(e.startQuantity),Number(e.endQuantity))):BigInt(Math.max(Number(e.startQuantity),Number(e.endQuantity))):0n}n.d(t,{DH:()=>i,Ee:()=>c,HW:()=>r,O0:()=>s,V9:()=>o,Vy:()=>a})},28889:(e,t,n)=>{function r(e){const t=e.preAuthorizeOperations.some((e=>e.isSpenderAddressEoa||e.isOperatorAddressEoa||e.isApprovedAddressEoa)),n=e.preAuthorizeOperations.length,r=e.assetChangeOperations.length,o=n+r;if(n>0&&r>0)return{operationType:"MIXED_OPERATIONS",numberOfOperations:o,isPreAuthorizeOperationToAnEOA:t};if(n>1)return{operationType:"PRE_AUTHORIZE",numberOfOperations:o,isPreAuthorizeOperationToAnEOA:t};if(r>1)return{operationType:"ASSET_CHANGE",numberOfOperations:o};if(0===n&&0===r)return{operationType:"NO_VALID_OPERATIONS",numberOfOperations:0};return{operationType:(n?e.preAuthorizeOperations[0]:e.assetChangeOperations[0]).operationType,numberOfOperations:o}}n.d(t,{y:()=>r})},28992:(e,t,n)=>{n.d(t,{Bn:()=>l,MH:()=>u,P2:()=>c,ou:()=>i});var r=n(44002),o=n(52689),a=n(16835);function s(e,t){let n=0;if(t?.length){const e=t.find((e=>{try{n=Number(e.size.split("x")[0])}catch(e){return!1}return n>40&&n<250}));return e?e.url:t[0].url}(0,r.UD)(e)}function i(e,t){return e.reduce(((e,n)=>{try{switch(n.operationType){case a.S.BALANCE_APPROVAL:e.push(function(e){const{operationType:t,balanceApproval:{amount:{currency:{decimals:n,symbol:r,images:a,contractAddress:i},value:c},allowance:{value:u},currentBalance:l,spenderAddress:d,fromAddress:p,isSpenderAddressEoa:f}}=e,m={operationType:t,contractAddress:i};return{amountValue:BigInt(c),decimals:BigInt(n),spenderAddress:d,operationType:t,currencyCode:new o.j(r),currentBalanceValue:l?BigInt(l.value):void 0,imageUrl:s(m,a),fromAddress:p,isSpenderAddressEoa:Boolean(f),contractAddress:i,allowanceValue:BigInt(u)}}(n));break;case a.S.ITEM_TRANSFER:e.push(function({operationType:e,itemTransfer:{toAddress:t,collection:n,item:r,fromAddress:o,quantity:a,quantityRange:s,contractAddress:i}}){return{collectionName:n?.name,NFTName:r?.name||r?.tokenId&&`#${r.tokenId}`||"",tokenId:r?.tokenId,imageUrl:r?.imageUrl||n?.imageUrl,operationType:e,spenderAddress:t,fromAddress:o,toAddress:t,startQuantity:s?.startQuantity??a,endQuantity:s?.endQuantity??a,contractAddress:i}}(n));break;case a.S.ITEM_APPROVAL:e.push(function({operationType:e,itemApproval:{approvedAddress:t,fromAddress:n,item:r,collection:o,isApprovedAddressEoa:a}}){return{collectionName:o?.name,NFTName:r?.name||r?.tokenId,imageUrl:r?.imageUrl,operationType:e,spenderAddress:t,fromAddress:n,isApprovedAddressEoa:Boolean(a)}}(n));break;case a.S.ITEM_APPROVAL_ALL:e.push(function({itemApprovalAll:{operatorAddress:e,collection:t,ownerAddress:n,isRevoke:r,isOperatorAddressEoa:o},operationType:a}){return{operationType:a,collectionName:t?.name,spenderAddress:e,imageUrl:t?.imageUrl,fromAddress:n,isRevoke:r,isOperatorAddressEoa:Boolean(o)}}(n));break;case a.S.BALANCE_TRANSFER:e.push(function(e){if(e.balanceTransfer.amountRange){const{operationType:t,balanceTransfer:{amountRange:{startAmount:{currency:{decimals:n,symbol:r,contractAddress:i,images:c},value:u},endAmount:{value:l}},currentBalance:d,toAddress:p,fromAddress:f},validity:m}=e,A={operationType:t,contractAddress:i};return{operationType:a.S.BALANCE_TRANSFER_RANGE,startAmountValue:BigInt(u),endAmountValue:BigInt(l),currencyCode:new o.j(r),decimals:BigInt(n),spenderAddress:p,contractAddress:i,currentBalanceValue:d?BigInt(d.value):void 0,imageUrl:s(A,c),fromAddress:f,toAddress:p,validity:m}}const{operationType:t,balanceTransfer:{amount:{currency:{decimals:n,symbol:r,images:i,contractAddress:c},value:u},currentBalance:l,toAddress:d,fromAddress:p}}=e,f={operationType:t,contractAddress:c};return{amountValue:BigInt(u),decimals:BigInt(n),spenderAddress:d,operationType:t,contractAddress:c,currencyCode:new o.j(r),currentBalanceValue:l?BigInt(l.value):void 0,imageUrl:s(f,i),fromAddress:p,toAddress:d}}(n));break;default:{const e={request:t.request,dappURL:t.dappURL,blockchain:t.blockchain,isTxPreviewEnabled:t.isTxPreviewEnabled,isMessageScannerEnabled:t.isMessageScannerEnabled,operationType:n?.operationType,isInvokedFromNativeSend:t.isInvokedFromNativeSend};(0,r.R5)(e);break}}return e}catch(t){const o=n.operationType;return(0,r.mM)(o,t),e}}),[])}function c(e,t,n,r){e.fromAddress.toLowerCase()===t?.toLowerCase()?n():e.toAddress.toLowerCase()===t?.toLowerCase()&&r()}function u(e,t,n){const r=t.assetChangeOperations.find((t=>t.operationType===a.S.BALANCE_TRANSFER&&t.currencyCode.rawValue===e.currencyCode.rawValue&&t.contractAddress===e.contractAddress));if(!r)return;t.hasAggregatedTransfers=!0;const o=r.toAddress.toLowerCase()===n?.toLowerCase();return c(e,n,(()=>{if(o){const t=r.amountValue-e.amountValue;if(BigInt(t)>0n)r.amountValue=t;else{const e=r.fromAddress;r.fromAddress=r.toAddress,r.toAddress=e,r.amountValue=-t}}else r.amountValue+=e.amountValue}),(()=>{if(o)r.amountValue+=e.amountValue;else{const t=r.amountValue-e.amountValue;if(BigInt(t)>0n)r.amountValue=t;else{const e=r.fromAddress;r.fromAddress=r.toAddress,r.toAddress=e,r.amountValue=-t}}})),t}function l(e,t,n){const r=t.assetChangeOperations.find((t=>t.operationType===a.S.BALANCE_TRANSFER_RANGE&&t.currencyCode.rawValue===e.currencyCode.rawValue&&t.contractAddress===e.contractAddress));if(!r)return;t.hasAggregatedTransfers=!0;const o=r.toAddress.toLowerCase()===n.toLowerCase();return c(e,n,(()=>{if(o){const t=r.startAmountValue-e.startAmountValue,n=r.endAmountValue-e.endAmountValue;if(BigInt(t)>0n)r.startAmountValue=t;else{const e=r.fromAddress;r.fromAddress=r.toAddress,r.toAddress=e,r.startAmountValue=-t}if(BigInt(n)>0n)r.endAmountValue=n;else{const e=r.fromAddress;r.fromAddress=r.toAddress,r.toAddress=e,r.endAmountValue=-n}}else r.startAmountValue+=e.startAmountValue,r.endAmountValue+=e.endAmountValue}),(()=>{if(o)r.startAmountValue+=e.startAmountValue,r.endAmountValue+=e.endAmountValue;else{const t=r.startAmountValue-e.startAmountValue,n=r.endAmountValue-e.endAmountValue;if(BigInt(t)>0n)r.startAmountValue=t;else{const e=r.fromAddress;r.fromAddress=r.toAddress,r.toAddress=e,r.startAmountValue=-t}if(BigInt(n)>0n)r.endAmountValue=t;else{const e=r.fromAddress;r.fromAddress=r.toAddress,r.toAddress=e,r.endAmountValue=-t}}})),t}},24745:(e,t,n)=>{n.d(t,{l:()=>r.l});var r=n(44080)},31013:(e,t,n)=>{n.d(t,{i:()=>c});var r=n(14041),o=n(32183),a=n(8867),s=n(89525);const i=(0,o.YK)({successMessage:{id:"t/EkeX",defaultMessage:"Copied to clipboard"},failureMessage:{id:"EO/xSA",defaultMessage:"Could not be copied"}});function c({bottomOffset:e}={}){const t=(0,s.d)(),{formatMessage:n}=(0,a.A)();return(0,r.useCallback)((async(r,o=!0,a=n(i.successMessage),s=n(i.failureMessage))=>{o&&t.clearQueue();let c=a;try{await navigator.clipboard.writeText(r)}catch{c=s}o&&t.show(c,{bottomOffset:e})}),[n,t,e])}}}]);
//# sourceMappingURL=1648.js.map