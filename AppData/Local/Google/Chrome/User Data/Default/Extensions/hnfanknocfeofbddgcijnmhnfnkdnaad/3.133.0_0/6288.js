/*! For license information please see 6288.js.LICENSE.txt */
try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="701af246-fd26-40c7-9325-808635cdf3d2",e._sentryDebugIdIdentifier="sentry-dbid-701af246-fd26-40c7-9325-808635cdf3d2")}()}catch(e){}!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"3.133.0-398e03"}}catch(e){}}(),(self.webpackChunkcb_wallet_extension=self.webpackChunkcb_wallet_extension||[]).push([[6288],{96288:(e,t,n)=>{n.r(t),n.d(t,{WatchAssetRequest:()=>q});var r,o=n(14041),a=n(32183),s=n(8867),i=n(41513),c=n(54736),u=n(96295),l=n(52689),d=n(80872),f=n(99172),p=n(70918),h=n(47435),y=n(63162),b=n(31415),m=n(85581),v=n(22115),g=n(15654),w=n(84492),k=n(55799),A=n(59600),x=n(60149),C=n(97541),j=n(67662),I=n(36897),E=n(31085);function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function S(){"use strict";var e=H(),t=e.m(S),n=(Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__).constructor;function r(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===n||"GeneratorFunction"===(t.displayName||t.name))}var o={throw:1,return:2,break:3,continue:3};function a(e){var t,n;return function(r){t||(t={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(e,t){return n(r.a,o[e],t)},delegateYield:function(e,o,a){return t.resultName=o,n(r.d,T(e),a)},finish:function(e){return n(r.f,e)}},n=function(e,n,o){r.p=t.prev,r.n=t.next;try{return e(n,o)}finally{t.next=r.n}}),t.resultName&&(t[t.resultName]=r.v,t.resultName=void 0),t.sent=r.v,t.next=r.n;try{return e.call(this,t)}finally{r.p=t.prev,r.n=t.next}}}return(S=function(){return{wrap:function(t,n,r,o){return e.w(a(t),n,r,o&&o.reverse())},isGeneratorFunction:r,mark:e.m,awrap:function(e,t){return new B(e,t)},AsyncIterator:L,async:function(e,t,n,o,s){return(r(t)?N:_)(a(e),t,n,o,s)},keys:G,values:T}})()}function T(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}throw new TypeError(M(e)+" is not iterable")}function G(e){var t=Object(e),n=[];for(var r in t)n.unshift(r);return function e(){for(;n.length;)if((r=n.pop())in t)return e.value=r,e.done=!1,e;return e.done=!0,e}}function _(e,t,n,r,o){var a=N(e,t,n,r,o);return a.next().then((function(e){return e.done?e.value:a.next()}))}function N(e,t,n,r,o){return new L(H().w(e,t,n,r),o||Promise)}function L(e,t){function n(r,o,a,s){try{var i=e[r](o),c=i.value;return c instanceof B?t.resolve(c.v).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(c).then((function(e){i.value=e,a(i)}),(function(e){return n("throw",e,a,s)}))}catch(e){s(e)}}var r;this.next||(W(L.prototype),W(L.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),W(this,"_invoke",(function(e,o,a){function s(){return new t((function(t,r){n(e,a,t,r)}))}return r=r?r.then(s,s):s()}),!0)}function H(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var c=r&&r.prototype instanceof i?r:i,u=Object.create(c.prototype);return W(u,"_invoke",function(n,r,o){var a,i,c,u=0,l=o||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return a=t,i=0,c=e,f.n=n,s}};function p(n,r){for(i=n,c=r,t=0;!d&&u&&!o&&t<l.length;t++){var o,a=l[t],p=f.p,h=a[2];n>3?(o=h===r)&&(c=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=e):a[0]<=p&&((o=n<2&&p<a[1])?(i=0,f.v=r,f.n=a[1]):p<h&&(o=n<3||a[0]>r||r>h)&&(a[4]=n,a[5]=r,f.n=h,i=0))}if(o||n>1)return s;throw d=!0,r}return function(o,l,h){if(u>1)throw TypeError("Generator is already running");for(d&&1===l&&p(l,h),i=l,c=h;(t=i<2?e:c)||!d;){a||(i?i<3?(i>1&&(f.n=-1),p(i,c)):f.n=c:f.v=c);try{if(u=2,a){if(i||(o="next"),t=a[o]){if(!(t=t.call(a,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,i<2&&(i=0)}else 1===i&&(t=a.return)&&t.call(a),i<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=e}else if((t=(d=f.n<0)?c:n.call(r,f))!==s)break}catch(t){a=e,i=1,c=t}finally{u=1}}return{value:t,done:d}}}(n,o,a),!0),u}var s={};function i(){}function c(){}function u(){}t=Object.getPrototypeOf;var l=[][r]?t(t([][r]())):(W(t={},r,(function(){return this})),t),d=u.prototype=i.prototype=Object.create(l);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,W(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=u,W(d,"constructor",u),W(u,"constructor",c),c.displayName="GeneratorFunction",W(u,o,"GeneratorFunction"),W(d),W(d,o,"Generator"),W(d,r,(function(){return this})),W(d,"toString",(function(){return"[object Generator]"})),(H=function(){return{w:a,m:f}})()}function W(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}W=function(e,t,n,r){function a(t,n){W(e,t,(function(e){return this._invoke(t,n,e)}))}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(a("next",0),a("throw",1),a("return",2))},W(e,t,n,r)}function B(e,t){this.v=e,this.k=t}function z(e,t,n,r,o,a,s){try{var i=e[a](s),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,o)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){z(a,r,o,s,i,"next",e)}function i(e){z(a,r,o,s,i,"throw",e)}s(void 0)}))}}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,s,i=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var $="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},R=(0,a.YK)({dappLogoAlt:{id:"MRnPfe",defaultMessage:[{type:0,value:"DApp logo"}]},addToken:{id:"92Fo7Q",defaultMessage:[{type:0,value:"Add Suggested Token?"}]},addTokenQuestion:{id:"hU3w4L",defaultMessage:[{type:0,value:"Would you like to import this token?"}]},addTokenRequestDescription:{id:"dV/l+A",defaultMessage:[{type:0,value:"This website is requesting to add:"}]},tokenSymbol:{id:"ObUMFr",defaultMessage:[{type:0,value:"Symbol"}]},tokenAddress:{id:"8jwoaQ",defaultMessage:[{type:0,value:"Address"}]},authorizationButtonGroup:{id:"0ElHKg",defaultMessage:[{type:0,value:"Action buttons"}]},addCustomTokenButton:{id:"37e/BJ",defaultMessage:[{type:0,value:"Add Token"}]},denyActionButton:{id:"OPQ+In",defaultMessage:[{type:0,value:"Deny"}]},closeButton:{id:"+0yL9q",defaultMessage:[{type:0,value:"Close"}]},allowlistedMessage:{id:"v8N+yM",defaultMessage:[{type:0,value:"Coinbase Wallet automatically tracks token ownerships on the "},{type:1,value:"network"},{type:0,value:" network. There is no need to import "},{type:1,value:"token"},{type:0,value:"."}]}});function F(e){var t=e.symbol,n=e.chainName,r=(0,s.A)().formatMessage,a=(0,o.useCallback)((function(){window.close()}),[]);return(0,E.jsx)("div",{"data-testid":"allowlist-prompt",children:(0,E.jsxs)(g.T,{padding:4,justifyContent:"space-between",height:"100%",width:"100%",children:[(0,E.jsxs)(g.T,{gap:2,children:[(0,E.jsx)(x.f,{as:"h1",textAlign:"center",children:r(R.addToken)}),(0,E.jsx)(C.K,{as:"p",color:"fgMuted",textAlign:"center",children:r(R.allowlistedMessage,{network:n,token:t||"this token"})})]}),(0,E.jsx)(m.$n,{type:"button",variant:"primary","data-testid":"close-watch-asset-button",transparent:!0,onClick:a,children:r(R.closeButton)})]})})}function q(e){var t=e.options,n=P((0,o.useState)(!1),2),r=n[0],a=n[1],M=P((0,o.useState)(!1),2),T=M[0],G=M[1],_=P((0,o.useState)(null),2),N=_[0],L=_[1],H=(0,o.useCallback)((function(){return L(null)}),[L]),W=(0,s.A)().formatMessage,B=(0,p.h)(),z=(0,h.g)({walletGroupId:B,source:c.GU.WatchAsset}),D=(0,d.a)();(0,c.hH)({source:c.GU.WatchAsset});var $=(0,o.useMemo)((function(){return D.find((function(e){var n,r=e.network;return r&&(null===(n=r.asChain())||void 0===n?void 0:n.chainId)===parseInt(t.chainId,10)}))}),[D,t.chainId]),q=(0,o.useMemo)((function(){return!$&&f.lg.fromChainId({chainId:BigInt(t.chainId)})}),[$,t.chainId]),Q=(0,o.useCallback)(O(S().mark((function e(){var n,r,o;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,o=new l.j(null!==(n=t.symbol)&&void 0!==n?n:""),e.next=6,z(o,t.address,$,BigInt(null!==(r=t.decimals)&&void 0!==r?r:18));case 6:L(null),G(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),L(e.t0.message),G(!1);case 14:case"end":return e.stop()}}),e,null,[[2,10]])}))),[z,$,t.address,t.decimals,t.symbol]);(0,o.useEffect)((function(){var e=I.Q0.subscribe((function(e){e.constructor===I.kT&&a(!1)}));return function(){return e.unsubscribe()}}),[]);var U,Y=(0,o.useCallback)((function(){chrome.runtime.sendMessage({type:"extensionUIResponse",data:{id:t.eventId,action:j.l.watchAssetDeny,blockchain:u.fz}}),window.close()}),[t.eventId]),J=(0,o.useCallback)((function(){G(!0),chrome.runtime.sendMessage({type:"extensionUIResponse",data:{id:t.eventId,action:j.l.watchAssetApprove,chainId:t.chainId,blockchain:u.fz}}),Q().then((function(){return window.close()}))}),[t.eventId,t.chainId,Q]);return N?(0,E.jsx)(b.y,{resetError:H}):q?(0,E.jsx)(F,{symbol:t.symbol,chainName:null===(U=q.asChain())||void 0===U?void 0:U.displayName}):(0,E.jsxs)(g.T,{position:"absolute",bottom:0,right:0,width:"100%",children:[(0,E.jsx)(w.z,{justifyContent:"center",alignItems:"center",children:t.image?(0,E.jsx)(A.W,{alt:W(R.dappLogoAlt),width:80,height:80,source:t.image}):(0,E.jsx)(E.Fragment,{})}),(0,E.jsx)("div",{className:(0,i.cx)(K,r&&V),"data-testid":"add-token-prompt",children:(0,E.jsxs)(g.T,{gap:2,children:[(0,E.jsx)(x.f,{as:"h1",textAlign:"center",children:W(R.addToken)}),(0,E.jsx)(C.K,{as:"p",color:"fgMuted",textAlign:"center",children:W(R.addTokenQuestion)}),(0,E.jsx)(k.a,{paddingY:2,children:(0,E.jsxs)(g.T,{gap:2,children:[(0,E.jsx)(C.K,{as:"p",color:"fgMuted",textAlign:"start",children:W(R.addTokenRequestDescription)}),(0,E.jsxs)(C.K,{as:"p",color:"fgMuted",textAlign:"start",children:[W(R.tokenSymbol),": ",t.symbol]}),(0,E.jsxs)(C.K,{as:"p",color:"fgMuted",textAlign:"start",children:[W(R.tokenAddress),": ",(0,y.$)(t.address)]})]})})]})}),(0,E.jsx)(k.a,{padding:3,flexDirection:"column",children:(0,E.jsxs)(v.e,{block:!0,accessibilityLabel:W(R.authorizationButtonGroup),direction:"vertical",children:[(0,E.jsx)(m.$n,{type:"button",variant:"primary",onClick:J,loading:T,"data-testid":"allow-watch-asset-button",children:W(R.addCustomTokenButton)}),(0,E.jsx)(m.$n,{type:"button",variant:"secondary",onClick:Y,"data-testid":"deny-watch-asset-button",transparent:!0,children:W(R.denyActionButton)})]})})]})}$(F,"useIntl{{\n    formatMessage\n  }}\nuseCallback{closeWindow}",(function(){return[s.A]})),$(q,"useState{[authed, setAuthed](false)}\nuseState{[authorizing, setAuthorizing](false)}\nuseState{[error, setError](null)}\nuseCallback{resetError}\nuseIntl{{\n    formatMessage\n  }}\nuseActiveWalletGroupId{activeWalletGroupId}\nuseAddCustomEthToken{addCustomEthToken}\nuseCustomNetworkArgs{customNetworks}\nuseLogAddCustomTokenViewed{}\nuseMemo{customNetwork}\nuseMemo{ethereumChain}\nuseCallback{addCustomToken}\nuseEffect{}\nuseCallback{denyAuthorize}\nuseCallback{allowAuthorize}",(function(){return[s.A,p.h,h.g,d.a,c.hH]}));var Q,U,K="b1kpd7hv",V="b1fu1pg";n(23918),(Q="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(Q.register(R,"messages","/workspaces/apps/extension/src/screens/Web3/WatchAsset/WatchAsset.tsx"),Q.register(F,"AllowlistedNetworkView","/workspaces/apps/extension/src/screens/Web3/WatchAsset/WatchAsset.tsx"),Q.register(q,"WatchAssetRequest","/workspaces/apps/extension/src/screens/Web3/WatchAsset/WatchAsset.tsx"),Q.register(K,"body","/workspaces/apps/extension/src/screens/Web3/WatchAsset/WatchAsset.tsx"),Q.register(V,"bodyExit","/workspaces/apps/extension/src/screens/Web3/WatchAsset/WatchAsset.tsx")),(U="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&U(e)},31415:(e,t,n)=>{n.d(t,{y:()=>h});var r,o=n(32183),a=n(8867),s=n(81965),i=n(22115),c=n(85581),u=n(2673),l=n(44659),d=n(31085);e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},p=(0,o.YK)({connectionFailedMessage:{id:"5RXePS",defaultMessage:[{type:0,value:"Connection failed"}]},tryAgainButtonGroup:{id:"0ElHKg",defaultMessage:[{type:0,value:"Action buttons"}]},tryAgainButton:{id:"88moQ1",defaultMessage:[{type:0,value:"Try again"}]}});function h(e){var t=e.resetError,n=(0,a.A)().formatMessage;return(0,d.jsxs)("div",{className:m,children:[(0,d.jsx)(v,{children:(0,d.jsx)(u.In,{name:"error",size:"l",color:"currentColor"})}),(0,d.jsxs)("div",{className:g,children:[(0,d.jsx)("div",{className:k,children:(0,d.jsx)(l.f,{as:"h3",children:n(p.connectionFailedMessage)})}),(0,d.jsx)("div",{className:w,children:(0,d.jsx)(i.e,{block:!0,accessibilityLabel:n(p.tryAgainButtonGroup),children:(0,d.jsx)(c.$n,{type:"button",variant:"primary",onClick:t,"data-testid":"try-again",children:n(p.tryAgainButton)})})})]})]})}f(h,"useIntl{{\n    formatMessage\n  }}",(function(){return[a.A]}));var y,b,m="b9dlpow",v=(0,s.I)("div")({name:"IconContainer",class:"iu69ejy",propsAsIs:!1}),g="b1hvuwxf",w="bcmu8fm",k="e1y5zb73";n(95689),(y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(y.register(p,"messages","/workspaces/libs/wallet-cds-extension/components/AuthorizationError.tsx"),y.register(h,"AuthorizationError","/workspaces/libs/wallet-cds-extension/components/AuthorizationError.tsx"),y.register(m,"baseContainer","/workspaces/libs/wallet-cds-extension/components/AuthorizationError.tsx"),y.register(v,"IconContainer","/workspaces/libs/wallet-cds-extension/components/AuthorizationError.tsx"),y.register(g,"buttonContainer","/workspaces/libs/wallet-cds-extension/components/AuthorizationError.tsx"),y.register(w,"buttonPosition","/workspaces/libs/wallet-cds-extension/components/AuthorizationError.tsx"),y.register(k,"errorText","/workspaces/libs/wallet-cds-extension/components/AuthorizationError.tsx")),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)},23918:(e,t,n)=>{n.r(t)},95689:(e,t,n)=>{n.r(t)},67662:(e,t,n)=>{var r;n.d(t,{l:()=>r}),function(e){e.requestEthereumAccountsResponse="requestEthereumAccountsResponse",e.addEthereumChainDeny="addEthereumChainDeny",e.addEthereumChainApprove="addEthereumChainApprove",e.switchEthereumChainDeny="switchEthereumChainDeny",e.switchEthereumChainApprove="switchEthereumChainApprove",e.signEthereumMessageSuccess="signEthereumMessageSuccess",e.signEthereumTransactionSuccess="signEthereumTransactionSuccess",e.submitEthereumTransactionSuccess="submitEthereumTransactionSuccess",e.watchAssetApprove="watchAssetApprove",e.watchAssetDeny="watchAssetDeny",e.selectProviderApprove="selectProviderApprove",e.selectProviderDeny="selectProviderDeny",e.dappChainSwitched="dappChainSwitched"}(r||(r={}))},54261:(e,t,n)=>{n.d(t,{Fu:()=>h,Io:()=>f,OM:()=>d,Q$:()=>p});n(31208);var r=n(58524),o=n(74146),a=n(78370);const s=`${r.V2}/v3/coinbase.asset_metadata_service.v2.public.AssetMetadataPublicService`,i=`${r.V2}/api/v3/coinbase.asset_stats_service.AssetStatsService`,c="getQuote",u="assets/getAssetsDetails",l="quote/getQuote";async function d(e){const t={q:e};try{return await(0,o.hm)(`${s}/GetAssetV2`,t,{isThirdParty:!0})}catch(e){if(e instanceof a.H&&404===e.status)return;throw e}}async function f(e){const t={q:e};try{return await(0,o.hm)(`${i}/ListAssetStats`,t,{isThirdParty:!0})}catch(e){if(e instanceof a.H&&404===e.status)return;throw e}}async function p(e){try{return await(0,o.TB)(u,e)}catch(e){if(e instanceof a.H&&404===e.status)return;throw e}}async function h({params:e,isQuoteV3Enabled:t}){let n;try{return n=t?await(0,o.TB)(c,e,{apiVersion:3}):await(0,o.TB)(l,e),n}catch(e){if(e instanceof a.H&&404===e.status)return;throw e}}},31208:(e,t,n)=>{n.d(t,{o_:()=>s,mA:()=>a,dC:()=>i});var r,o=n(55452);function a(e,t,n){(0,o.Np)("price_chart.asset_stats_v3.load_failed",{loggingId:"2f4f42b8-c663-4e20-9192-5e1590a4be7a",tokenSymbol:e,uuid:t,error:String(n)})}function s(e,t,n){(0,o.Np)("price_chart.asset_metadata_v3.load_failed",{loggingId:"9f213d12-3dff-4b34-8404-1ea214674b88",tokenSymbol:e,uuid:t,error:String(n)})}function i(e,t){(0,o.N8)({metricName:"price_chart.prices.load_failed",metricType:r.count,value:1,tags:{baseAssetSymbol:e,currencyCode:t}})}!function(e){e.count="count",e.rate="rate",e.gauge="gauge",e.distribution="distribution",e.histogram="histogram"}(r||(r={}))},47435:(e,t,n)=>{n.d(t,{g:()=>w});var r=n(14041),o=n(98580),a=n(66593),s=n(46122),i=n(51676),c=n(37634),u=n(60179),l=n(54261),d=n(23804),f=n(99002),p=n(16238),h=n.n(p),y=n(43752);var b=n(83815),m=n(99172),v=n(44737),g=n(57822);function w({walletGroupId:e,source:t}){const n=(0,g.e)(e),p=(0,b.Mf)();return(0,r.useCallback)((async(e,r,b,g)=>{const w={chainName:b.name,chainId:b.id,tokenSymbol:e.code,contractAddress:r,decimals:g.toString()};(0,o.An)({properties:w,source:t});const k=m.lg.create(b.id);if(!k)throw(0,o.kB)({properties:w,source:t,errorMessage:"Network not found for custom token"}),new Error(`Failed to create Network from custom network id ${b.id}`);if(n.find((e=>m.lg.isEqual(k,e.network)&&r?.toLowerCase()===e.contractAddress?.toLowerCase())))throw(0,o.kB)({properties:w,source:t,errorMessage:"Custom token already exists"}),new Error(`Custom token with contract address ${r} already exists`);const A=await async function(e,t,n,r,o){const a=(0,s.zL)(i.ay.whitelisted.ETHEREUM_MAINNET),p=await(0,y.t)(a,o),b={contractAddresses:e?[e]:[],chainId:n.asChain()?.chainId?n.asChain()?.chainId.toString():void 0},m=await(0,l.Q$)(b),v=m?.result?.assets?.[0],g=v?.imageUrl,w=v?.decimals?BigInt(v.decimals):r,k=v?.contractAddress??e,A=p.map((e=>new u.p({index:e.index,address:e.address,balance:void 0,currencyCode:t,isChangeAddress:!1,network:n,type:s.vj.defaultReceiveType,derivationPath:(0,s.s8)(e.index),isUsed:!0,blockchain:s.vj.blockchain,contractAddress:k,accountId:e.accountId})));return await(0,c.G2)(A),h()(A).map((e=>new d.u({primaryAddress:e.address,addresses:[new f.g(s.vj.defaultReceiveType,e.address,e.index)],displayName:e.currencyCode.code,currencyCode:e.currencyCode,imageURL:g,balance:e.balance,decimals:w,blockchain:s.vj.blockchain,minimumBalance:void 0,network:e.network,contractAddress:e.contractAddress,selectedIndex:e.index,accountId:e.accountId})))}(r,e,k,g,p);(0,v.Yk)(A);const x={network:k,index:0n,mode:{kind:"Full"},isForced:!0,accountId:p};await(0,a.L)(x),(0,o.z4)({properties:w,source:t})}),[p,n,t])}},63162:(e,t,n)=>{function r(e){const t=e.length;return t<20?e:`${e.substring(0,6)}...${e.substring(t-4,t)}`}n.d(t,{$:()=>r})}}]);
//# sourceMappingURL=6288.js.map