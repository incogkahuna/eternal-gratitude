/*! For license information please see 5169.js.LICENSE.txt */
try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="c4f6ea2d-dcf1-45bb-9406-b73b0268ea20",e._sentryDebugIdIdentifier="sentry-dbid-c4f6ea2d-dcf1-45bb-9406-b73b0268ea20")}()}catch(e){}!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"3.133.0-398e03"}}catch(e){}}(),(self.webpackChunkcb_wallet_extension=self.webpackChunkcb_wallet_extension||[]).push([[5169],{65169:(e,t,n)=>{n.r(t),n.d(t,{CollectionListingsAll:()=>U,CollectionListingsAllContent:()=>H});var r,o=n(14041),i=n(32183),a=n(8867),s=n(86090),c=n(2845),l=n(40498),u=n(99633),f=n(29070),d=n(22441),p=n(2673),g=n(15654),y=n(55799),h=n(84492),v=n(10297),b=n(98055),m=n(24476),x=n(71793),w=n(31085);function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function T(){"use strict";var e=C(),t=e.m(T),n=(Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__).constructor;function r(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===n||"GeneratorFunction"===(t.displayName||t.name))}var o={throw:1,return:2,break:3,continue:3};function i(e){var t,n;return function(r){t||(t={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(e,t){return n(r.a,o[e],t)},delegateYield:function(e,o,i){return t.resultName=o,n(r.d,P(e),i)},finish:function(e){return n(r.f,e)}},n=function(e,n,o){r.p=t.prev,r.n=t.next;try{return e(n,o)}finally{t.next=r.n}}),t.resultName&&(t[t.resultName]=r.v,t.resultName=void 0),t.sent=r.v,t.next=r.n;try{return e.call(this,t)}finally{r.p=t.prev,r.n=t.next}}}return(T=function(){return{wrap:function(t,n,r,o){return e.w(i(t),n,r,o&&o.reverse())},isGeneratorFunction:r,mark:e.m,awrap:function(e,t){return new k(e,t)},AsyncIterator:A,async:function(e,t,n,o,a){return(r(t)?I:j)(i(e),t,n,o,a)},keys:L,values:P}})()}function P(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}throw new TypeError(S(e)+" is not iterable")}function L(e){var t=Object(e),n=[];for(var r in t)n.unshift(r);return function e(){for(;n.length;)if((r=n.pop())in t)return e.value=r,e.done=!1,e;return e.done=!0,e}}function j(e,t,n,r,o){var i=I(e,t,n,r,o);return i.next().then((function(e){return e.done?e.value:i.next()}))}function I(e,t,n,r,o){return new A(C().w(e,t,n,r),o||Promise)}function A(e,t){function n(r,o,i,a){try{var s=e[r](o),c=s.value;return c instanceof k?t.resolve(c.v).then((function(e){n("next",e,i,a)}),(function(e){n("throw",e,i,a)})):t.resolve(c).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,a)}))}catch(e){a(e)}}var r;this.next||(N(A.prototype),N(A.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),N(this,"_invoke",(function(e,o,i){function a(){return new t((function(t,r){n(e,i,t,r)}))}return r=r?r.then(a,a):a()}),!0)}function C(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=r&&r.prototype instanceof s?r:s,l=Object.create(c.prototype);return N(l,"_invoke",function(n,r,o){var i,s,c,l=0,u=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,s=0,c=e,d.n=n,a}};function p(n,r){for(s=n,c=r,t=0;!f&&l&&!o&&t<u.length;t++){var o,i=u[t],p=d.p,g=i[2];n>3?(o=g===r)&&(c=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(s=0,d.v=r,d.n=i[1]):p<g&&(o=n<3||i[0]>r||r>g)&&(i[4]=n,i[5]=r,d.n=g,s=0))}if(o||n>1)return a;throw f=!0,r}return function(o,u,g){if(l>1)throw TypeError("Generator is already running");for(f&&1===u&&p(u,g),s=u,c=g;(t=s<2?e:c)||!f;){i||(s?s<3?(s>1&&(d.n=-1),p(s,c)):d.n=c:d.v=c);try{if(l=2,i){if(s||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,s<2&&(s=0)}else 1===s&&(t=i.return)&&t.call(i),s<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((t=(f=d.n<0)?c:n.call(r,d))!==a)break}catch(t){i=e,s=1,c=t}finally{l=1}}return{value:t,done:f}}}(n,o,i),!0),l}var a={};function s(){}function c(){}function l(){}t=Object.getPrototypeOf;var u=[][r]?t(t([][r]())):(N(t={},r,(function(){return this})),t),f=l.prototype=s.prototype=Object.create(u);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,N(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=l,N(f,"constructor",l),N(l,"constructor",c),c.displayName="GeneratorFunction",N(l,o,"GeneratorFunction"),N(f),N(f,o,"Generator"),N(f,r,(function(){return this})),N(f,"toString",(function(){return"[object Generator]"})),(C=function(){return{w:i,m:d}})()}function N(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}N=function(e,t,n,r){function i(t,n){N(e,t,(function(e){return this._invoke(t,n,e)}))}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},N(e,t,n,r)}function k(e,t){this.v=e,this.k=t}function M(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){M(i,r,o,a,s,"next",e)}function s(e){M(i,r,o,a,s,"throw",e)}a(void 0)}))}}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var G="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},D=(0,i.YK)({forSale:{id:"Pyw7dX",defaultMessage:[{type:0,value:"For sale"}]},eth:{id:"7n9L3r",defaultMessage:[{type:0,value:"ETH"}]},usd:{id:"4aj1yJ",defaultMessage:[{type:0,value:"USD"}]},pricesInETH:{id:"NN+7cK",defaultMessage:[{type:0,value:"Prices in ETH"}]},pricesInUSD:{id:"ig77v7",defaultMessage:[{type:0,value:"Prices in USD"}]},forSaleDisclaimerLineOne:{id:"lHtz5l",defaultMessage:[{type:0,value:"Items for sale on Coinbase NFT only."}]},forSaleDisclaimerLineTwo:{id:"Sh9cMG",defaultMessage:[{type:0,value:"More marketplaces coming soon."}]}});function H(){var e=(0,a.A)().formatMessage,t=(0,s.g)(),n=t.contractAddress,r=t.chainId,i=E((0,u.useRecoilState)(c.uV),2),m=i[0],S=i[1],P=(0,l.v)({contractAddress:n,chainId:r,limit:6}),L=P.listings,j=P.isFetchingNextPage,I=P.fetchNextPage,A=P.hasNextPage,C=(0,o.useCallback)(O(T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!j&&A&&I();case 1:case"end":return e.stop()}}),e)}))),[I,A,j]),N=(0,o.useMemo)((function(){var t={paddingX:.5,paddingY:0};return(0,w.jsx)(g.T,{padding:1,overflow:"hidden",children:[c.n2.ETH,c.n2.USD].map((function(n){var r=n===c.n2.ETH;return(0,w.jsx)(f.O,{value:n,title:e(r?D.eth:D.usd),outerSpacing:t,innerSpacing:t,borderRadius:200,media:(0,w.jsx)(p.In,{size:"xs",name:r?"ethereum":"cashUSD",color:"fg",paddingStart:2})},n)}))})}),[e]),k=(0,o.useCallback)((function(e){S(e)}),[S]),M=(0,o.useMemo)((function(){return(0,w.jsx)(y.a,{paddingStart:3,children:(0,w.jsx)(d.m,{disableCloseOnOptionChange:!1,onChange:k,onOpenMenu:void 0,content:N,children:(0,w.jsx)(v.t,{children:(0,w.jsxs)(h.z,{alignItems:"center",gap:1,paddingY:.5,paddingX:2,borderRadius:1e3,background:"bgSecondary",alignSelf:"flex-start",children:[(0,w.jsx)(p.In,{size:"xs",name:m===c.n2.ETH?"ethereum":"cashUSD",color:"fg"}),(0,w.jsx)(b.v,{as:"p",testID:"collection-listings-all-currency-switcher",children:e(m===c.n2.ETH?D.pricesInETH:D.pricesInUSD)})]})})})})}),[N,e,k,m]);return(0,w.jsx)(x.W,{testID:"collection-listings-all",navTitle:e(D.forSale),subNavElement:M,disclaimerTextLineOne:e(D.forSaleDisclaimerLineOne),disclaimerTextLineTwo:e(D.forSaleDisclaimerLineTwo),data:L,onEndReached:C,chainId:r})}G(H,"useIntl{{ formatMessage }}\nuseParams{{ contractAddress, chainId }}\nuseRecoilState{[priceCurrency, setPriceCurrency]}\nuseGetCollectionListings{{ listings, isFetchingNextPage, fetchNextPage, hasNextPage }}\nuseCallback{handleOnEndReached}\nuseMemo{dropdownContent}\nuseCallback{onChange}\nuseMemo{subNavElement}",(function(){return[a.A,s.g,u.useRecoilState,l.v]}));var F,R,U=(0,o.memo)(G((function(){var e=(0,a.A)().formatMessage;return(0,w.jsx)(o.Suspense,{fallback:(0,w.jsx)(m.G,{navTitle:e(D.forSale)}),children:(0,w.jsx)(H,{})})}),"useIntl{{ formatMessage }}",(function(){return[a.A]})));(F="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(F.register(D,"messages","/workspaces/apps/extension/src/screens/Explore/components/CollectionListingsAll/CollectionListingsAll.tsx"),F.register(H,"CollectionListingsAllContent","/workspaces/apps/extension/src/screens/Explore/components/CollectionListingsAll/CollectionListingsAll.tsx"),F.register(U,"CollectionListingsAll","/workspaces/apps/extension/src/screens/Explore/components/CollectionListingsAll/CollectionListingsAll.tsx")),(R="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&R(e)},66018:(e,t,n)=>{n.d(t,{T:()=>u});var r=n(14041),o=n(24300),i=n(5264),a=n(66181),s=n(14928),c=n(54616),l=n(71676);function u({contractAddress:e,chainId:t,page:n="",limit:u=18}){const f=function(){const e=(0,a.l)((0,s.T)("kill_switch_aggregate_listings")),t=(0,l.Q)(),n=(0,r.useMemo)((()=>(0,c.t1)()),[]);return"ios"===n||"android"===n?!e:!e&&t}(),d=(0,r.useMemo)((()=>f?"ALL":"CBNFT"),[f]);return(0,o.q)([i.Wc,u,e],(async({pageParam:r=n})=>(0,i.se)(t,e,r||"",`${u}`,d)),{keepPreviousData:!0,getNextPageParam:e=>!!e.nextPage&&e.nextPage})}},40498:(e,t,n)=>{n.d(t,{v:()=>a});var r=n(14041),o=n(66018),i=n(63456);function a({contractAddress:e,chainId:t,page:n="",limit:a}){const{data:s,isLoading:c,isFetching:l,isFetchingNextPage:u,fetchNextPage:f,hasNextPage:d}=(0,o.T)({contractAddress:e,chainId:t,page:n,limit:a}),p=(0,r.useMemo)((()=>(s?.pages??[]).flatMap((e=>e.listings??[])).map((e=>new i.R(e)))),[s?.pages]);return(0,r.useMemo)((()=>({listings:p,isLoading:c,isFetching:l,isFetchingNextPage:u,fetchNextPage:f,hasNextPage:d})),[c,u,f,p,l,d])}}}]);
//# sourceMappingURL=5169.js.map