try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="3b5272c2-7e59-44d4-a928-d50deb05d21f",e._sentryDebugIdIdentifier="sentry-dbid-3b5272c2-7e59-44d4-a928-d50deb05d21f")}()}catch(e){}!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"3.133.0-398e03"}}catch(e){}}(),(self.webpackChunkcb_wallet_extension=self.webpackChunkcb_wallet_extension||[]).push([[3907],{83992:(e,t,n)=>{var a,o,r,s=n(38851),l=n(66430),c=n(10168);function d(e){var t=e.mutationKey,n=e.mutationFn,a=e.onSuccess;return(0,s.n)({mutationKey:t,mutationFn:n,onSuccess:a,retry:function(e,t){return!(t instanceof c.I&&!t.shouldRetry)&&e<l.a_}})}e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(d,"useMutation{}",(function(){return[s.n]})),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&o.register(d,"useMutationWithRetry","/workspaces/libs/data/scw/api/utils/useMutationWithRetry.tsx"),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&r(e)},68611:(e,t,n)=>{n.d(t,{l:()=>i});var a,o,r,s=n(14041),l=n(56622),c=n.n(l),d=n(39037);function i(e){var t=e.wallets,n=e.query;return(0,s.useMemo)((function(){return null!=t&&t.length?0===n.length?t:function({wallets:e,query:t}){if(!t)return e;const n=e.reduce((function(e,n){return null!==(0,d.b)(t,n.currencyCode.code,n.displayName,n.contractAddress).relevance&&e.push(n),e}),[]);return c()(n,["relevance","coverage"],["asc","desc"])}({wallets:t,query:n}):[]}),[t,n])}e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(i,"useMemo{}"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&o.register(i,"useWalletSearch","/workspaces/libs/data/stores/Wallets/hooks/useWalletSearch.tsx"),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&r(e)},95195:(e,t,n)=>{n.d(t,{N:()=>w});var a,o=n(14041),r=n(32183),s=n(8867),l=n(66181),c=n(26205),d=n(79071),i=n.n(d),u=n(55799),f=n(41951),p=n(31085);function g(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var y,h,m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},v=(0,r.YK)({crypto:{id:"ezw1uG",defaultMessage:[{type:0,value:"Crypto"}]},NFTs:{id:"3+R4k5",defaultMessage:[{type:0,value:"NFTs"}]}}),w=(0,o.memo)(m((function(e){var t=e.isNFTSelected,n=e.onChange,a=e.from,r=e.hideNFT,d=(0,s.A)().formatMessage,b=(0,c.$)(),y=(0,l.l)("kill_switch_nft_portfolio_tab_extension")||"Send"===a&&b,h=(0,o.useCallback)((function(){n("crypto")}),[n]),m=(0,o.useCallback)((function(){n("nft")}),[n]),w=(0,o.useMemo)((function(){return t?"nfts":"crypto"}),[t]),x=(0,o.useMemo)((function(){return[{id:"crypto",label:d(v.crypto),onClick:h}].concat(g(y||r?[]:[{id:"nfts",label:d(v.NFTs),onClick:m}]))}),[d,h,m,y,r]);return(0,p.jsx)(u.a,{paddingBottom:2,paddingX:2,marginTop:-3,paddingTop:4,children:(0,p.jsx)(f.ah,{testID:"crypto-ntf-selector-nav",value:w,tabs:x,onChange:i()})})}),"useIntl{{ formatMessage }}\nuseIsNFTSendKilled{killNftSend}\nuseKillSwitch{}\nuseCallback{handleGoToPortfolio}\nuseCallback{handleGoToPortfolioNFT}\nuseMemo{value}\nuseMemo{tabs}",(function(){return[s.A,c.$,l.l]})));(y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(y.register(v,"messages","/workspaces/libs/wallet-cds-extension/components/CryptoNFTSelector/CryptoNFTSelector.tsx"),y.register(w,"CryptoNFTSelector","/workspaces/libs/wallet-cds-extension/components/CryptoNFTSelector/CryptoNFTSelector.tsx")),(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&h(e)},83260:(e,t,n)=>{n.d(t,{A:()=>m});var a,o=n(14041),r=n(32183),s=n(8867),l=n(81965),c=n(70846),d=n(2673),i=n(84492),u=n(55799),f=n(86382),p=n(28118),g=n(98055),b=n(31085);e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},h=(0,r.YK)({chainDisplayName:{id:"GzartR",defaultMessage:[{type:0,value:"On "},{type:1,value:"name"}]},chainTitleWithSuffix:{id:"iNKvVW",defaultMessage:[{type:1,value:"name"},{type:0,value:" "},{type:1,value:"suffix"}]},chainTitle:{id:"Nust95",defaultMessage:[{type:1,value:"name"}]},tooltipText:{id:"v9mnGS",defaultMessage:[{type:0,value:"Switch networks"}]},mainnet:{id:"+cFBPN",defaultMessage:[{type:0,value:"Mainnet"}]},testnet:{id:"uSA5bo",defaultMessage:[{type:0,value:"Testnet"}]}});function m(e){var t=e.network,n=e.onPress,a=e.chainDetails,r=(0,s.A)().formatMessage,l=(0,c.T1)({chainDetails:a});(0,c.Pd)({chainDetails:a});var y=(0,o.useCallback)((function(){l(),n()}),[n,l]);if(!t)return null;var m=t.asChain(),v=r(h.chainDisplayName,{name:null==m?void 0:m.displayName}),w=null!=m&&m.isTestnet?r(h.chainTitleWithSuffix,{name:v,suffix:r(h.testnet)}):r(h.chainTitle,{name:v});return(0,b.jsx)(p.o,{background:"transparent",onClick:y,testID:"network-selection-sub-header",children:(0,b.jsx)(u.a,{alignItems:"center",justifyContent:"center",children:(0,b.jsx)(f.m,{content:r(h.tooltipText),placement:"bottom",children:(0,b.jsxs)(i.z,{alignItems:"center",justifyContent:"center",background:"bgSecondary",borderRadius:1e3,paddingX:1,flexShrink:1,height:28,children:[null!=m&&m.chainImageUrl?(0,b.jsx)(x,{src:null==m?void 0:m.chainImageUrl,alt:"".concat(null==m?void 0:m.displayName," icon")}):null,(0,b.jsxs)(i.z,{alignItems:"center",children:[(0,b.jsx)(g.v,{testID:"network-selection-current-network",as:"p",color:"fg",children:w}),(0,b.jsx)(d.In,{name:"caretRight",size:"xs",color:"fg",paddingStart:.5})]})]})})})})}y(m,"useIntl{{\n    formatMessage\n  }}\nuseNetworkSwitcherOpen{triggerNetworkSwitcherOpen}\nuseNetworkSwitcherViewed{}\nuseCallback{onOpenNetworkSelection}",(function(){return[s.A,c.T1,c.Pd]}));var v,w,x=(0,l.I)("img")({name:"Image",class:"ic7twu",propsAsIs:!1});n(26745),(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(v.register(h,"messages","/workspaces/libs/wallet-cds-extension/components/NetworkSelectionSubHeader.tsx"),v.register(m,"NetworkSelectionSubHeader","/workspaces/libs/wallet-cds-extension/components/NetworkSelectionSubHeader.tsx"),v.register(x,"Image","/workspaces/libs/wallet-cds-extension/components/NetworkSelectionSubHeader.tsx")),(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&w(e)},60479:(e,t,n)=>{n.d(t,{g:()=>p});var a,o=n(32183),r=n(8867),s=n(28705),l=n(55799),c=n(31085);e=n.hmd(e),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&a(e);var d,i,u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},f=(0,o.YK)({searchInputPlaceholder:{id:"D8ckHq",defaultMessage:[{type:0,value:"Search"}]}});function p(e){var t=e.query,n=e.onChange,a=e.autoFocus,o=void 0===a||a,d=(0,r.A)().formatMessage;return(0,c.jsx)(l.a,{paddingX:2,paddingBottom:1,children:(0,c.jsx)(s.D,{name:"search-asset",value:t,onChangeText:n,type:"text",placeholder:d(f.searchInputPlaceholder),testID:"search-asset-text-input",autoFocus:o})})}u(p,"useIntl{{ formatMessage }}",(function(){return[r.A]})),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(f,"messages","/workspaces/libs/wallet-cds-extension/components/SearchAssetBar.tsx"),d.register(p,"SearchAssetBar","/workspaces/libs/wallet-cds-extension/components/SearchAssetBar.tsx")),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)},26745:(e,t,n)=>{n.r(t)},56328:(e,t,n)=>{n.d(t,{j:()=>l});var a=n(33396);const o=["loading","entry","username","backup","verify","password","success","import","importOrLink","link","scanQr","select-device","select-account","ledger-signing","ledger-connect-device","trezor-connect-device","ledger-success","hwTroubleConnecting","subdomain-cta","subdomain-education","subdomain-claim-success","subdomain-avatar","subdomain-basic-profile"],r=new URLSearchParams(window.location.search).get("step"),s=o.find((e=>e===r)),l=(0,a.KT)({steps:o,defaultStep:s??"loading"})},95974:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(33396),o=n(56328);function r(){return(0,a.lE)(o.j)}},64593:(e,t,n)=>{n.d(t,{q:()=>H});var a=n(13394),o=n(31700),r=(n(74740),n(89962));n(83992),n(10168);const s="scw/getAccounts";function l(e){return e.eoaMeta?{address:(0,r.bv)(e.baseContractAddress),factoryCalldata:"",factoryAddress:"",signers:e.signers,contracts:e.contracts,accountChanges:e.accountChanges}:{address:(0,r.bv)(e.baseContractAddress),factoryCalldata:e.deploymentMeta?.factoryCalldata,factoryAddress:e.deploymentMeta?.factoryAddress,signers:e.signers,contracts:e.contracts,accountChanges:e.accountChanges}}var c=n(62396),d=n(42066),i=n(58732),u=n(74146);const f="scwDataForAccount",p=36e5;async function g(e){return o.qQ.fetchQuery({queryKey:[f,e],queryFn:async()=>async function(e){if(!c.g.isSCWAccount(e))return;const t=c.g.parseAddressFromId(e);return b(t)}(e),staleTime:p})}async function b(e){const{accounts:t}=await(0,u.hm)(s,{baseContractAddress:e},{authenticated:!0,setAuthTokens:d.PR,apiVersion:3});if(!t?.length)throw new Error(`No scw account received from backend for address ${e}`);const n=t.find((t=>(0,i.L)(t.baseContractAddress,e)));if(!n)throw new Error(`Incorrect scw account from server for address ${e}`);if(!n?.signers?.length)throw new Error(`No signers found for address ${e}`);return l(n)}var y=n(30666),h=n(55459),m=n(65846),v=n(92517),w=n(38903);function x(e){return(0,m.di)((0,v.S)((0,w.nj)(e)),0,16)}const L=x("Coinbase Wallet"),S=x("com.coinbase.wallet"),k="0x00";function C(e){if(h.Z.getIsFeatureEnabled("scw_data_suffix")){const n=(t=S)?(0,y.xW)([L,k,t]):L;return(0,y.xW)([e,n])}var t;return e}async function H(e){const t=await g(e);if(!t){const e=new Error("scw data for account undefined");throw(0,a.gf)({context:"scw-error",error:e,isHandled:!1,severity:"error"}),e}return{txType:"UserOp",accountInitCode:C((0,y.xW)([t.factoryAddress,t.factoryCalldata])),paymentMethod:"WALLET"}}},10168:(e,t,n)=>{n.d(t,{I:()=>a});class a extends Error{constructor(e,t=!1){super(e),this.message=e,this.shouldRetry=t,this.shouldRetry=t}}},36760:(e,t,n)=>{n.d(t,{j:()=>r});var a=n(14041),o=n(46122);function r(e){return(0,a.useMemo)((()=>!!e&&(0,o.US)(e.network)),[e])}},58732:(e,t,n)=>{function a(e,t){return e?.toLowerCase()===t?.toLowerCase()}n.d(t,{L:()=>a})},39037:(e,t,n)=>{function a(e,t,n,a){const o=e.toLowerCase(),r=t.toLowerCase().indexOf(o),s=n?n.toLowerCase().indexOf(o):-1,l=a?a.toLowerCase().indexOf(o):-1;return r>=0&&(r<=s||s<=-1)?{relevance:r,coverage:o.length/t.length}:n&&s>=0?{relevance:s,coverage:o.length/n.length}:a&&l>=0?{relevance:l,coverage:o.length/a.length}:{relevance:null,coverage:0}}n.d(t,{b:()=>a})},19253:(e,t,n)=>{function a(e){return e||0===e?e.toString().replace(/[^#a-z0-9%()., _-]/gi,""):""}n.d(t,{p:()=>a})}}]);
//# sourceMappingURL=3907.js.map