/*! For license information please see 1840.js.LICENSE.txt */
try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="f26f408b-a47f-4fe6-8b7f-b1c4bca7cd50",e._sentryDebugIdIdentifier="sentry-dbid-f26f408b-a47f-4fe6-8b7f-b1c4bca7cd50")}()}catch(e){}!function(){try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"3.133.0-398e03"}}catch(e){}}(),(self.webpackChunkcb_wallet_extension=self.webpackChunkcb_wallet_extension||[]).push([[1840],{41840:(e,t,n)=>{n.r(t),n.d(t,{Stake:()=>L});var r,a=n(14041),o=n(86090),i=n(55452),s=n(13394),l=n(99172),u=n(79071),c=n.n(u),d=n(24905),f=n(92271),p=n(7610),y=n(15654),g=n(34767),v=n(53363),m=n(39289),b=n(66491),k=n(46171),h=n(13041),C=n(31085);function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=w(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==w(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var x,M,I="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};function P(){var e=(0,v.X)();return(0,C.jsx)(k.Im.Provider,{defaultStep:e,children:(0,C.jsx)(h.A,{})})}function L(){var e=(0,o.g)(),t=e.stakeType,n=e.currencyCode,r=e.targetCurrencyCode,u=e.chainId,v=e.tokenId,h=(0,a.useMemo)((function(){return A(A({},k.LX),{},{stakeType:t,currencyCode:n,targetCurrencyCode:r,network:l.lg.fromChainId({chainId:BigInt(null!=u?u:"1")}),tokenId:null!=v?v:""})}),[u,n,t,r,v]),w=(0,a.useCallback)((function(e){var r=e.error,a=e.errorHash;(0,i.$s)("stake.full_screen_error.viewed",{errorHash:a,errorMessage:r.message,action:g.X2.view,componentType:g.I5.page,currencyCode:n,chainId:u,context:t});var o=(0,s.Gp)(r,"stake log global error");(0,s.gf)({error:o,metadata:{error:null==r?void 0:r.message},context:"bridge-error",severity:"error",isHandled:!1})}),[u,n,t]),S=(0,a.useCallback)((function(e){var t=e.error;return(0,C.jsx)(b.U,{error:t})}),[]);return(0,C.jsx)(y.T,{height:d.fG,children:(0,C.jsx)(f.t,{onError:w,renderFallback:S,children:(0,C.jsx)(p.e,{fallback:(0,C.jsx)(m.$,{}),children:(0,C.jsx)(k.Zd.Provider,{onSubmit:c(),initialValues:h,children:(0,C.jsx)(P,{})})})})})}I(P,"useDefaultStep{defaultStep}",(function(){return[v.X]})),I(L,"useParams{{ stakeType, currencyCode, targetCurrencyCode, chainId, tokenId }}\nuseMemo{initialFormValues}\nuseCallback{logGlobalError}\nuseCallback{renderFallback}",(function(){return[o.g]})),(x="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(x.register(P,"StakeContent","/workspaces/apps/extension/src/screens/Stake/Stake.tsx"),x.register(L,"Stake","/workspaces/apps/extension/src/screens/Stake/Stake.tsx")),(M="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&M(e)},13041:(e,t,n)=>{n.d(t,{A:()=>b});var r,a=n(33396),o=n(25071),i=n(34627),s=n(20495),l=n(94955),u=n(59311),c=n(57691),d=n(57571),f=n(60527),p=n(74989),y=n(46171),g=n(31085);e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var v,m;"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function b(){return(0,g.jsxs)(y.Im.Steps,{children:[(0,g.jsx)(a.yQ,{component:(0,g.jsx)(u.J,{})},"learn"),(0,g.jsx)(a.yQ,{component:(0,g.jsx)(l.b,{})},"entry"),(0,g.jsx)(a.yQ,{component:(0,g.jsx)(i.U,{})},"confirmationPreview"),(0,g.jsx)(a.yQ,{component:(0,g.jsx)(c.A,{})},"phoneConfirmation"),(0,g.jsx)(a.yQ,{component:(0,g.jsx)(p.f,{})},"status"),(0,g.jsx)(a.yQ,{component:(0,g.jsx)(s.Y,{})},"depositGas"),(0,g.jsx)(a.yQ,{component:(0,g.jsx)(d.V,{})},"selectAsset"),(0,g.jsx)(a.yQ,{component:(0,g.jsx)(f.I,{})},"selectProvider"),(0,g.jsx)(a.yQ,{component:(0,g.jsx)(o.q,{})},"claimConfirmation")]})}(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&v.register(b,"StakeStepper","/workspaces/apps/extension/src/screens/Stake/StakeStepper.tsx"),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&m(e)},25071:(e,t,n)=>{n.d(t,{q:()=>le});var r,a=n(14041),o=n(32183),i=n(8867),s=n(86090),l=n(65393),u=n(52303),c=n(13394),d=n(63164),f=n(2688),p=n(39060),y=n(62872),g=n(53404),v=n(10135),m=n(7427),b=n(70359),k=n(396),h=n(24475),C=n(3093),w=n(79119),S=n(94975),A=n(78154),T=n(70918),x=n(32451),M=n(78392),I=n(17065),P=n(4118),L=n(33396),E=n(37121),j=n(1974),O=n(15654),D=n(55799),F=n(28672),G=n(5950),B=n(86700),H=n(46171),N=n(72502),W=n(54),R=n(31085);function V(e){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(e)}function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=V(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=V(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==V(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(){"use strict";var e=J(),t=e.m(q),n=(Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__).constructor;function r(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===n||"GeneratorFunction"===(t.displayName||t.name))}var a={throw:1,return:2,break:3,continue:3};function o(e){var t,n;return function(r){t||(t={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(e,t){return n(r.a,a[e],t)},delegateYield:function(e,a,o){return t.resultName=a,n(r.d,K(e),o)},finish:function(e){return n(r.f,e)}},n=function(e,n,a){r.p=t.prev,r.n=t.next;try{return e(n,a)}finally{t.next=r.n}}),t.resultName&&(t[t.resultName]=r.v,t.resultName=void 0),t.sent=r.v,t.next=r.n;try{return e.call(this,t)}finally{r.p=t.prev,r.n=t.next}}}return(q=function(){return{wrap:function(t,n,r,a){return e.w(o(t),n,r,a&&a.reverse())},isGeneratorFunction:r,mark:e.m,awrap:function(e,t){return new ee(e,t)},AsyncIterator:X,async:function(e,t,n,a,i){return(r(t)?Z:Q)(o(e),t,n,a,i)},keys:Y,values:K}})()}function K(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}throw new TypeError(V(e)+" is not iterable")}function Y(e){var t=Object(e),n=[];for(var r in t)n.unshift(r);return function e(){for(;n.length;)if((r=n.pop())in t)return e.value=r,e.done=!1,e;return e.done=!0,e}}function Q(e,t,n,r,a){var o=Z(e,t,n,r,a);return o.next().then((function(e){return e.done?e.value:o.next()}))}function Z(e,t,n,r,a){return new X(J().w(e,t,n,r),a||Promise)}function X(e,t){function n(r,a,o,i){try{var s=e[r](a),l=s.value;return l instanceof ee?t.resolve(l.v).then((function(e){n("next",e,o,i)}),(function(e){n("throw",e,o,i)})):t.resolve(l).then((function(e){s.value=e,o(s)}),(function(e){return n("throw",e,o,i)}))}catch(e){i(e)}}var r;this.next||($(X.prototype),$(X.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),$(this,"_invoke",(function(e,a,o){function i(){return new t((function(t,r){n(e,o,t,r)}))}return r=r?r.then(i,i):i()}),!0)}function J(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var l=r&&r.prototype instanceof s?r:s,u=Object.create(l.prototype);return $(u,"_invoke",function(n,r,a){var o,s,l,u=0,c=a||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return o=t,s=0,l=e,f.n=n,i}};function p(n,r){for(s=n,l=r,t=0;!d&&u&&!a&&t<c.length;t++){var a,o=c[t],p=f.p,y=o[2];n>3?(a=y===r)&&(l=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=p&&((a=n<2&&p<o[1])?(s=0,f.v=r,f.n=o[1]):p<y&&(a=n<3||o[0]>r||r>y)&&(o[4]=n,o[5]=r,f.n=y,s=0))}if(a||n>1)return i;throw d=!0,r}return function(a,c,y){if(u>1)throw TypeError("Generator is already running");for(d&&1===c&&p(c,y),s=c,l=y;(t=s<2?e:l)||!d;){o||(s?s<3?(s>1&&(f.n=-1),p(s,l)):f.n=l:f.v=l);try{if(u=2,o){if(s||(a="next"),t=o[a]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),s=1);o=e}else if((t=(d=f.n<0)?l:n.call(r,f))!==i)break}catch(t){o=e,s=1,l=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function s(){}function l(){}function u(){}t=Object.getPrototypeOf;var c=[][r]?t(t([][r]())):($(t={},r,(function(){return this})),t),d=u.prototype=s.prototype=Object.create(c);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,$(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=u,$(d,"constructor",u),$(u,"constructor",l),l.displayName="GeneratorFunction",$(u,a,"GeneratorFunction"),$(d),$(d,a,"Generator"),$(d,r,(function(){return this})),$(d,"toString",(function(){return"[object Generator]"})),(J=function(){return{w:o,m:f}})()}function $(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}$=function(e,t,n,r){function o(t,n){$(e,t,(function(e){return this._invoke(t,n,e)}))}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},$(e,t,n,r)}function ee(e,t){this.v=e,this.k=t}function te(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return re(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?re(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var ae,oe,ie="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},se=(0,o.YK)({claimTitle:{id:"ISNPhP",defaultMessage:[{type:0,value:"Claim"}]},unstakeTitle:{id:"dy9tzc",defaultMessage:[{type:0,value:"Unstake"}]},aprLabel:{id:"e4Bven",defaultMessage:[{type:1,value:"rate"},{type:0,value:" APR"}]},questionsLabel:{id:"nZnLXA",defaultMessage:[{type:0,value:"Questions about staking?"}]},readFAQsLabel:{id:"VidkL6",defaultMessage:[{type:0,value:"Read FAQs"}]}});function le(){var e=ne((0,a.useState)(!1),2),t=e[0],n=e[1],r=(0,E.A)(H.Zd),o=r.stakeType,i=r.network,s=r.tokenId,l=(0,T.h)(),u=(0,k.u)(l,{network:i.value,stakeType:h.V.STAKE,currencyCodes:[b.mv]}),c=(0,A.F)(l,i.value);if(!c)throw new Error("Transaction data was missing in StakeClaimConfirmation");var d=(0,a.useCallback)((function(){n(!0)}),[]),f=(0,N.v)({sourceWallet:u[0],feeWallet:c,stakeType:o.value,tokenId:s.value,handleSuccess:d}),p=f.generateTransactions,y=f.isGenerateTransactionsLoading;return(0,a.useEffect)((function(){p()}),[]),!t||y?(0,R.jsx)(O.T,{alignItems:"center",justifyContent:"center",height:"100%",children:(0,R.jsx)(I.y,{color:"fgPrimary"})}):(0,R.jsx)(ue,{wallet:u[0]})}function ue(e){var t,n,r,o=e.wallet,b=(0,i.A)().formatMessage,k=(0,s.W6)().goBack,h=(0,L.lE)(H.Im).goToStep,I=(0,E.A)(H.Zd),O=I.unsignedStakeTxResult,V=I.stakeTxData,U=I.currencyCode,z=I.stakeType,K=I.network,Y=I.tokenId,Q=I.ledgerStakeError,Z=(0,T.h)(),X=(0,A.F)(Z,K.value),J=ne((0,a.useState)(null),2),$=J[0],ee=J[1],re=(0,a.useMemo)((function(){var e;return{currencyCode:U.value,chainId:null===(e=K.value.asChain())||void 0===e?void 0:e.chainId}}),[U,K.value]),ae=(0,l.Dw)(re),oe=(0,l.Ve)(re),ie=(0,l.Nv)(re),le=(0,l.ES)(re),ue=(0,G.s)();if(!(V.value&&null!=O&&null!==(t=O.value)&&void 0!==t&&t.transaction&&null!=O&&null!==(n=O.value)&&void 0!==n&&n.wallet&&X))throw new Error("Transaction data was missing in StakeClaimConfirmation");(0,B.c)((0,x.y9)(x.fO.stake),x.yW.load_claim_preview,{type:"end"});var ce=(0,P.z)((0,x.y9)(x.fO.stake),x.yW.trigger_claim,{logMetric:!0}).start,de=(0,m.vQ)(O.value.wallet.accountId),fe=(0,N.v)({sourceWallet:o,feeWallet:X,shouldIgnoreSuccessRedirect:!0,stakeType:z.value,tokenId:Y.value}),pe=fe.generateTransactions,ye=fe.isGenerateTransactionsLoading,ge=ne((0,a.useState)(new Date),2),ve=ge[0],me=ge[1],be=(0,a.useCallback)(function(){var e,t=(e=q().mark((function e(){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe();case 2:me(new Date);case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){te(o,r,a,i,s,"next",e)}function s(e){te(o,r,a,i,s,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),[pe]);(0,y.G)(be,{interval:W.u});var ke=(0,a.useCallback)((function(e){(0,l.U9)(_(_({},re),{},{canceledFromError:e})),k()}),[k,re]),he=(0,a.useCallback)((function(){h("status")}),[h]),Ce=(0,a.useCallback)((function(e){ee(e)}),[]),we=(0,a.useCallback)((function(){(0,l.V7)(re)}),[re]),Se=(0,a.useCallback)((function(e){(0,l.GF)(re),ee(e)}),[re]),Ae=(0,v.D)({wallet:O.value.wallet,unsignedTxOrUserOp:O.value.transaction,unlockSuccess:we,unlockError:Se,signSuccess:he,signError:Ce,handleUnlock:ue(de.id)}),Te=Ae.signAndSubmitStandalone,xe=Ae.isSignAndSubmitStandaloneLoading,Me=(0,a.useCallback)((function(){(0,l.FD)(re),h("status")}),[h,re]),Ie=(0,a.useCallback)((function(){(0,l.IO)(re)}),[re]),Pe=(0,a.useCallback)((function(e){(0,l.V_)(re),(0,c.gf)({error:new Error(e.message),context:"ledger-error",severity:"error",isHandled:!1}),Q.onChange(e),h("status")}),[h,Q,re]),Le=(0,g.LK)({unsignedTxOrUserOp:O.value.transaction,onSignSuccess:Me,onSignError:Pe,flow:g.nl.Stake}),Ee=Le.signAndSubmitLedger,je=Le.isHardwareWalletSigning,Oe=Le.hardwareWalletScreen,De=(0,a.useCallback)((function(){h("phoneConfirmation")}),[h]),Fe=ye||xe||je,Ge=(0,w.f)(V.value),Be=(0,S.A)(null==O?void 0:O.value.transaction,null==O?void 0:O.value.wallet),He=(0,a.useCallback)((function(e){var t=e.networkEstimatedFee,n=e.networkBaseFee,r=e.networkMaxFee;ae({networkEstimatedFee:t,networkBaseFee:n,networkMaxFee:r});try{var a;if((0,u._)(null==O||null===(a=O.value)||void 0===a?void 0:a.transaction)){var o=Be,i=o.lowerBoundFee,s=o.upperBoundFee;if(!i||!s)throw new Error("No valid lower and upper bound fees for bridge 1559 transaction");oe(Be)}else{if(!Be.estimatedFee)throw new Error("No valid estimated fee for claim transaction");ie(Be)}}catch(e){le(Be)}}),[ae,null==O||null===(r=O.value)||void 0===r?void 0:r.transaction,Be,oe,ie,le]),Ne=(0,C.l)({stakeType:z.value,stakeTxData:V.value,unsignedStakeTx:O.value.transaction,isPageLoading:Fe,lastUpdateTime:ve,rowItemsAnalytics:He}),We=(0,d.m)(Z,{stakeTxData:V.value,unsignedStakeTx:O.value.transaction}),Re=(0,a.useCallback)((function(){(0,l.AG)(re)}),[re]),Ve=(0,f.O)({account:de,buttonAnalyticsCallbacks:{triggerAnalyticsConfirm:Re},signAndSubmitStandalone:Te,signAndSubmitLedger:Ee,signAndSubmitWalletlink:De,markStartPerf:ce}),Ue=(0,p.i)({isLoading:Fe,transactionDetailError:We,buttonAnalyticsCallbacks:{triggerAnalyticsConfirm:Re},onCancelButtonPressed:ke,context:p.k.CLAIM,getHandleSubmitPressed:Ve}),_e=Ge.secondaryItem.iconSourceOrName,ze=(0,a.useMemo)((function(){return{currencyCode:_e.currencyCode,iconUrl:_e.iconUrl,showNetworkIcon:!0,network:null==_e?void 0:_e.network}}),[_e.currencyCode,_e.iconUrl,null==_e?void 0:_e.network]);return je?Oe:(0,R.jsx)(F.Z,{headerText:b(se.claimTitle),detailRowItems:Ne,error:We,buttonProps:Ue,onPrimaryButtonDisabled:Ie,handleBackButton:k,signAndSubmitError:$,height:"100%",topSection:(0,R.jsx)(D.a,{bordered:!0,children:(0,R.jsx)(j.l,{title:Ge.secondaryItem.title,detail:Ge.secondaryItem.detail,subdetail:Ge.secondaryItem.subDetail,media:(0,R.jsx)(M.E,{asset:ze})})})})}ie(le,"useState{[isInitialized, setIsInitialized](false)}\nuseFields{{ stakeType, network, tokenId }}\nuseActiveWalletGroupId{activeWalletGroupId}\nuseEarnableWallets{earnableWallets}\nuseGetFeeWallet{feeWallet}\nuseCallback{handleSuccess}\nuseGenerateStakeTransaction{{ generateTransactions, isGenerateTransactionsLoading }}\nuseEffect{}",(function(){return[E.A,T.h,k.u,A.F,N.v]})),ie(ue,"useIntl{{ formatMessage }}\nuseHistory{{ goBack }}\nuseStepper{{ goToStep }}\nuseFields{{\n    unsignedStakeTxResult,\n    stakeTxData,\n    currencyCode,\n    stakeType,\n    network,\n    tokenId,\n    ledgerStakeError,\n  }}\nuseActiveWalletGroupId{activeWalletGroupId}\nuseGetFeeWallet{feeWallet}\nuseState{[signAndSubmitError, setSignAndSubmitError](null)}\nuseMemo{analyticsMetadata}\nuseClaimConfirmationStepViewed{triggerAnalyticsConfirmationStepViewed}\nuseStakeConfirmationGasFeeViewed1559{triggerAnalyticsGasFeeViewed1559}\nuseStakeConfirmationGasFeeViewedLegacy{triggerAnalyticsGasFeeViewedLegacy}\nuseStakeConfirmationGasFeeNotShown{triggerAnalyticsGasFeeNotShown}\nuseHandleUnlockForSigning{handleUnlock}\nusePerfMarkOnMount{}\nuseExtensionPerfMark{{ start: markStartClaimPerf }}\nuseAccountById{account}\nuseGenerateStakeTransaction{{ generateTransactions, isGenerateTransactionsLoading }}\nuseState{[lastUpdateTime, setLastUpdateTime](new Date())}\nuseCallback{refreshNetworkFeeCallback}\nuseIntervalForPromises{}\nuseCallback{handleCancel}\nuseCallback{onStandaloneSigningSuccess}\nuseCallback{onSigningError}\nuseCallback{handleUnlockSuccess}\nuseCallback{handleUnlockError}\nuseSignAndSubmitStandalone{{ signAndSubmitStandalone, isSignAndSubmitStandaloneLoading }}\nuseCallback{handleLedgerSigningSuccess}\nuseCallback{handlePrimaryButtonDisabled}\nuseCallback{handleLedgerSigningError}\nuseSignAndSubmitLedger{{ signAndSubmitLedger, isHardwareWalletSigning, hardwareWalletScreen }}\nuseCallback{signAndSubmitWalletlink}\nuseTransactionOverviewItems{overViewItems}\nuseAnalyticsFeeData{analyticsFeeData}\nuseCallback{rowItemsAnalytics}\nuseTransactionDetailRowItems{transactionDetailRowItems}\nuseTransactionDetailErrors{transactionDetailError}\nuseCallback{triggerAnalyticsConfirm}\nuseGetHandleSubmitPressed{getHandleSubmitPressed}\nuseTransactionDetailButtons{buttonProps}\nuseMemo{assetLike}",(function(){return[i.A,s.W6,L.lE,E.A,T.h,A.F,l.Dw,l.Ve,l.Nv,l.ES,G.s,B.c,P.z,m.vQ,N.v,y.G,v.D,g.LK,w.f,S.A,C.l,d.m,f.O,p.i]})),(ae="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(ae.register(se,"messages","/workspaces/apps/extension/src/screens/Stake/steps/ClaimConfirmationStep/ClaimConfirmationStep.tsx"),ae.register(le,"ClaimConfirmationStep","/workspaces/apps/extension/src/screens/Stake/steps/ClaimConfirmationStep/ClaimConfirmationStep.tsx"),ae.register(ue,"ClaimConfirmationInitialized","/workspaces/apps/extension/src/screens/Stake/steps/ClaimConfirmationStep/ClaimConfirmationStep.tsx")),(oe="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&oe(e)},34627:(e,t,n)=>{n.d(t,{U:()=>le});var r,a=n(14041),o=n(32183),i=n(8867),s=n(65393),l=n(52303),u=n(4244),c=n(13394),d=n(63164),f=n(2688),p=n(39060),y=n(62872),g=n(53404),v=n(10135),m=n(7427),b=n(70359),k=n(7548),h=n(24475),C=n(3093),w=n(79119),S=n(94975),A=n(78154),T=n(70918),x=n(32451),M=n(4118),I=n(33396),P=n(37121),L=n(98055),E=n(52331),j=n(26893),O=n(28672),D=n(5950),F=n(86700),G=n(64654),B=n(46171),H=n(72502),N=n(54),W=n(31085);function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=R(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=R(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==R(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z(){"use strict";var e=X(),t=e.m(z),n=(Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__).constructor;function r(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===n||"GeneratorFunction"===(t.displayName||t.name))}var a={throw:1,return:2,break:3,continue:3};function o(e){var t,n;return function(r){t||(t={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(e,t){return n(r.a,a[e],t)},delegateYield:function(e,a,o){return t.resultName=a,n(r.d,q(e),o)},finish:function(e){return n(r.f,e)}},n=function(e,n,a){r.p=t.prev,r.n=t.next;try{return e(n,a)}finally{t.next=r.n}}),t.resultName&&(t[t.resultName]=r.v,t.resultName=void 0),t.sent=r.v,t.next=r.n;try{return e.call(this,t)}finally{r.p=t.prev,r.n=t.next}}}return(z=function(){return{wrap:function(t,n,r,a){return e.w(o(t),n,r,a&&a.reverse())},isGeneratorFunction:r,mark:e.m,awrap:function(e,t){return new $(e,t)},AsyncIterator:Z,async:function(e,t,n,a,i){return(r(t)?Q:Y)(o(e),t,n,a,i)},keys:K,values:q}})()}function q(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}throw new TypeError(R(e)+" is not iterable")}function K(e){var t=Object(e),n=[];for(var r in t)n.unshift(r);return function e(){for(;n.length;)if((r=n.pop())in t)return e.value=r,e.done=!1,e;return e.done=!0,e}}function Y(e,t,n,r,a){var o=Q(e,t,n,r,a);return o.next().then((function(e){return e.done?e.value:o.next()}))}function Q(e,t,n,r,a){return new Z(X().w(e,t,n,r),a||Promise)}function Z(e,t){function n(r,a,o,i){try{var s=e[r](a),l=s.value;return l instanceof $?t.resolve(l.v).then((function(e){n("next",e,o,i)}),(function(e){n("throw",e,o,i)})):t.resolve(l).then((function(e){s.value=e,o(s)}),(function(e){return n("throw",e,o,i)}))}catch(e){i(e)}}var r;this.next||(J(Z.prototype),J(Z.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),J(this,"_invoke",(function(e,a,o){function i(){return new t((function(t,r){n(e,o,t,r)}))}return r=r?r.then(i,i):i()}),!0)}function X(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var l=r&&r.prototype instanceof s?r:s,u=Object.create(l.prototype);return J(u,"_invoke",function(n,r,a){var o,s,l,u=0,c=a||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return o=t,s=0,l=e,f.n=n,i}};function p(n,r){for(s=n,l=r,t=0;!d&&u&&!a&&t<c.length;t++){var a,o=c[t],p=f.p,y=o[2];n>3?(a=y===r)&&(l=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=p&&((a=n<2&&p<o[1])?(s=0,f.v=r,f.n=o[1]):p<y&&(a=n<3||o[0]>r||r>y)&&(o[4]=n,o[5]=r,f.n=y,s=0))}if(a||n>1)return i;throw d=!0,r}return function(a,c,y){if(u>1)throw TypeError("Generator is already running");for(d&&1===c&&p(c,y),s=c,l=y;(t=s<2?e:l)||!d;){o||(s?s<3?(s>1&&(f.n=-1),p(s,l)):f.n=l:f.v=l);try{if(u=2,o){if(s||(a="next"),t=o[a]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),s=1);o=e}else if((t=(d=f.n<0)?l:n.call(r,f))!==i)break}catch(t){o=e,s=1,l=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function s(){}function l(){}function u(){}t=Object.getPrototypeOf;var c=[][r]?t(t([][r]())):(J(t={},r,(function(){return this})),t),d=u.prototype=s.prototype=Object.create(c);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,J(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=u,J(d,"constructor",u),J(u,"constructor",l),l.displayName="GeneratorFunction",J(u,a,"GeneratorFunction"),J(d),J(d,a,"Generator"),J(d,r,(function(){return this})),J(d,"toString",(function(){return"[object Generator]"})),(X=function(){return{w:o,m:f}})()}function J(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}J=function(e,t,n,r){function o(t,n){J(e,t,(function(e){return this._invoke(t,n,e)}))}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},J(e,t,n,r)}function $(e,t){this.v=e,this.k=t}function ee(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function te(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ee(o,r,a,i,s,"next",e)}function s(e){ee(o,r,a,i,s,"throw",e)}i(void 0)}))}}function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return re(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?re(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var ae,oe,ie="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},se=(0,o.YK)({earnTitle:{id:"K79kK4",defaultMessage:[{type:0,value:"Earn yield"}]},unstakeTitle:{id:"dy9tzc",defaultMessage:[{type:0,value:"Unstake"}]},questionsLabel:{id:"nZnLXA",defaultMessage:[{type:0,value:"Questions about staking?"}]},seeFAQButton:{id:"1zZBMs",defaultMessage:[{type:0,value:"See FAQ"}]},readFAQsLabel:{id:"wVpK/U",defaultMessage:[{type:0,value:"Read FAQs"}]}});function le(){var e,t,n,r,o,R,V,_,q,K,Y,Q=(0,i.A)().formatMessage,Z=(0,I.lE)(B.Im),X=Z.goBack,J=Z.goToStep,$=ne((0,a.useState)(null),2),ee=$[0],re=$[1],ae=(0,u.J9)().formatToCrypto,oe=(0,P.A)(B.Zd),ie=oe.unsignedApproveTxResult,le=oe.unsignedStakeTxResult,ue=oe.stakeTxData,ce=oe.cryptoAmount,de=oe.currencyCode,fe=oe.stakeType,pe=oe.ledgerStakeError,ye=oe.targetCurrencyCode,ge=ne((0,a.useState)(new Date),2),ve=ge[0],me=ge[1],be=(0,T.h)(),ke=(0,h.X)(be,{currencyCode:de.value,targetCurrencyCode:ye.value,stakeType:fe.value}),he=ke.sourceWallet,Ce=ke.targetWallet,we=(0,A.F)(be,null!==(e=null==he?void 0:he.network)&&void 0!==e?e:G.t0),Se=(0,k.a)({targetCurrencyCode:fe.value===h.V.STAKE?ye.value:de.value}).earnRate;if(!(ue.value&&null!=le&&null!==(t=le.value)&&void 0!==t&&t.transaction&&null!=le&&null!==(n=le.value)&&void 0!==n&&n.wallet&&he&&we))throw new Error("Transaction data was missing in ConfirmationPreviewStep");var Ae=(0,m.vQ)(he.accountId),Te=(0,a.useMemo)((function(){var e;return{currencyCode:he.currencyCode.code,chainId:null===(e=he.network.asChain())||void 0===e?void 0:e.chainId,contractAddress:he.contractAddress,cryptoAmount:ae({currencyCode:he.currencyCode,decimals:he.decimals,value:ce.value,includeCode:!1}),targetCurrencyCode:ye.value}}),[he.currencyCode,he.network,he.contractAddress,he.decimals,ae,ce.value,ye]),xe=(0,s.fO)(Te),Me=(0,s.Ve)(Te),Ie=(0,s.Nv)(Te),Pe=(0,s.ES)(Te);(0,F.c)((0,x.y9)(x.fO.stake),x.yW.load_preview,{type:"end"});var Le=(0,M.z)((0,x.y9)(x.fO.stake),x.yW.trigger_stake,{logMetric:!0}).start,Ee=(0,H.v)({sourceWallet:he,feeWallet:we,targetWallet:Ce,shouldIgnoreSuccessRedirect:!0,amount:ce.value,stakeType:fe.value}),je=Ee.generateTransactions,Oe=Ee.isGenerateTransactionsLoading,De=(0,D.s)(),Fe=(0,a.useCallback)((function(){(0,s.XC)(Te),J("status")}),[J,Te]),Ge=(0,a.useCallback)((function(e){(0,s.L$)(Te),re(e)}),[Te]),Be=(0,a.useCallback)((function(){(0,s.pM)(Te),J("status")}),[Te,J]),He=(0,a.useCallback)((function(e){(0,s.Az)(Te),re(e)}),[Te]),Ne=(0,v.D)({wallet:le.value.wallet,unsignedTxOrUserOp:le.value.transaction,unsignedApproveTxOrUserOp:null==ie||null===(r=ie.value)||void 0===r?void 0:r.transaction,unlockSuccess:Be,unlockError:He,signSuccess:Fe,signError:Ge,handleUnlock:De(null===(o=le.value)||void 0===o||null===(o=o.wallet)||void 0===o?void 0:o.accountId)}),We=Ne.signAndSubmitStandalone,Re=Ne.isSignAndSubmitStandaloneLoading,Ve=(0,a.useCallback)(te(z().mark((function e(){return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je();case 2:me(new Date);case 3:case"end":return e.stop()}}),e)}))),[je]);(0,y.G)(Ve,{interval:N.u});var Ue=(0,d.m)(be,{stakeTxData:ue.value,unsignedApproveTx:null===(R=ie.value)||void 0===R?void 0:R.transaction,unsignedStakeTx:le.value.transaction}),_e=(0,S.A)(null===(V=le.value)||void 0===V?void 0:V.transaction,null===(_=le.value)||void 0===_?void 0:_.wallet),ze=(0,a.useCallback)((function(e){var t=e.networkEstimatedFee,n=e.networkBaseFee,r=e.networkMaxFee;xe({networkEstimatedFee:t,networkBaseFee:n,networkMaxFee:r});try{var a;if((0,l._)(null===(a=le.value)||void 0===a?void 0:a.transaction)){var o=_e,i=o.lowerBoundFee,s=o.upperBoundFee;if(!i||!s)throw new Error("No valid lower and upper bound fees for bridge 1559 transaction");Me(_e)}else{if(!_e.estimatedFee)throw new Error("No valid estimated fee for bridge transaction");Ie(_e)}}catch(e){Pe(_e)}}),[xe,null===(q=le.value)||void 0===q?void 0:q.transaction,_e,Me,Ie,Pe]),qe=(0,a.useCallback)((function(e){(0,s.AQ)(U(U({},Te),{},{canceledFromError:e})),X()}),[X,Te]),Ke=(0,a.useCallback)((function(){(0,s.re)(Te),chrome.tabs.create({url:b.xg[null==he?void 0:he.currencyCode.code]})}),[Te,he]),Ye=(0,a.useCallback)((function(){(0,s.YX)(Te)}),[Te]),Qe=(0,a.useCallback)((function(){(0,s.Bi)(Te)}),[Te]),Ze=(0,a.useCallback)((function(){(0,s.Tp)(Te),J("status")}),[J,Te]),Xe=(0,a.useCallback)((function(){(0,s.gH)(Te)}),[Te]),Je=(0,a.useCallback)((function(e){(0,s.X8)(Te),(0,c.gf)({error:new Error(e.message),context:"ledger-error",severity:"error",isHandled:!1}),pe.onChange(e),J("status")}),[J,pe,Te]),$e=(0,g.LK)({unsignedTxOrUserOp:le.value.transaction,unsignedApproveTxOrUserOp:null===(K=ie.value)||void 0===K?void 0:K.transaction,onSignSuccess:Ze,onSignError:Je,flow:g.nl.Stake}),et=$e.signAndSubmitLedger,tt=$e.isHardwareWalletSigning,nt=$e.hardwareWalletScreen,rt=(0,a.useCallback)((function(){J("phoneConfirmation")}),[J]),at=Oe||Re||tt,ot=(0,f.O)({account:Ae,buttonAnalyticsCallbacks:{triggerAnalyticsConfirmAnyway:Qe,triggerAnalyticsConfirm:Ye},signAndSubmitStandalone:We,signAndSubmitWalletlink:rt,signAndSubmitLedger:et,markStartPerf:Le}),it=(0,p.i)({isLoading:at,transactionDetailError:Ue,buttonAnalyticsCallbacks:{triggerAnalyticsConfirmAnyway:Qe,triggerAnalyticsConfirm:Ye},onCancelButtonPressed:qe,context:fe.value===h.V.STAKE?p.k.STAKE:p.k.UNSTAKE,getHandleSubmitPressed:ot}),st=(0,C.l)({stakeType:fe.value,stakeTxData:ue.value,unsignedApproveTx:null===(Y=ie.value)||void 0===Y?void 0:Y.transaction,unsignedStakeTx:le.value.transaction,isPageLoading:at,lastUpdateTime:ve,rowItemsAnalytics:ze}),lt=(0,w.f)(ue.value),ut=(0,a.useMemo)((function(){return U(U({},lt.primaryItem),fe.value===h.V.UNSTAKE?{description:(0,W.jsx)(L.v,{as:"p",color:"fgPositive",children:Se})}:{})}),[lt.primaryItem,fe.value,Se]),ct=(0,a.useMemo)((function(){return U(U({},lt.secondaryItem),fe.value===h.V.STAKE?{description:(0,W.jsx)(L.v,{as:"p",color:"fgPositive",children:Se})}:{})}),[lt.secondaryItem,fe.value,Se]);return tt?nt:(0,W.jsx)(O.Z,{headerText:Q(fe.value===h.V.STAKE?se.earnTitle:se.unstakeTitle),headerAction:(0,W.jsx)(E.N,{testID:"stake-confirmation-faq-link",onClick:Ke,as:"button",children:Q(se.readFAQsLabel)}),detailRowItems:st,error:Ue,buttonProps:it,onPrimaryButtonDisabled:Xe,handleBackButton:X,signAndSubmitError:ee,height:"100%",topSection:(0,W.jsx)(j.w,{primaryItem:ut,secondaryItem:ct,error:Ue})})}ie(le,"useIntl{{ formatMessage }}\nuseStepper{{ goBack, goToStep }}\nuseState{[signAndSubmitError, setSignAndSubmitError](null)}\nuseCurrencyFormatter{{ formatToCrypto }}\nuseFields{{\n    unsignedApproveTxResult,\n    unsignedStakeTxResult,\n    stakeTxData,\n    cryptoAmount,\n    currencyCode,\n    stakeType,\n    ledgerStakeError,\n    targetCurrencyCode,\n  }}\nuseState{[lastUpdateTime, setLastUpdateTime](new Date())}\nuseActiveWalletGroupId{activeWalletGroupId}\nuseSelectStakeWallet{{ sourceWallet, targetWallet }}\nuseGetFeeWallet{feeWallet}\nuseGetEarnRate{{ earnRate }}\nuseAccountById{account}\nuseMemo{analyticsMetadata}\nuseConfirmationStepViewed{triggerAnalyticsConfirmationStepViewed}\nuseStakeConfirmationGasFeeViewed1559{triggerAnalyticsGasFeeViewed1559}\nuseStakeConfirmationGasFeeViewedLegacy{triggerAnalyticsGasFeeViewedLegacy}\nuseStakeConfirmationGasFeeNotShown{triggerAnalyticsGasFeeNotShown}\nusePerfMarkOnMount{}\nuseExtensionPerfMark{{ start: markStartStakePerf }}\nuseGenerateStakeTransaction{{ generateTransactions, isGenerateTransactionsLoading }}\nuseHandleUnlockForSigning{handleUnlock}\nuseCallback{onStandaloneSigningSuccess}\nuseCallback{onStandaloneSigningError}\nuseCallback{handleUnlockSuccess}\nuseCallback{handleUnlockError}\nuseSignAndSubmitStandalone{{ signAndSubmitStandalone, isSignAndSubmitStandaloneLoading }}\nuseCallback{refreshNetworkFeeCallback}\nuseIntervalForPromises{}\nuseTransactionDetailErrors{transactionDetailError}\nuseAnalyticsFeeData{analyticsFeeData}\nuseCallback{rowItemsAnalytics}\nuseCallback{handleCancel}\nuseCallback{handleFAQPress}\nuseCallback{triggerAnalyticsConfirm}\nuseCallback{triggerAnalyticsConfirmAnyway}\nuseCallback{handleLedgerSigningSuccess}\nuseCallback{handlePrimaryButtonDisabled}\nuseCallback{handleLedgerSigningError}\nuseSignAndSubmitLedger{{ signAndSubmitLedger, isHardwareWalletSigning, hardwareWalletScreen }}\nuseCallback{signAndSubmitWalletlink}\nuseGetHandleSubmitPressed{getHandleSubmitPressed}\nuseTransactionDetailButtons{buttonProps}\nuseTransactionDetailRowItems{transactionDetailRowItems}\nuseTransactionOverviewItems{overViewItems}\nuseMemo{detailOverviewPrimaryItem}\nuseMemo{detailOverviewSectionItem}",(function(){return[i.A,I.lE,u.J9,P.A,T.h,h.X,A.F,k.a,m.vQ,s.fO,s.Ve,s.Nv,s.ES,F.c,M.z,H.v,D.s,v.D,y.G,d.m,S.A,g.LK,f.O,p.i,C.l,w.f]})),(ae="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(ae.register(se,"messages","/workspaces/apps/extension/src/screens/Stake/steps/ConfirmationPreviewStep/ConfirmationPreviewStep.tsx"),ae.register(le,"ConfirmationPreviewStep","/workspaces/apps/extension/src/screens/Stake/steps/ConfirmationPreviewStep/ConfirmationPreviewStep.tsx")),(oe="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&oe(e)},20495:(e,t,n)=>{n.d(t,{Y:()=>Z});var r,a=n(14041),o=n(32183),i=n(8867),s=n(86090),l=n(8239),u=n(4244),c=n(86431),d=n(62872),f=n(81732),p=n(24475),y=n(78154),g=n(70918),v=n(79734),m=n(21983),b=n(24905),k=n(33396),h=n(37121),C=n(22115),w=n(85581),S=n(34107),A=n(15654),T=n(84492),x=n(60149),M=n(97541),I=n(67209),P=n(52331),L=n(41690),E=n(46171),j=n(72502),O=n(31085);function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function F(){"use strict";var e=R(),t=e.m(F),n=(Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__).constructor;function r(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===n||"GeneratorFunction"===(t.displayName||t.name))}var a={throw:1,return:2,break:3,continue:3};function o(e){var t,n;return function(r){t||(t={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(e,t){return n(r.a,a[e],t)},delegateYield:function(e,a,o){return t.resultName=a,n(r.d,G(e),o)},finish:function(e){return n(r.f,e)}},n=function(e,n,a){r.p=t.prev,r.n=t.next;try{return e(n,a)}finally{t.next=r.n}}),t.resultName&&(t[t.resultName]=r.v,t.resultName=void 0),t.sent=r.v,t.next=r.n;try{return e.call(this,t)}finally{r.p=t.prev,r.n=t.next}}}return(F=function(){return{wrap:function(t,n,r,a){return e.w(o(t),n,r,a&&a.reverse())},isGeneratorFunction:r,mark:e.m,awrap:function(e,t){return new U(e,t)},AsyncIterator:W,async:function(e,t,n,a,i){return(r(t)?N:H)(o(e),t,n,a,i)},keys:B,values:G}})()}function G(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}throw new TypeError(D(e)+" is not iterable")}function B(e){var t=Object(e),n=[];for(var r in t)n.unshift(r);return function e(){for(;n.length;)if((r=n.pop())in t)return e.value=r,e.done=!1,e;return e.done=!0,e}}function H(e,t,n,r,a){var o=N(e,t,n,r,a);return o.next().then((function(e){return e.done?e.value:o.next()}))}function N(e,t,n,r,a){return new W(R().w(e,t,n,r),a||Promise)}function W(e,t){function n(r,a,o,i){try{var s=e[r](a),l=s.value;return l instanceof U?t.resolve(l.v).then((function(e){n("next",e,o,i)}),(function(e){n("throw",e,o,i)})):t.resolve(l).then((function(e){s.value=e,o(s)}),(function(e){return n("throw",e,o,i)}))}catch(e){i(e)}}var r;this.next||(V(W.prototype),V(W.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),V(this,"_invoke",(function(e,a,o){function i(){return new t((function(t,r){n(e,o,t,r)}))}return r=r?r.then(i,i):i()}),!0)}function R(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var l=r&&r.prototype instanceof s?r:s,u=Object.create(l.prototype);return V(u,"_invoke",function(n,r,a){var o,s,l,u=0,c=a||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return o=t,s=0,l=e,f.n=n,i}};function p(n,r){for(s=n,l=r,t=0;!d&&u&&!a&&t<c.length;t++){var a,o=c[t],p=f.p,y=o[2];n>3?(a=y===r)&&(l=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=p&&((a=n<2&&p<o[1])?(s=0,f.v=r,f.n=o[1]):p<y&&(a=n<3||o[0]>r||r>y)&&(o[4]=n,o[5]=r,f.n=y,s=0))}if(a||n>1)return i;throw d=!0,r}return function(a,c,y){if(u>1)throw TypeError("Generator is already running");for(d&&1===c&&p(c,y),s=c,l=y;(t=s<2?e:l)||!d;){o||(s?s<3?(s>1&&(f.n=-1),p(s,l)):f.n=l:f.v=l);try{if(u=2,o){if(s||(a="next"),t=o[a]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),s=1);o=e}else if((t=(d=f.n<0)?l:n.call(r,f))!==i)break}catch(t){o=e,s=1,l=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function s(){}function l(){}function u(){}t=Object.getPrototypeOf;var c=[][r]?t(t([][r]())):(V(t={},r,(function(){return this})),t),d=u.prototype=s.prototype=Object.create(c);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,V(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=u,V(d,"constructor",u),V(u,"constructor",l),l.displayName="GeneratorFunction",V(u,a,"GeneratorFunction"),V(d),V(d,a,"Generator"),V(d,r,(function(){return this})),V(d,"toString",(function(){return"[object Generator]"})),(R=function(){return{w:o,m:f}})()}function V(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}V=function(e,t,n,r){function o(t,n){V(e,t,(function(e){return this._invoke(t,n,e)}))}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},V(e,t,n,r)}function U(e,t){this.v=e,this.k=t}function _(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function z(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){_(o,r,a,i,s,"next",e)}function s(e){_(o,r,a,i,s,"throw",e)}i(void 0)}))}}e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var q,K,Y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},Q=(0,o.YK)({title:{id:"/OJF46",defaultMessage:[{type:0,value:"Let's top up your "},{type:1,value:"cryptoSymbol"},{type:0,value:" balance"}]},main:{id:"GJmTtm",defaultMessage:[{type:0,value:"Buy or transfer from Coinbase"}]},finePrint:{id:"NtJETL",defaultMessage:[{type:0,value:"Coinbase.com\u2019s account link feature is subject to coinbase.com "},{type:1,value:"userAgreement"},{type:0,value:" and "},{type:1,value:"privacyPolicy"},{type:0,value:"."}]},userAgreement:{id:"V6jvi1",defaultMessage:[{type:0,value:"User Agreement"}]},privacyPolicy:{id:"0ROee6",defaultMessage:[{type:0,value:"Privacy Policy"}]},cbPayButton:{id:"kR8Mqy",defaultMessage:[{type:0,value:"Buy with Coinbase Onramp"}]},transferButton:{id:"IykAaN",defaultMessage:[{type:0,value:"Transfer from another wallet"}]},defaultError:{id:"fnBlFk",defaultMessage:[{type:0,value:"Buy or transfer funds from Coinbase or another wallet."}]},zeroBalanceSubtitle:{id:"ZZAIvI",defaultMessage:[{type:0,value:"You need "},{type:1,value:"cryptoSymbol"},{type:0,value:" before you can make a transaction on the "},{type:1,value:"networkName"},{type:0,value:" network."}]},notEnoughBalanceSubtitle:{id:"R6shrI",defaultMessage:[{type:0,value:"You need an additional ~"},{type:1,value:"cryptoAmountNeeded"},{type:0,value:" ("},{type:1,value:"fiatAmountNeeded"},{type:0,value:") to cover the network fee."}]}});function Z(){var e,t,n,r=(0,i.A)().formatMessage,o=(0,s.W6)(),D=(0,k.lE)(E.Im).goBack,G=(0,u.J9)(),B=(0,h.A)(E.Zd),H=B.currencyCode,N=B.targetCurrencyCode,W=B.stakeType,R=B.formDepositAmount,V=B.cryptoAmount,U=B.network,_=(0,g.h)(),q=(0,p.X)(_,{currencyCode:H.value,targetCurrencyCode:N.value,chainId:null===(e=U.value.asChain())||void 0===e?void 0:e.chainId.toString(),stakeType:W.value}),K=q.sourceWallet,Y=q.targetWallet;if(!K||!Y)throw new Error("Wallet is required");var Z=(0,a.useMemo)((function(){var e;return{currencyCode:K.currencyCode.code,chainId:null===(e=K.network.asChain())||void 0===e?void 0:e.chainId,contractAddress:K.contractAddress,targetCurrencyCode:N.value}}),[K.contractAddress,K.currencyCode.code,K.network,N.value]),X=(0,y.F)(_,U.value);if(!X)throw new Error("Could not find a valid fee wallet for the select source chain");(0,l.pO)(Z);var J=(0,j.v)({sourceWallet:K,feeWallet:X,targetWallet:Y,amount:V.value,stakeType:W.value,shouldIgnoreSuccessRedirect:!0}),$=J.generateTransactions,ee=J.isGenerateTransactionsLoading,te=(0,a.useCallback)(z(F().mark((function e(){return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!=X&&X.balance&&X.balance>0n)){e.next=3;break}return e.next=3,$();case 3:case"end":return e.stop()}}),e)}))),[$,X]);(0,d.G)(te,{interval:3e4});var ne=(0,f.aR)({asset:null==X?void 0:X.currencyCode.rawValue,chainId:null==X||null===(t=X.network.asChain())||void 0===t?void 0:t.chainId,walletGroupId:_}),re=(0,a.useMemo)((function(){if(null==X||!X.currencyCode||!R.value)return 0;var e=G.fiatValue({currencyCode:null==X?void 0:X.currencyCode,decimals:null==X?void 0:X.decimals,value:R.value,contractAddress:null==X?void 0:X.contractAddress,network:null==X?void 0:X.network,blockchain:null==X?void 0:X.blockchain}),t=null==e?void 0:e.toNumber();return t?t+(25-t%25)%25:0}),[G,X,R.value]),ae=(0,c.Gj)({widgetParameters:{destinationWallets:ne,presetFiatAmount:re}}),oe=ae.cbPayInstance,ie=ae.isCBPayInstanceReady,se=(0,a.useCallback)(z(F().mark((function e(){var t;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,l.ON)(Z),e.abrupt("return",null===(t=oe.current)||void 0===t?void 0:t.open());case 2:case"end":return e.stop()}}),e)}))),[Z,oe]),le=(0,a.useCallback)((function(){(0,l.m2)(Z),o.push(L.Q.RECEIVE)}),[Z,o]),ue=(0,a.useCallback)((function(){D()}),[D]),ce=(0,a.useCallback)(z(F().mark((function e(){return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",chrome.tabs.create({url:v.i1,active:!1}));case 1:case"end":return e.stop()}}),e)}))),[]),de=(0,a.useCallback)(z(F().mark((function e(){return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",chrome.tabs.create({url:v.WO,active:!1}));case 1:case"end":return e.stop()}}),e)}))),[]),fe=(0,a.useMemo)((function(){var e,t;if(void 0!==R.value){var n=void 0!==(null==X?void 0:X.balance)&&null!=X&&X.currencyCode?G.formatToCrypto({currencyCode:X.currencyCode,decimals:X.decimals,value:R.value,network:X.network}):"",a=void 0!==(null==X?void 0:X.balance)&&null!=X&&X.currencyCode?G.formatToFiat({fromCurrencyCode:X.currencyCode,decimals:X.decimals,value:R.value,isAbbreviated:!1,contractAddress:X.contractAddress,network:X.network,blockchain:X.blockchain,includeCode:!0,formatZeroBalance:!0}):"";return r(Q.notEnoughBalanceSubtitle,{cryptoAmountNeeded:n,fiatAmountNeeded:a})}return r(Q.zeroBalanceSubtitle,{cryptoSymbol:null===(e=X.network.asChain())||void 0===e?void 0:e.baseAssetCurrencyCode,networkName:null===(t=X.network.asChain())||void 0===t?void 0:t.displayName})}),[G,X,R.value,r]);return(0,O.jsxs)(A.T,{height:b.pA,children:[(0,O.jsx)(m.u,{onBack:ue,paddingBottom:0}),(0,O.jsxs)(A.T,{alignItems:"center",width:"100%",paddingX:2,children:[(0,O.jsx)(x.f,{as:"h1",paddingBottom:1,textAlign:"center",children:r(Q.title,{cryptoSymbol:null===(n=X.network.asChain())||void 0===n?void 0:n.baseAssetCurrencyCode})}),(0,O.jsx)(M.K,{as:"p",color:"fgMuted",textAlign:"center",testID:"deposit-gas-message",children:fe}),(0,O.jsx)(T.z,{alignItems:"center",justifyContent:"center",paddingY:6,children:(0,O.jsx)(S.g,{name:"primeEarn"})})]}),(0,O.jsxs)(A.T,{alignItems:"center",width:"100%",children:[(0,O.jsxs)(C.e,{accessibilityLabel:"Transfer Funds",block:!0,direction:"vertical",children:[(0,O.jsx)(w.$n,{onClick:se,loading:ee||!ie,testID:"deposit-gas-cb-pay-button",children:(0,O.jsx)(T.z,{alignItems:"center",gap:1,children:r(Q.cbPayButton)})}),(0,O.jsx)(w.$n,{onClick:le,variant:"secondary",testID:"deposit-gas-transfer-button",children:r(Q.transferButton)})]}),(0,O.jsx)(I.V,{as:"p",color:"fgMuted",textAlign:"center",paddingTop:2,children:r(Q.finePrint,{userAgreement:(0,O.jsx)(P.N,{font:"legal",color:"fgPrimary",onClick:ce,as:"button",children:r(Q.userAgreement)}),privacyPolicy:(0,O.jsx)(P.N,{font:"legal",color:"fgPrimary",onClick:de,as:"button",children:r(Q.privacyPolicy)})})})]})]})}Y(Z,"useIntl{{ formatMessage }}\nuseHistory{history}\nuseStepper{{ goBack }}\nuseCurrencyFormatter{currencyFormatter}\nuseFields{{ currencyCode, targetCurrencyCode, stakeType, formDepositAmount, cryptoAmount, network }}\nuseActiveWalletGroupId{activeWalletGroupId}\nuseSelectStakeWallet{{ sourceWallet, targetWallet }}\nuseMemo{analyticsMetadata}\nuseGetFeeWallet{feeWallet}\nuseDepositGasStepViewed{}\nuseGenerateStakeTransaction{{ generateTransactions, isGenerateTransactionsLoading }}\nuseCallback{refreshNetworkFeeCallback}\nuseIntervalForPromises{}\nuseDestinationWallets{destinationWallets}\nuseMemo{nextMultipleOf25}\nuseCoinbasePay{{ cbPayInstance, isCBPayInstanceReady }}\nuseCallback{handleConnectCoinbaseClick}\nuseCallback{handleTransferClick}\nuseCallback{handleBackClick}\nuseCallback{handleClickUserAgreement}\nuseCallback{handleClickPrivacyPolicy}\nuseMemo{subtitle}",(function(){return[i.A,s.W6,k.lE,u.J9,h.A,g.h,p.X,y.F,l.pO,j.v,d.G,f.aR,c.Gj]})),(q="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(q.register(Q,"messages","/workspaces/apps/extension/src/screens/Stake/steps/DepositGasStep/DepositGasStep.tsx"),q.register(Z,"DepositGasStep","/workspaces/apps/extension/src/screens/Stake/steps/DepositGasStep/DepositGasStep.tsx")),(K="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&K(e)},94955:(e,t,n)=>{n.d(t,{b:()=>se});var r=n(14041),a=n(32183),o=n(8867),i=n(86090),s=n(65393),l=n(96295),u=n(4244),c=n(61516),d=n(97416),f=n(66181),p=n(14928),y=n(81894);function g(){const e=(0,f.l)((0,p.T)("kill_staking_top_up")),t=(0,y.s)(d.r.feb_2023_stake_top_up);return!e&&t}var v=n(61096),m=n(88),b=n(11554),k=n(70359),h=n(7548);function C(){const e=(0,f.l)((0,p.T)("kill_stake_multi_provider"));return(0,r.useMemo)((()=>!e),[e])}var w,S=n(41015),A=n(24475),T=n(8612),x=n(78154),M=n(70918),I=n(32451),P=n(89703),L=n(78392),E=n(10058),j=n(50215),O=n(4681),D=n(88589),F=n(20027),G=n(4118),B=n(33396),H=n(37121),N=n(85581),W=n(1974),R=n(2673),V=n(55799),U=n(15654),_=n(84492),z=n(86382),q=n(52331),K=n(94330),Y=n(39262),Q=n(86700),Z=n(64654),X=n(46171),J=n(72502),$=n(31085);function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return te(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?te(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}e=n.hmd(e),(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&w(e);var ne,re,ae="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},oe=(0,a.YK)({earnTitle:{id:"RAYgXb",defaultMessage:[{type:0,value:"Earn yield"}]},stakeLabel:{id:"IcRvLD",defaultMessage:[{type:0,value:"Stake"}]},unstakingTitle:{id:"QSnExS",defaultMessage:[{type:0,value:"Unstake"}]},availableAmount:{id:"O4zzOB",defaultMessage:[{type:0,value:"Available"}]},maxButton:{id:"Pm9NLv",defaultMessage:[{type:0,value:"Max"}]},previewButton:{id:"dhicuL",defaultMessage:[{type:0,value:"Preview"}]},topUpButtonText:{id:"nuMeii",defaultMessage:[{type:0,value:"Top up your "},{type:1,value:"cryptoSymbol"},{type:0,value:" balance"}]},learnMoreLabel:{id:"wVpK/U",defaultMessage:[{type:0,value:"Read FAQs"}]},arrowDownAccessibilityLabel:{id:"JtMmZ+",defaultMessage:[{type:0,value:"To"}]},toLabel:{id:"JPdzL+",defaultMessage:[{type:0,value:"To"}]}}),ie={paddingY:0},se=(0,r.memo)(ae((function(){var e,t,n,a=(0,o.A)().formatMessage,d=(0,i.W6)().goBack,f=ee((0,r.useState)(!1),2),p=f[0],y=f[1],w=(0,B.lE)(X.Im).goToStep,te=(0,H.A)(X.Zd),ne=te.currencyCode,re=te.stakeType,ae=te.isFiat,se=te.cryptoAmount,le=te.enteredAmount,ue=te.shouldUpdateCryptoAmount,ce=te.targetCurrencyCode,de=te.network,fe=(0,u.J9)(),pe=g(),ye=(0,S.$)(),ge=C(),ve=(0,M.h)(),me=(0,A.X)(ve,{currencyCode:ne.value,targetCurrencyCode:ce.value,stakeType:re.value,chainId:null===(e=de.value.asChain())||void 0===e?void 0:e.chainId.toString()}),be=me.sourceWallet,ke=me.targetWallet,he=me.isLoading,Ce=(0,h.a)({targetCurrencyCode:re.value===A.V.STAKE?ce.value:ne.value,chainId:null===(t=de.value.asChain())||void 0===t?void 0:t.chainId.toString()}).earnRate,we=(0,v.Dy)({txType:v.Ir.STAKE,wallet:be}),Se=we.gasEstimate,Ae=we.refetch,Te=we.isFetched,xe=(0,m.oD)(),Me=(0,T.X)(ve,{network:de.value}),Ie=(0,x.F)(ve,de.value);if(!Ie)throw new Error("Could not find a valid fee wallet for the select source chain");var Pe=(0,G.z)((0,I.y9)(I.fO.stake),I.yW.load_preview,{logMetric:!0}).start;(0,Q.c)((0,I.y9)(I.fO.stake),I.yW.launch_stake,{type:"end"});var Le=(0,r.useMemo)((function(){return re.value===A.V.STAKE}),[re]),Ee=(0,r.useMemo)((function(){var e;return{currencyCode:null==be?void 0:be.currencyCode.code,chainId:null==be||null===(e=be.network.asChain())||void 0===e?void 0:e.chainId,contractAddress:null==be?void 0:be.contractAddress,targetCurrencyCode:ce.value}}),[null==be?void 0:be.contractAddress,null==be?void 0:be.currencyCode.code,null==be?void 0:be.network,ce.value]);(0,s.iD)(Ee),(0,r.useEffect)((function(){if(Le&&ke){var e,t=null===(e=ke.network.asChain())||void 0===e?void 0:e.chainId;xe({code:ke.currencyCode,chainId:t?BigInt(t):1n,networkId:(0,b.S)({network:ke.network,blockchain:ke.blockchain})||l.Fd,contractAddress:ke.contractAddress})}}),[xe,ke,Le]);var je=(0,r.useCallback)((function(e){y(e),(0,s.Eo)(Ee)}),[Ee]),Oe=(0,r.useCallback)((function(){(0,s.TN)(Ee)}),[Ee]),De=(0,r.useCallback)((function(){(0,s.qP)(Ee),d()}),[d,Ee]),Fe=(0,r.useMemo)((function(){var e;return{currencyCode:null==be?void 0:be.currencyCode.code,network:null==be?void 0:be.network,iconUrl:null==be||null===(e=be.imageURL)||void 0===e?void 0:e.toString(),showNetworkIconOverride:!(null==be||!be.contractAddress)}}),[null==be?void 0:be.contractAddress,null==be?void 0:be.currencyCode.code,null==be?void 0:be.imageURL,null==be?void 0:be.network]),Ge=(0,r.useMemo)((function(){var e;return{currencyCode:null==ke?void 0:ke.currencyCode.code,network:null==ke?void 0:ke.network,iconUrl:null==ke||null===(e=ke.imageURL)||void 0===e?void 0:e.toString(),showNetworkIconOverride:!(null==ke||!ke.contractAddress)}}),[null==ke?void 0:ke.contractAddress,null==ke?void 0:ke.currencyCode.code,null==ke?void 0:ke.imageURL,null==ke?void 0:ke.network]),Be=void 0!==(null==be?void 0:be.balance)?fe.formatToFiat({fromCurrencyCode:be.currencyCode,decimals:be.decimals,value:be.balance,isAbbreviated:!1,contractAddress:be.contractAddress,network:be.network,blockchain:be.blockchain}):"",He=(0,J.v)({sourceWallet:be,feeWallet:Ie,targetWallet:ke,amount:se.value,stakeType:re.value,shouldIgnoreSuccessRedirect:!1}),Ne=He.generateTransactions,We=He.generateTransactionsError,Re=He.isGenerateTransactionsLoading,Ve=(0,r.useMemo)((function(){return(!pe||ne.value!==l.fz)&&p||0n===se.value||Re||Boolean(Me)||he}),[pe,ne,p,se.value,Re,Me,he]);(0,r.useEffect)((function(){Ve||(0,s.uK)(Ee)}),[Ve,Ee]);var Ue=Me||(null==We||null===(n=We.code)||void 0===n?void 0:n.includes("MinerFee")),_e=(0,r.useCallback)((function(){if(null==be||!be.balance)throw new Error("Could not find a balance for source wallet");!Te||null!=be&&be.contractAddress||Ae();var e=be.balance-Se<=0n?be.balance:be.balance-Se,t=be.contractAddress?be.balance:e;(0,s.RM)(Ee),se.onChange(t),le.onChange((0,c.ej)({currencyFormatter:fe,wallet:be,newAmount:t,isCrypto:!ae.value,includeCode:!1,preserveEndingZeros:!0}))}),[se,fe,le,ae.value,be,Ee,Te,Ae,Se]),ze=(0,r.useCallback)((function(){Pe(),Ne(),(0,s.Wu)(Ee)}),[Pe,Ne,Ee]),qe=(0,r.useMemo)((function(){return null!=Me?Me:We}),[We,Me]),Ke=(0,r.useMemo)((function(){return qe?(Ue||(V.a,F.r),(0,$.jsx)(z.m,{content:(0,$.jsx)(D.e,{network:null==be?void 0:be.network,zeroBaseAssetError:Me}),children:(0,$.jsx)(V.a,{children:(0,$.jsx)(F.r,{error:qe,hasTooltip:!0})})})):null}),[qe,null==be?void 0:be.network,Me,Ue]),Ye=(0,r.useMemo)((function(){var e;return pe&&p&&ne.value===l.fz||(null==We||null===(e=We.code)||void 0===e?void 0:e.includes("MinerFee"))||Me}),[ne.value,null==We?void 0:We.code,p,pe,Me]),Qe=(0,r.useCallback)((function(){(0,s.$g)(Ee),w("depositGas")}),[w,Ee]),Ze=(0,r.useMemo)((function(){var e;return Ye?a(oe.topUpButtonText,{cryptoSymbol:null==be||null===(e=be.network.asChain())||void 0===e?void 0:e.baseAssetCurrencyCode}):a(oe.previewButton)}),[Ye,a,null==be?void 0:be.network]),Xe=(0,r.useMemo)((function(){return Ye?Qe:ze}),[Ye,ze,Qe]),Je=(0,r.useCallback)((function(){var e;(0,s.ci)(Ee),chrome.tabs.create({url:k.xg[null!==(e=null==be?void 0:be.currencyCode.code)&&void 0!==e?e:""]})}),[Ee,null==be?void 0:be.currencyCode.code]),$e=(0,r.useCallback)((function(e){var t;if(null==be||!be.balance)throw new Error("Could not find a balance for source wallet");var n=(null!==(t=be.balance)&&void 0!==t?t:0n)*BigInt(e*Z.c$)/BigInt(Z.c$);se.onChange(n),le.onChange((0,c.ej)({currencyFormatter:fe,wallet:be,newAmount:n,isCrypto:!ae.value,includeCode:!1,preserveEndingZeros:!0}))}),[be,se,le,fe,ae.value]),et=(0,r.useCallback)((function(){w("selectAsset")}),[w]),tt=(0,r.useCallback)((function(){w("selectProvider")}),[w]),nt=(0,r.useMemo)((function(){return ne.value!==k.mv}),[ne]);return(0,$.jsx)(O.ff,{height:"100%",header:(0,$.jsx)(E.jq,{variant:"secondary",title:a(re.value===A.V.STAKE?oe.earnTitle:oe.unstakingTitle),actions:(0,$.jsx)(q.N,{onClick:Je,as:"button",children:a(oe.learnMoreLabel)}),handleBack:De}),children:(0,$.jsxs)(U.T,{justifyContent:"space-between",height:"100%",children:[(0,$.jsxs)(U.T,{height:"50%",justifyContent:"center",children:[be?(0,$.jsx)(P.J$,{context:"stake",wallet:be,isFiat:ae,cryptoAmount:se,enteredAmount:le,shouldUpdateCryptoAmount:ue,onInsufficientFund:je,analyticsSwitchDisplay:Oe,txType:v.Ir.STAKE,isTopUpEnabled:pe&&ne.value===l.fz,fiatValueDisplay:Be}):null,(0,$.jsx)(V.a,{justifyContent:"center",height:Z.VZ,paddingX:3,paddingTop:1,children:Ke})]}),(0,$.jsxs)(U.T,{height:"50%",justifyContent:"flex-end",gap:1,paddingBottom:3,children:[(0,$.jsx)(W.l,{compact:ge,outerSpacing:ie,testID:"stake-entry-selector",accessory:Le&&ye?"arrow":void 0,title:a(Le?oe.stakeLabel:oe.unstakingTitle),description:ge?(0,$.jsx)(K.C,{as:"p",color:"fgMuted",children:null==be?void 0:be.currencyCode.code}):(0,$.jsxs)(_.z,{gap:.5,children:[(0,$.jsx)(K.C,{as:"p",color:"fgMuted",children:"".concat(null==be?void 0:be.currencyCode.code," \xb7")}),(0,$.jsx)(K.C,{as:"p",color:"fgPositive",children:Ce})]}),detail:(0,$.jsx)(U.T,{alignItems:"flex-end",children:(0,$.jsx)(Y.w,{as:"p",children:Be})}),subdetail:(0,$.jsx)(U.T,{alignItems:"flex-end",children:(0,$.jsx)(K.C,{as:"p",color:"fgMuted",children:a(oe.availableAmount)})}),onClick:Le&&ye?et:void 0,media:(0,$.jsx)(L.E,{asset:Fe})}),Le&&ge?(0,$.jsx)(V.a,{alignItems:"center",children:(0,$.jsx)(R.In,{name:"verticalLine",size:"s",paddingStart:4,color:"fgMuted"})}):null,Le&&ge?(0,$.jsx)(W.l,{compact:!0,outerSpacing:ie,testID:"stake-entry-provider-selector",accessory:nt?"arrow":void 0,title:a(oe.toLabel),description:(0,$.jsxs)(_.z,{gap:.5,children:[(0,$.jsx)(K.C,{as:"p",color:"fgMuted",children:"".concat(null==ke?void 0:ke.currencyCode.code," \xb7")}),(0,$.jsx)(K.C,{as:"p",color:"fgPositive",children:Ce})]}),onClick:nt?tt:void 0,media:(0,$.jsx)(L.E,{asset:Ge})}):null,(0,$.jsxs)(U.T,{paddingX:3,gap:2,paddingTop:ge?2:0,children:[(0,$.jsx)(j.G,{onPressMaxButton:_e,onPressPercentageButton:$e}),(0,$.jsx)(N.$n,{block:!0,disabled:!Ye&&Ve,onClick:Xe,loading:Re,variant:Ye?"secondary":"primary",testID:"entry-step-cta-button",children:Ze})]})]})]})})}),"useIntl{{ formatMessage }}\nuseHistory{{ goBack }}\nuseState{[hasInsufficientFund, setHasInsufficientFund](false)}\nuseStepper{{ goToStep }}\nuseFields{{\n    currencyCode,\n    stakeType,\n    isFiat,\n    cryptoAmount,\n    enteredAmount,\n    shouldUpdateCryptoAmount,\n    targetCurrencyCode,\n    network,\n  }}\nuseCurrencyFormatter{currencyFormatter}\nuseIsStakingTopUpEnabled{isStakeTopUpEnabled}\nuseIsWETHStakeEligible{isWETHSTakeEligible}\nuseIsStakeMultiProviderEligible{isStakeMultiProviderEligible}\nuseActiveWalletGroupId{activeWalletGroupId}\nuseSelectStakeWallet{{\n    sourceWallet,\n    targetWallet,\n    isLoading: isStakeWalletsLoading,\n  }}\nuseGetEarnRate{{ earnRate }}\nuseGetGasEstimate{{ gasEstimate, refetch, isFetched }}\nuseAddTrackedExchangeRate{addTrackedRate}\nuseBaseAssetZeroBalanceError{zeroBaseAssetError}\nuseGetFeeWallet{feeWallet}\nuseExtensionPerfMark{{ start: markStartLoadPreviewPerf }}\nusePerfMarkOnMount{}\nuseMemo{isStake}\nuseMemo{analyticsMetadata}\nuseEntryStepViewed{}\nuseEffect{}\nuseCallback{handleInsufficientFund}\nuseCallback{triggerAnalyticsSwitchDisplay}\nuseCallback{handleGoBack}\nuseMemo{sourceAssetLike}\nuseMemo{targetAssetLike}\nuseGenerateStakeTransaction{{ generateTransactions, generateTransactionsError, isGenerateTransactionsLoading }}\nuseMemo{isPreviewButtonDisabled}\nuseEffect{}\nuseCallback{handlePressMaxButton}\nuseCallback{handlePressPreview}\nuseMemo{errorToDisplay}\nuseMemo{errorComponent}\nuseMemo{isDepositGasButtonVisible}\nuseCallback{handleDepositGasPress}\nuseMemo{buttonText}\nuseMemo{handleCTAPress}\nuseCallback{handleLearnMorePress}\nuseCallback{handlePressPercentageButton}\nuseCallback{handlePressSelectAsset}\nuseCallback{handlePressSelectProvider}\nuseMemo{hasMultiProvider}",(function(){return[o.A,i.W6,B.lE,H.A,u.J9,g,S.$,C,M.h,A.X,h.a,v.Dy,m.oD,T.X,x.F,G.z,Q.c,s.iD,J.v]})));(ne="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(ne.register(oe,"messages","/workspaces/apps/extension/src/screens/Stake/steps/EntryStep/EntryStep.tsx"),ne.register(ie,"listCellOuterSpacing","/workspaces/apps/extension/src/screens/Stake/steps/EntryStep/EntryStep.tsx"),ne.register(se,"EntryStep","/workspaces/apps/extension/src/screens/Stake/steps/EntryStep/EntryStep.tsx")),(re="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&re(e)},59311:(e,t,n)=>{n.d(t,{J:()=>G});var r=n(14041),a=n(32183),o=n(8867),i=n(86090),s=n(65393),l=n(70359),u=n(96295),c=n(7548),d=n(72019);const f=(0,a.YK)({stakingTitle:{id:"t3wAw/",defaultMessage:"Earn {rate} on your {currencyCode}"},earnRewardsLabel:{id:"yUuhDt",defaultMessage:"Earn on {currencyCode} with staking"},ethEarnRewardsDescription:{id:"cmddz2",defaultMessage:"Stake your ETH with Coinbase to start earning."},maticEarnRewardsDescription:{id:"+tAMoP",defaultMessage:"Stake with Lido, a popular staking service."},unstakeLabel:{id:"XuNNLd",defaultMessage:"Unstake at anytime"},ethUnstakeDescription:{id:"cr2lqN",defaultMessage:"Staked ETH is held as cbETH, which you can unstake, sell, or deposit in DeFi."},maticUnstakeDescription:{id:"kb19It",defaultMessage:"After you unstake, your MATIC will be claimable in 3\u20134 days."},safeAndSecureLabel:{id:"P4xgkB",defaultMessage:"Safe and secure"},safeAndSecureDescription:{id:"kmvB/Q",defaultMessage:"Coinbase\u2019s best-in-class security has kept funds safe for 10+ years."},noHiddenFeesLabel:{id:"46t5Ym",defaultMessage:"No hidden fees"},noHiddenFeesDescription:{id:"9MyzK6",defaultMessage:"You get the same yield here as you do on Lido. There\u2019s no Coinbase fee."},stakeButton:{id:"kIyFYU",defaultMessage:"Start earning"},faqButton:{id:"UoeLR6",defaultMessage:"Read FAQs"},multiProviderStakeLabel:{id:"/gY5Zv",defaultMessage:"Stake with Coinbase or Rocket Pool"},multiProviderStakeDescription:{id:"LVF3fq",defaultMessage:"Stake your ETH with Coinbase or Rocket Pool to start earning."},multiProviderRewardsLabel:{id:"pdkEA5",defaultMessage:"Earn staking rewards"},multiProviderRewardsDescription:{id:"l01HV1",defaultMessage:"Earn staking rewards simply by holding cbETH or rETH."},multiProviderLockupLabel:{id:"Cq9pd0",defaultMessage:"Flexible with no lockup"},multiProviderLockupDescription:{id:"1T46IR",defaultMessage:"Swap back to ETH or use your tokens in DeFi any time."},delegatorStakingLabel:{id:"1/37zJ",defaultMessage:"Get rewarded for staking"},delegatorStakingDescription:{id:"D0ap0Q",defaultMessage:"Earn staking rewards while helping secure the Ethereum network. Rate updates daily."},delegatorStakingOptionsLabel:{id:"dpxRrW",defaultMessage:"Multiple options to choose from"},delegatorStakingOptionsDescription:{id:"Gh95X4",defaultMessage:"Select from high rewards, flexible, or decentralized on the confirmation step."},delegatorStakingUnstakeLabel:{id:"nB3eP9",defaultMessage:"Unstake with ease"},delegatorStakingUnstakeDescription:{id:"d2ZuWy",defaultMessage:"Unstaking takes up to 1 day to process; liquid staking offers instant liquidity."}});function p({currencyCode:e,chainId:t,targetCurrencyCode:n}){const{formatMessage:a}=(0,o.A)(),{earnRate:i}=(0,c.a)({targetCurrencyCode:n??l.bk[e],chainId:t}),s=(0,d.P)();return(0,r.useMemo)((()=>{switch(e){case l.R1:case u.fz:return{earnRate:i,illustrationName:"ethStakeOrWrap",listItems:[{label:a(s?f.delegatorStakingLabel:f.multiProviderStakeLabel,{currencyCode:e}),description:a(s?f.delegatorStakingDescription:f.multiProviderStakeDescription),testID:"learn-step-earn-rewards"},{label:a(s?f.delegatorStakingOptionsLabel:f.multiProviderRewardsLabel),description:a(s?f.delegatorStakingOptionsDescription:f.multiProviderRewardsDescription),testID:"learn-step-unstake"},{label:a(s?f.delegatorStakingUnstakeLabel:f.multiProviderLockupLabel),description:a(s?f.delegatorStakingUnstakeDescription:f.multiProviderLockupDescription),testID:"learn-step-fees"}]};case l.mv:return{earnRate:i,illustrationName:"transferCoins",listItems:[{label:a(f.earnRewardsLabel,{currencyCode:e}),description:a(f.maticEarnRewardsDescription),testID:"learn-step-earn-rewards"},{label:a(f.unstakeLabel),description:a(f.maticUnstakeDescription),testID:"learn-step-unstake"},{label:a(f.noHiddenFeesLabel),description:a(f.noHiddenFeesDescription),testID:"learn-step-fees"}]};default:throw new Error("Invalid currency code for staking nux")}}),[e,i,a,s])}var y,g=n(32451),v=n(66656),m=n(21983),b=n(4118),k=n(24905),h=n(59706),C=n(33396),w=n(85581),S=n(9197),A=n(2673),T=n(34107),x=n(55799),M=n(15654),I=n(51190),P=n(46171),L=n(53363),E=n(31085);e=n.hmd(e),(y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&y(e);var j,O,D="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},F=(0,a.YK)({stakingTitle:{id:"t3wAw/",defaultMessage:[{type:0,value:"Earn "},{type:1,value:"rate"},{type:0,value:" on your "},{type:1,value:"currencyCode"}]},stakeButton:{id:"kIyFYU",defaultMessage:[{type:0,value:"Start earning"}]},faqButton:{id:"UoeLR6",defaultMessage:[{type:0,value:"Read FAQs"}]}}),G=(0,r.memo)(D((function(){var e=(0,o.A)().formatMessage,t=(0,i.W6)().goBack,n=(0,i.g)(),a=n.currencyCode,u=n.chainId,c=(0,C.lE)(P.Im).goToStep,d=p({currencyCode:a,chainId:u}),f=d.earnRate,y=d.listItems,j=d.illustrationName;if(!a)throw new Error("Asset is required");(0,s._s)({currencyCode:a});var O=(0,b.z)((0,g.y9)(g.fO.stake),g.yW.launch_stake,{logMetric:!0}).start,D=(0,r.useCallback)((function(){(0,s.Yd)({currencyCode:a}),t()}),[t,a]),G=(0,r.useCallback)((function(){(0,s.Lg)({currencyCode:a}),v.i.set(L.B[a],(new Date).toISOString()),O(),c("entry")}),[a,O,c]),B=(0,r.useCallback)((function(){(0,s.K0)({currencyCode:a}),chrome.tabs.create({url:l.xg[a]})}),[a]),H=(0,r.useMemo)((function(){return(0,E.jsx)(x.a,{justifyContent:"flex-start",height:"100%",children:(0,E.jsx)(A.In,{name:"checkmark",size:"s",color:"fg"})})}),[]);return(0,E.jsxs)(M.T,{height:k.fG,justifyContent:"space-between",children:[(0,E.jsx)(m.u,{onBack:D}),(0,E.jsxs)(M.T,{overflow:"scroll",children:[(0,E.jsxs)(M.T,{alignItems:"center",gap:2,paddingX:2,children:["ethStakeOrWrap"===j?(0,E.jsx)(T.g,{name:j,dimension:"240x120"}):(0,E.jsx)(h.t,{illustration:"TransferCoinsMiami",children:(0,E.jsx)(T.g,{name:j,dimension:"240x120"})}),(0,E.jsx)(x.a,{children:(0,E.jsx)(I._,{as:"span",textAlign:"center",testID:"stake-nux-title",children:e(F.stakingTitle,{currencyCode:a,rate:(0,E.jsx)(I._,{as:"span",color:"fgPositive",children:f})})})})]}),y.map((function(e){var t=e.label,n=e.description,r=e.testID;return(0,E.jsx)(S.g,{title:t,description:n,media:H,testID:r},r)}))]}),(0,E.jsxs)(M.T,{flexShrink:0,gap:2,paddingX:2,paddingBottom:2,children:[(0,E.jsx)(w.$n,{onClick:G,testID:"learn-step-stake-button",children:e(F.stakeButton)}),(0,E.jsx)(w.$n,{variant:"secondary",onClick:B,testID:"learn-step-faq-button",children:e(F.faqButton)})]})]})}),"useIntl{{ formatMessage }}\nuseHistory{{ goBack }}\nuseParams{{ currencyCode, chainId }}\nuseStepper{{ goToStep }}\nuseGetStakeNux{{ earnRate, listItems, illustrationName }}\nuseLearnStepViewed{}\nuseExtensionPerfMark{{ start: markStartPerf }}\nuseCallback{handleGoBack}\nuseCallback{handleStakePress}\nuseCallback{handleFAQPress}\nuseMemo{checkMarkIcon}",(function(){return[o.A,i.W6,i.g,C.lE,p,s._s,b.z]})));(j="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(j.register(F,"messages","/workspaces/apps/extension/src/screens/Stake/steps/LearnStep/LearnStep.tsx"),j.register(G,"LearnStep","/workspaces/apps/extension/src/screens/Stake/steps/LearnStep/LearnStep.tsx")),(O="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&O(e)},57691:(e,t,n)=>{n.d(t,{A:()=>N});var r=n(14041),a=n(32183),o=n(8867),i=n(86090),s=n(65393),l=n(87432),u=n(18647),c=n(21413),d=n(33396),f=n(37121),p=n(46171),y=n(4244),g=n(22202),v=n(70918),m=n(46845);function b(){const e=(0,i.W6)(),{formatToCrypto:t}=(0,y.J9)(),[n,a]=(0,r.useState)(null),{goBack:o,goToStep:l}=(0,d.lE)(p.Im),u=(0,g.b)(),{cryptoAmount:c,stakeTxData:{value:b},unsignedStakeTxResult:{value:k},unsignedApproveTxResult:{value:h}}=(0,f.A)(p.Zd),C=h?.transaction,w=k?.transaction,S=(0,v.h)(),A=(0,m.J)(S,w),T=(0,r.useMemo)((()=>({currencyCode:b?.quote.fromAsset?.currencyCode.code??b?.quote.toAsset.currencyCode.code,chainId:Number(b?.chainId),contractAddress:b?.quote.fromAsset?.address?.rawValue??b?.quote.toAsset.address?.rawValue,cryptoAmount:b&&t({currencyCode:b.quote.fromAsset?.currencyCode??b.quote.toAsset.currencyCode,decimals:b?.quote.fromAsset?.decimals??b?.quote.toAsset.decimals,value:c.value,includeCode:!1}),targetCurrencyCode:b?.quote.toAsset.currencyCode.code})),[b,c,t]),x=(0,r.useCallback)((()=>{(0,s.mC)(T),l("status"),a(null)}),[l,T]),M=(0,r.useCallback)((t=>{"UserRejectedWalletLinkRequest"===t.name?(0,s.K1)(T):(0,s.jF)(T),a({errorMessage:t.message,onPrimaryButtonPress:()=>{a(null),o()},onSecondaryButtonPress:()=>e.replace("/portfolio"),secondaryButtonText:"Go Back Home",primaryButtonText:"Try Again"})}),[o,e,T]),I=(0,r.useCallback)((async()=>{if(!A||!w)return null;if(C)try{await u({unsignedTxOrUserOp:C,wallet:A})}catch(e){M(e)}try{await u({unsignedTxOrUserOp:w,wallet:A}),x()}catch(e){M(e)}}),[M,x,u,C,w,A]);return(0,r.useMemo)((()=>({signAndSubmitViaWalletlink:I,errorStateProps:n})),[n,I])}var k,h=n(31085);function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=C(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==C(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(){"use strict";var e=L(),t=e.m(A),n=(Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__).constructor;function r(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===n||"GeneratorFunction"===(t.displayName||t.name))}var a={throw:1,return:2,break:3,continue:3};function o(e){var t,n;return function(r){t||(t={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(e,t){return n(r.a,a[e],t)},delegateYield:function(e,a,o){return t.resultName=a,n(r.d,T(e),o)},finish:function(e){return n(r.f,e)}},n=function(e,n,a){r.p=t.prev,r.n=t.next;try{return e(n,a)}finally{t.next=r.n}}),t.resultName&&(t[t.resultName]=r.v,t.resultName=void 0),t.sent=r.v,t.next=r.n;try{return e.call(this,t)}finally{r.p=t.prev,r.n=t.next}}}return(A=function(){return{wrap:function(t,n,r,a){return e.w(o(t),n,r,a&&a.reverse())},isGeneratorFunction:r,mark:e.m,awrap:function(e,t){return new j(e,t)},AsyncIterator:P,async:function(e,t,n,a,i){return(r(t)?I:M)(o(e),t,n,a,i)},keys:x,values:T}})()}function T(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}throw new TypeError(C(e)+" is not iterable")}function x(e){var t=Object(e),n=[];for(var r in t)n.unshift(r);return function e(){for(;n.length;)if((r=n.pop())in t)return e.value=r,e.done=!1,e;return e.done=!0,e}}function M(e,t,n,r,a){var o=I(e,t,n,r,a);return o.next().then((function(e){return e.done?e.value:o.next()}))}function I(e,t,n,r,a){return new P(L().w(e,t,n,r),a||Promise)}function P(e,t){function n(r,a,o,i){try{var s=e[r](a),l=s.value;return l instanceof j?t.resolve(l.v).then((function(e){n("next",e,o,i)}),(function(e){n("throw",e,o,i)})):t.resolve(l).then((function(e){s.value=e,o(s)}),(function(e){return n("throw",e,o,i)}))}catch(e){i(e)}}var r;this.next||(E(P.prototype),E(P.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),E(this,"_invoke",(function(e,a,o){function i(){return new t((function(t,r){n(e,o,t,r)}))}return r=r?r.then(i,i):i()}),!0)}function L(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var l=r&&r.prototype instanceof s?r:s,u=Object.create(l.prototype);return E(u,"_invoke",function(n,r,a){var o,s,l,u=0,c=a||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return o=t,s=0,l=e,f.n=n,i}};function p(n,r){for(s=n,l=r,t=0;!d&&u&&!a&&t<c.length;t++){var a,o=c[t],p=f.p,y=o[2];n>3?(a=y===r)&&(l=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=p&&((a=n<2&&p<o[1])?(s=0,f.v=r,f.n=o[1]):p<y&&(a=n<3||o[0]>r||r>y)&&(o[4]=n,o[5]=r,f.n=y,s=0))}if(a||n>1)return i;throw d=!0,r}return function(a,c,y){if(u>1)throw TypeError("Generator is already running");for(d&&1===c&&p(c,y),s=c,l=y;(t=s<2?e:l)||!d;){o||(s?s<3?(s>1&&(f.n=-1),p(s,l)):f.n=l:f.v=l);try{if(u=2,o){if(s||(a="next"),t=o[a]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,s<2&&(s=0)}else 1===s&&(t=o.return)&&t.call(o),s<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),s=1);o=e}else if((t=(d=f.n<0)?l:n.call(r,f))!==i)break}catch(t){o=e,s=1,l=t}finally{u=1}}return{value:t,done:d}}}(n,a,o),!0),u}var i={};function s(){}function l(){}function u(){}t=Object.getPrototypeOf;var c=[][r]?t(t([][r]())):(E(t={},r,(function(){return this})),t),d=u.prototype=s.prototype=Object.create(c);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,E(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=u,E(d,"constructor",u),E(u,"constructor",l),l.displayName="GeneratorFunction",E(u,a,"GeneratorFunction"),E(d),E(d,a,"Generator"),E(d,r,(function(){return this})),E(d,"toString",(function(){return"[object Generator]"})),(L=function(){return{w:o,m:f}})()}function E(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}E=function(e,t,n,r){function o(t,n){E(e,t,(function(e){return this._invoke(t,n,e)}))}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(o("next",0),o("throw",1),o("return",2))},E(e,t,n,r)}function j(e,t){this.v=e,this.k=t}function O(e,t,n,r,a,o,i){try{var s=e[o](i),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){O(o,r,a,i,s,"next",e)}function s(e){O(o,r,a,i,s,"throw",e)}i(void 0)}))}}e=n.hmd(e),(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&k(e);var F,G,B="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},H=(0,a.YK)({title:{id:"VwWGjG",defaultMessage:[{type:0,value:"Confirm on phone"}]},description:{id:"In3vOT",defaultMessage:[{type:0,value:"Open Coinbase Wallet on your phone to confirm this transaction."}]},retry:{id:"jvhzSF",defaultMessage:[{type:0,value:"Resend notification"}]},dontSeeNotification:{id:"epKk4O",defaultMessage:[{type:0,value:"Don't see the notification?"}]}});function N(){var e,t,n,a=(0,i.W6)(),y=(0,o.A)().formatMessage,g=(0,d.lE)(p.Im),v=g.goBack,m=g.hasPreviousStep,k=(0,f.A)(p.Zd),C=k.stakeTxData.value,T=k.stakeType.value,x=k.targetCurrencyCode.value,M=(0,r.useMemo)((function(){var e,t,n,r,a;return{currencyCode:null!==(e=null==C||null===(t=C.quote.fromAsset)||void 0===t?void 0:t.currencyCode.code)&&void 0!==e?e:null==C?void 0:C.quote.toAsset.currencyCode.code,chainId:Number(null==C?void 0:C.chainId),contractAddress:null!==(n=null==C||null===(r=C.quote.fromAsset)||void 0===r||null===(r=r.address)||void 0===r?void 0:r.rawValue)&&void 0!==n?n:null==C||null===(a=C.quote.toAsset.address)||void 0===a?void 0:a.rawValue,context:T,targetCurrencyCode:x}}),[null==C?void 0:C.chainId,null==C||null===(e=C.quote.fromAsset)||void 0===e||null===(e=e.address)||void 0===e?void 0:e.rawValue,null==C||null===(t=C.quote.fromAsset)||void 0===t?void 0:t.currencyCode.code,null==C||null===(n=C.quote.toAsset.address)||void 0===n?void 0:n.rawValue,null==C?void 0:C.quote.toAsset.currencyCode.code,T,x]);(0,s.jW)(M);var I=(0,r.useRef)(!1),P=(0,r.useCallback)((function(){(0,s.nO)(M),m?v():a.goBack()}),[m,v,a,M]),L=b(),E=L.signAndSubmitViaWalletlink,j=L.errorStateProps,O=(0,r.useCallback)(D(A().mark((function e(){return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,s.SD)(M),e.next=3,E();case 3:case"end":return e.stop()}}),e)}))),[E,M]);(0,l.y)((function(){j||E()}));var F=(0,r.useMemo)((function(){return{label:y(H.retry),onClick:(e=D(A().mark((function e(){return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I.current=!0,e.next=3,O();case 3:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})};var e}),[y,O]);return j&&!I.current?(0,h.jsx)(u.W,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},j)):(0,h.jsx)(c._,{title:y(H.title),description:y(H.description),onDismiss:P,secondaryActionLabel:y(H.dontSeeNotification),retryAction:F})}B(N,"useHistory{history}\nuseIntl{{ formatMessage }}\nuseStepper{{ goBack, hasPreviousStep }}\nuseFields{{\n    stakeTxData: { value: stakeTxData },\n    stakeType: { value: stakeType },\n    targetCurrencyCode: { value: targetCurrencyCode },\n  }}\nuseMemo{analyticsMetadata}\nusePhoneConfirmationStepViewed{}\nuseRef{isUserCancelled}\nuseCallback{onDismiss}\nuseSignAndSubmitViaWalletlink{{ signAndSubmitViaWalletlink, errorStateProps }}\nuseCallback{retryAction}\nuseOnMount{}\nuseMemo{retryActionProps}",(function(){return[i.W6,o.A,d.lE,f.A,s.jW,b,l.y]})),(F="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(F.register(H,"messages","/workspaces/apps/extension/src/screens/Stake/steps/PhoneConfirmationStep/PhoneConfirmationStep.tsx"),F.register(N,"PhoneConfirmationStep","/workspaces/apps/extension/src/screens/Stake/steps/PhoneConfirmationStep/PhoneConfirmationStep.tsx")),(G="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&G(e)},57571:(e,t,n)=>{n.d(t,{V:()=>b});var r,a,o,i=n(14041),s=n(65393),l=n(99172),u=n(70359),c=n(396),d=n(70918),f=n(23804),p=n(33396),y=n(37121),g=n(58570),v=n(46171),m=n(31085);function b(){var e=(0,p.lE)(v.Im),t=e.goBack,n=e.goToStep,r=(0,y.A)(v.Zd),a=r.currencyCode,o=r.stakeType,b=r.network,k=r.targetCurrencyCode,h=(0,d.h)(),C=(0,c.u)(h,{network:b.value,stakeType:o.value}),w=(0,i.useMemo)((function(){return C.find((function(e){return e.currencyCode.code===a.value&&l.lg.isEqual(b.value,e.network)}))}),[a,C,b]),S=(0,i.useCallback)((function(e){var t;e instanceof f.u&&void 0!==e.balance&&e.balance>0n&&(u.bk[e.currencyCode.code]!==u.bk[a.value]&&k.onChange(u.bk[e.currencyCode.code]),a.onChange(e.currencyCode.code),(0,s.nY)({currencyCode:e.currencyCode.code,chainId:null===(t=b.value.asChain())||void 0===t?void 0:t.chainId}),n("entry"))}),[a,n,b.value,k]);return(0,m.jsx)(g.j,{testIdPrefix:"stake",wallets:C,onBack:t,onSelect:S,network:b.value,targetAssetId:null==w?void 0:w.id,context:g.P.Stake})}e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(b,"useStepper{{ goBack, goToStep }}\nuseFields{{ currencyCode, stakeType, network, targetCurrencyCode }}\nuseActiveWalletGroupId{activeWalletGroupId}\nuseEarnableWallets{earnWallets}\nuseMemo{selectedWallet}\nuseCallback{handleSelect}",(function(){return[p.lE,y.A,d.h,c.u]})),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(b,"SelectAssetStep","/workspaces/apps/extension/src/screens/Stake/steps/SelectAssetStep/SelectAssetStep.tsx"),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&o(e)},60527:(e,t,n)=>{n.d(t,{I:()=>V});var r,a=n(14041),o=n(32183),i=n(8867),s=n(65393),l=n(96295),u=n(42716),c=n(70359),d=n(74827),f=n(99633),p=n(78392),y=n(21983),g=n(24905),v=n(33396),m=n(37121),b=n(85581),k=n(1974),h=n(2673),C=n(15654),w=n(84492),S=n(55799),A=n(10297),T=n(41250),x=n(94330),M=n(67209),I=n(60149),P=n(46171),L=n(31085);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function D(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=E(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==E(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var F,G,B="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},H=(0,o.YK)({fromTitle:{id:"e7Q6b/",defaultMessage:[{type:0,value:"Choose asset"}]},earnTitle:{id:"RAYgXb",defaultMessage:[{type:0,value:"Earn yield"}]},stakingProviderTitle:{id:"TytYpN",defaultMessage:[{type:0,value:"Choose a staking provider"}]},recommendedLabel:{id:"u4eBaC",defaultMessage:[{type:0,value:"Recommended"}]},decentralizedLabel:{id:"rwBEaL",defaultMessage:[{type:0,value:"Decentralized"}]},coinbaseLabel:{id:"lLZS3w",defaultMessage:[{type:0,value:"Coinbase"}]},rocketPoolLabel:{id:"bOyHek",defaultMessage:[{type:0,value:"Rocket Pool"}]},learnMoreLabel:{id:"1Smmc+",defaultMessage:[{type:0,value:"Learn more"}]},coinbaseDescriptionOne:{id:"UiPRkQ",defaultMessage:[{type:0,value:"The cbETH token represents ETH staked through Coinbase, a trusted, public company."}]},coinbaseDescriptionTwo:{id:"L9BS5g",defaultMessage:[{type:0,value:"cbETH automatically accrues staking rewards, with no lock up."}]},rocketPoolDescriptionOne:{id:"hR58GC",defaultMessage:[{type:0,value:"The rETH token represents ETH staked through Rocket Pool, a decentralized staking service."}]},rocketPoolDescriptionTwo:{id:"Qj9RdF",defaultMessage:[{type:0,value:"rETH automatically accrues staking rewards, with no lock up."}]},continueButton:{id:"PFVlTT",defaultMessage:[{type:0,value:"Continue"}]}}),N=D(D({},c.Td,H.recommendedLabel),c.zJ,H.decentralizedLabel),W=D(D({},c.Td,H.coinbaseLabel),c.zJ,H.rocketPoolLabel);function R(e){var t,n=e.chainId,r=e.currencyCode,o=e.onPressProvider,s=e.isSelected,l=e.imageURL,u=e.network,y=(0,i.A)().formatMessage,g=j((0,f.useRecoilState)(d.y4),1)[0],v=(0,a.useMemo)((function(){return r===c.Td}),[r]),m=(0,a.useMemo)((function(){return{currencyCode:r,network:u,iconUrl:l,showNetworkIconOverride:!0}}),[r,l,u]);return(0,L.jsx)(A.t,{onClick:o,testID:"pressable-provider-".concat(r,"-").concat(n),children:(0,L.jsxs)(C.T,{borderColor:s?"bgLinePrimary":"bgLine",bordered:!0,borderRadius:400,children:[(0,L.jsxs)(w.z,{justifyContent:"space-between",paddingTop:2,paddingX:2,children:[(0,L.jsx)(S.a,{background:s?"bgPrimary":"bgSecondary",paddingY:.5,paddingX:1,borderRadius:1e3,children:(0,L.jsx)(T.a,{as:"p",color:"fg",children:y(N[r])})}),s?(0,L.jsx)(S.a,{justifyContent:"center",children:(0,L.jsx)(h.In,{name:"checkmark",size:"s"})}):null]}),(0,L.jsx)(k.l,{compact:!0,title:y(W[r]),description:(0,L.jsxs)(w.z,{gap:.5,children:[(0,L.jsx)(x.C,{as:"p",color:"fgMuted",children:"".concat(r," \xb7")}),(0,L.jsx)(x.C,{as:"p",color:"fgPositive",children:null===(t=g[r])||void 0===t?void 0:t[n]})]}),media:(0,L.jsx)(p.E,{asset:m})}),(0,L.jsxs)(C.T,{gap:1,paddingX:2,paddingBottom:2,children:[(0,L.jsxs)(w.z,{gap:1,children:[(0,L.jsx)(S.a,{children:(0,L.jsx)(M.V,{as:"p",children:"\u2022"})}),(0,L.jsx)(M.V,{as:"p",children:y(v?H.coinbaseDescriptionOne:H.rocketPoolDescriptionOne)})]}),(0,L.jsxs)(w.z,{gap:1,children:[(0,L.jsx)(S.a,{children:(0,L.jsx)(M.V,{as:"p",children:"\u2022"})}),(0,L.jsx)(M.V,{as:"p",children:y(v?H.coinbaseDescriptionTwo:H.rocketPoolDescriptionTwo)})]})]})]})})}function V(){var e,t,n=(0,i.A)().formatMessage,r=(0,v.lE)(P.Im),o=r.goBack,d=r.goToStep,f=(0,m.A)(P.Zd),p=f.currencyCode,k=f.network,h=f.targetCurrencyCode,w=null!==(e=null===(t=k.value.asChain())||void 0===t?void 0:t.chainId.toString())&&void 0!==e?e:"1",S=(0,u.Uq)({chainId:w,type:u.f3.WITHDRAW}),A=S.earnSourceAssets,T=S.isLoading,x=j((0,a.useState)(h.value),2),M=x[0],E=x[1],O=(0,a.useCallback)((function(e){return M===e}),[M]),D=(0,a.useCallback)((function(e){return function(){E(e)}}),[]),F=(0,a.useCallback)((function(){(0,s.$G)({currencyCode:p.value,chainId:w}),h.onChange(M),d("entry")}),[w,p.value,d,M,h]),G=(0,a.useMemo)((function(){return A.filter((function(e){return c.KS[e.currencyCode.code]===l.fz})).map((function(e){return(0,L.jsx)(R,{chainId:w,currencyCode:e.currencyCode.code,onPressProvider:D(e.currencyCode.code),isSelected:O(e.currencyCode.code),imageURL:e.imageURL,network:k.value},"".concat(w,"-").concat(e.currencyCode.code))}))}),[w,A,D,O,k]);return(0,L.jsxs)(C.T,{height:g.fG,justifyContent:"space-between",children:[(0,L.jsx)(y.u,{onBack:o}),(0,L.jsx)(C.T,{overflow:"scroll",children:(0,L.jsxs)(C.T,{paddingX:3,gap:2,children:[(0,L.jsx)(I.f,{as:"p",children:n(H.stakingProviderTitle)}),G]})}),(0,L.jsx)(C.T,{flexShrink:0,gap:2,paddingX:2,paddingBottom:2,children:(0,L.jsx)(b.$n,{onClick:F,testID:"stake-select-provider-continue-button",disabled:T,children:n(H.continueButton)})})]})}B(R,"useIntl{{ formatMessage }}\nuseRecoilState{[earnAssetsRatesMap]}\nuseMemo{isCBETH}\nuseMemo{assetLike}",(function(){return[i.A,f.useRecoilState]})),B(V,"useIntl{{ formatMessage }}\nuseStepper{{ goBack, goToStep }}\nuseFields{{ currencyCode, network, targetCurrencyCode }}\nuseEarnSourceAssets{{ earnSourceAssets: earnProviders, isLoading }}\nuseState{[selectedCurrencyCode, setSelectedCurrencyCode](targetCurrencyCode.value)}\nuseCallback{isSelectedCurrencyCode}\nuseCallback{handleSelectProvider}\nuseCallback{handleContinue}\nuseMemo{providers}",(function(){return[i.A,v.lE,m.A,u.Uq]})),(F="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(F.register(H,"messages","/workspaces/apps/extension/src/screens/Stake/steps/SelectProviderStep/SelectProviderStep.tsx"),F.register(N,"CURRENCY_CODE_MESSAGE_MAP","/workspaces/apps/extension/src/screens/Stake/steps/SelectProviderStep/SelectProviderStep.tsx"),F.register(W,"CURRENCY_CODE_TITLE_MAP","/workspaces/apps/extension/src/screens/Stake/steps/SelectProviderStep/SelectProviderStep.tsx"),F.register(R,"Provider","/workspaces/apps/extension/src/screens/Stake/steps/SelectProviderStep/SelectProviderStep.tsx"),F.register(V,"SelectProviderStep","/workspaces/apps/extension/src/screens/Stake/steps/SelectProviderStep/SelectProviderStep.tsx")),(G="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&G(e)},74989:(e,t,n)=>{n.d(t,{f:()=>O});var r,a=n(14041),o=n(32183),i=n(8867),s=n(86090),l=n(65393),u=n(11649),c=n(70359),d=n(19994),f=n(7548),p=n(24475),y=n(32451),g=n(66446),v=n(52617),m=n(4118),b=n(33396),k=n(37121),h=n(87755),C=n(46171),w=n(58773),S=n(31085);function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=A(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==A(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var I,P,L="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},E=(0,o.YK)({stakingTitle:{id:"GmtrvI",defaultMessage:[{type:0,value:"You're staking"}]},unstakingTitle:{id:"aAZva+",defaultMessage:[{type:0,value:"You're unstaking"}]},disclaimer:{id:"VKV79V",defaultMessage:[{type:0,value:"Staked "},{type:1,value:"currencyCode"},{type:0,value:" will appear in the DeFi tab. You can unstake at any time."}]},failureTitle:{id:"r2aIcy",defaultMessage:[{type:0,value:"Stake failed"}]},failureDescriptionUnknownError:{id:"KlxoqU",defaultMessage:[{type:0,value:"Unknown error while sending transaction"}]},tryAgain:{id:"thF7qm",defaultMessage:[{type:0,value:"Try again"}]},goBackHome:{id:"fwpfJu",defaultMessage:[{type:0,value:"Go back home"}]},done:{id:"Nv+PvS",defaultMessage:[{type:0,value:"Done"}]},viewTransaction:{id:"LkAmOx",defaultMessage:[{type:0,value:"View transaction"}]},aprDescription:{id:"Cv/yjD",defaultMessage:[{type:0,value:"Earns "},{type:1,value:"rate"}]},claimMatic:{id:"DC4wPQ",defaultMessage:[{type:0,value:"Claim your MATIC in 3-4 days"}]},claimTitle:{id:"JHtf8u",defaultMessage:[{type:0,value:"You're claiming"}]}}),j=M(M(M({},p.V.CLAIM,E.claimTitle),p.V.STAKE,E.stakingTitle),p.V.UNSTAKE,E.unstakingTitle);function O(){var e,t,n,r,o,A,T=(0,i.A)().formatMessage,M=(0,s.W6)(),I=(0,k.A)(C.Zd),P=I.stakeType.value,L=I.ledgerStakeError,O=L.value,D=L.onChange,F=I.stakeTxData.value,G=I.network.value,B=(0,b.lE)(C.Im).goBack,H=(0,f.a)({targetCurrencyCode:null!==(e=null==F?void 0:F.quote.toAsset.currencyCode.code)&&void 0!==e?e:"",chainId:null===(t=G.asChain())||void 0===t?void 0:t.chainId.toString()}).earnRate;if(!F)throw new Error("stakeTxData was missing in StatusStep");(0,l.or)({currencyCode:null===(n=F.quote.fromAsset)||void 0===n?void 0:n.currencyCode.code,chainId:Number(null===(r=F.quote.fromAsset)||void 0===r?void 0:r.chainId),contractAddress:null===(o=F.quote.fromAsset)||void 0===o||null===(o=o.address)||void 0===o?void 0:o.rawValue});var N=(0,m.z)((0,y.y9)(y.fO.stake),y.yW.trigger_stake,{logMetric:!0}).end,W=(0,m.z)((0,y.y9)(y.fO.stake),y.yW.trigger_claim,{logMetric:!0}).end;(0,u.X)((function(){O?D(void 0):(N(),W())}));var R=(0,d.g)(F),V=R.sourceFiatAmount,U=R.sourceCryptoAmount,_=R.targetCryptoAmount,z=R.targetFiatAmount,q=(0,a.useMemo)((function(){var e="(".concat(V||z,")");return"".concat(null!=U?U:_," ").concat(e)}),[U,V,_,z]),K=(0,a.useCallback)((function(){M.replace("/portfolio")}),[M]),Y=(0,a.useCallback)((function(){M.replace("/transactions")}),[M]),Q=(0,a.useMemo)((function(){return{key:"done-button",name:"doneButton",onClick:K,loading:!1,variant:"primary",block:!0,children:T(E.done)}}),[T,K]),Z=(0,a.useMemo)((function(){return{key:"view-transactions-button",name:"viewTransactionsButton",onClick:Y,loading:!1,testID:"stake-status-view-transactions-button",variant:"secondary",block:!0,children:T(E.viewTransaction)}}),[T,Y]);if(O){var X,J,$,ee=O;return(0,S.jsx)(g.v,x(x({padding:2,elevation:1},w.V6),{},{children:(0,S.jsx)(h.D,{handleBack:B,statusCode:null!==(X=ee.statusCode)&&void 0!==X?X:void 0,errorId:null!==(J=ee.id)&&void 0!==J?J:void 0,errorMessage:null!==($=ee.message)&&void 0!==$?$:void 0})}))}return(0,S.jsx)(v.x,{status:v.n.SUCCESS,title:T(j[P]),subtitle:q,description:H&&P===p.V.STAKE?T(E.aprDescription,{rate:H}):void 0,descriptionColor:P===p.V.STAKE?"fgPositive":void 0,disclaimer:P===p.V.STAKE?T(E.disclaimer,{currencyCode:null===(A=F.quote.fromAsset)||void 0===A?void 0:A.currencyCode.code}):void 0,timeEstimation:F.quote.toAsset.currencyCode.code===c.mv&&P===p.V.STAKE?T(E.claimMatic):void 0,primaryButtonProps:Q,secondaryButtonProps:Z})}L(O,"useIntl{{ formatMessage }}\nuseHistory{history}\nuseFields{{\n    stakeType: { value: stakeType },\n    ledgerStakeError: { value: ledgerStakeError, onChange: ledgerStakeOnChange },\n    stakeTxData: { value: stakeTxData },\n    network: { value: network },\n  }}\nuseStepper{{ goBack }}\nuseGetEarnRate{{ earnRate }}\nuseStatusStepViewed{}\nuseExtensionPerfMark{{ end: markEndStakePerf }}\nuseExtensionPerfMark{{ end: markEndClaimPerf }}\nuseOnUnmount{}\nuseFormatStakeAmounts{{ sourceFiatAmount, sourceCryptoAmount, targetCryptoAmount, targetFiatAmount }}\nuseMemo{formattedAmount}\nuseCallback{goToPortfolio}\nuseCallback{goToTransactions}\nuseMemo{primaryButtonProps: ButtonProps<ButtonDefaultElement>}\nuseMemo{secondaryButtonProps: ButtonProps<ButtonDefaultElement>}",(function(){return[i.A,s.W6,k.A,b.lE,f.a,l.or,m.z,m.z,u.X,d.g]})),(I="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(I.register(E,"messages","/workspaces/apps/extension/src/screens/Stake/steps/StatusStep/StatusStep.tsx"),I.register(j,"TITLE_MAP","/workspaces/apps/extension/src/screens/Stake/steps/StatusStep/StatusStep.tsx"),I.register(O,"StatusStep","/workspaces/apps/extension/src/screens/Stake/steps/StatusStep/StatusStep.tsx")),(P="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&P(e)},63164:(e,t,n)=>{n.d(t,{m:()=>w});var r,a=n(14041),o=n(32183),i=n(8867),s=n(84213),l=n(77547),u=n(13620),c=n(16191),d=n(4244),f=n(72940),p=n(27301),y=n(52689),g=n(99172),v=n(57822),m=n(34767);e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var b,k,h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},C=(0,o.YK)({notEnoughBalanceForMinerFeeMessage:{id:"IZUdH3",defaultMessage:[{type:0,value:"You have "},{type:1,value:"fiatTotalAvailableBalance"},{type:0,value:" in "},{type:1,value:"cryptoSymbol"},{type:0,value:", but you need a total of "},{type:1,value:"fiatTotalTransactionValue"},{type:0,value:" to proceed."}]},learnMore:{id:"9DtuSP",defaultMessage:[{type:0,value:"Learn more"}]}});function w(e,t){var n=t.stakeTxData,r=t.unsignedStakeTx,o=t.unsignedApproveTx,b=(0,i.A)().formatMessage,k=(0,d.J9)(),h=(0,f.VL)({unsignedEthTx:r,unsignedApproveTx:o}),w=h.networkMaxFee,S=h.networkEstimatedFee,A=(0,a.useRef)(!1),T=(0,v.e)(e).find((function(e){return y.j.isEqual(e.currencyCode,r.feeCurrencyCode)&&p.J.isEqual(e.blockchain,r.blockchain)&&g.lg.isEqual(e.network,r.network)})),x=(0,a.useMemo)((function(){var e,t=n.tx.from===(null==T?void 0:T.primaryAddress)?BigInt(null!==(e=n.tx.value)&&void 0!==e?e:0):0n;return(r instanceof u.U?S:w)+t}),[n.tx.from,n.tx.value,T,r,S,w]),M=(0,a.useMemo)((function(){return void 0!==(null==T?void 0:T.balance)&&T.balance>=x}),[T,x]),I=(0,a.useMemo)((function(){return{notEnoughBalanceForMinerFee:{type:"notEnoughBalanceForMinerFee",isDismissible:!1,showErrorIcon:!0,message:b(C.notEnoughBalanceForMinerFeeMessage,{cryptoSymbol:r.feeCurrencyCode.code,fiatTotalAvailableBalance:void 0!==(null==T?void 0:T.balance)&&null!=T&&T.currencyCode?k.formatToFiat({fromCurrencyCode:T.currencyCode,decimals:T.decimals,value:T.balance,isAbbreviated:!1,contractAddress:T.contractAddress,network:T.network,blockchain:T.blockchain,includeCode:!0,formatZeroBalance:!0}):"",fiatTotalTransactionValue:T?k.formatToFiat({fromCurrencyCode:r.feeCurrencyCode,decimals:r.feeCurrencyDecimal,value:x,isAbbreviated:!1,contractAddress:void 0,network:T.network,blockchain:T.blockchain}):""}),analytics:{eventName:"stake.confirmation_preview_step.not_enough_eth_balance",eventProperties:{componentType:m.I5.text,action:m.X2.render,totalEthereumRequired:Number(x)}}}}}),[b,r.feeCurrencyCode,r.feeCurrencyDecimal,T,k,x]);return(0,a.useMemo)((function(){var e=r.network.asChain(),t=BigInt(0),n=BigInt(0),a=BigInt(0);if(r instanceof l.D?(t=r.maxFeePerGas/BigInt(Math.pow(10,9)),n=BigInt(r.gasLimit)):(r instanceof u.U&&(t=r.gasPrice/BigInt(Math.pow(10,9)),n=r.gasLimit),r instanceof c.K&&(a=r.estimatedFee)),!M)return A.current||(A.current=!0,(0,s.NZ)({blockchain:r.blockchain.rawValue,chainName:e.displayName,chainId:e.chainId.toString(10),errorType:"InsufficientBalance",errorMessage:"Insufficient balance to pay gas fee",txSource:"stake".toLocaleString(),gasPriceInGwei:t.toString(),gasLimit:n.toString(),solanaGasPrice:a.toString()})),I.notEnoughBalanceForMinerFee}),[I.notEnoughBalanceForMinerFee,M,r])}h(w,"useIntl{{ formatMessage }}\nuseCurrencyFormatter{currencyFormatter}\nuseCalculateNetworkFees{{ networkMaxFee, networkEstimatedFee }}\nuseRef{hasDispatchedGasAnalyticsEvent}\nuseWalletsForWalletGroupId{wallets}\nuseMemo{totalBaseAssetRequired}\nuseMemo{hasEnoughBalance}\nuseMemo{errors: ErrorMap}\nuseMemo{}",(function(){return[i.A,d.J9,f.VL,v.e]})),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(b.register(C,"messages","/workspaces/libs/data/hooks/Stake/useTransactionDetailErrors.tsx"),b.register(w,"useTransactionDetailErrors","/workspaces/libs/data/hooks/Stake/useTransactionDetailErrors.tsx")),(k="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&k(e)},50215:(e,t,n)=>{n.d(t,{G:()=>v});var r,a=n(14041),o=n(32183),i=n(8867),s=n(22115),l=n(85581),u=n(31085);e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var c,d,f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},p=(0,o.YK)({maxButton:{id:"Pm9NLv",defaultMessage:[{type:0,value:"Max"}]}}),y="25%",g="50%";function v(e){var t=e.onPressMaxButton,n=e.onPressPercentageButton,r=(0,i.A)().formatMessage,o=(0,a.useCallback)((function(e){return function(){n(e)}}),[n]);return(0,u.jsxs)(s.e,{accessibilityLabel:"Percentage buttons",block:!0,children:[(0,u.jsx)(l.$n,{compact:!0,variant:"secondary",onClick:o(.25),testID:"percentage-button-twenty-five-percent",children:y}),(0,u.jsx)(l.$n,{compact:!0,variant:"secondary",onClick:o(.5),testID:"percentage-button-fifty-percent",children:g}),(0,u.jsx)(l.$n,{compact:!0,variant:"secondary",onClick:t,testID:"percentage-button-max",children:r(p.maxButton)})]})}f(v,"useIntl{{ formatMessage }}\nuseCallback{handlePressPercentageButton}",(function(){return[i.A]})),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(c.register(p,"messages","/workspaces/libs/wallet-cds-extension/components/PercentageButtons/PercentageButtons.tsx"),c.register(y,"TWENTY_FIVE_PERCENT","/workspaces/libs/wallet-cds-extension/components/PercentageButtons/PercentageButtons.tsx"),c.register(g,"FIFTY_PERCENT","/workspaces/libs/wallet-cds-extension/components/PercentageButtons/PercentageButtons.tsx"),c.register(v,"PercentageButtons","/workspaces/libs/wallet-cds-extension/components/PercentageButtons/PercentageButtons.tsx")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)},17065:(e,t,n)=>{n.d(t,{y:()=>o});var r,a=n(31085);e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;function o(e){var t=e.color;return(0,a.jsx)("div",{className:l,style:{color:t}})}var i,s,l="sromg8e";n(53627),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(i.register(o,"Spinner","/workspaces/libs/wallet-cds-extension/components/Spinner.tsx"),i.register(l,"spinnerStyle","/workspaces/libs/wallet-cds-extension/components/Spinner.tsx")),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&s(e)},57641:(e,t,n)=>{function r(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}n.d(t,{A:()=>r})},81092:(e,t,n)=>{function r(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}n.d(t,{A:()=>r})},95286:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(81092);function a(e){(0,r.A)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}},53627:(e,t,n)=>{n.r(t)},64654:(e,t,n)=>{n.d(t,{VZ:()=>o,c$:()=>s,t0:()=>i});var r=n(96295),a=n(99172);const o=40,i=a.lg.fromChainId({chainPrefix:r.RC,chainId:1n}),s=10**18},46171:(e,t,n)=>{n.d(t,{Im:()=>s,LX:()=>l,Zd:()=>u});var r=n(99172),a=n(24475),o=n(33396),i=n(40019);const s=(0,o.KT)({steps:["learn","entry","confirmationPreview","status","phoneConfirmation","depositGas","selectAsset","selectProvider","claimConfirmation"],defaultStep:"learn"}),l={network:new r.lg("ETHEREUM_CHAIN:1",!1),cryptoAmount:0n,enteredAmount:"",stakeTxData:void 0,ledgerStakeError:void 0,unsignedApproveTxResult:void 0,unsignedStakeTxResult:void 0,signedApproveTx:void 0,signedStakeTx:void 0,nonce:void 0,quote:void 0,stakeType:a.V.STAKE,currencyCode:"",isFiat:!0,shouldUpdateCryptoAmount:!1,formDepositAmount:0n,targetCurrencyCode:"",tokenId:""},u=(0,i.A)({initialValues:l})},53363:(e,t,n)=>{n.d(t,{B:()=>C,X:()=>w});var r=n(14041),a=n(86090),o=n(96295),i=n(70359),s=n(24475),l=n(32451),u=n(98226),c=n(66656),d=n(95286),f=n(57641),p=n(81092);function y(e){(0,p.A)(1,arguments);var t=(0,d.A)(e);return t.setHours(0,0,0,0),t}var g=864e5;function v(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function m(e,t){(0,p.A)(2,arguments);var n=(0,d.A)(e),r=(0,d.A)(t),a=v(n,r),o=Math.abs(function(e,t){(0,p.A)(2,arguments);var n=y(e),r=y(t),a=n.getTime()-(0,f.A)(n),o=r.getTime()-(0,f.A)(r);return Math.round((a-o)/g)}(n,r));n.setDate(n.getDate()-a*o);var i=a*(o-Number(v(n,r)===-a));return 0===i?0:i}var b=n(4118);const k=new u.J("learnStepViewed"),h=new u.J("learnStepMaticViewed"),C={[o.fz]:k,[i.R1]:k,[i.mv]:h};function w(){const{tokenId:e,stakeType:t,currencyCode:n}=(0,a.g)(),o=c.i.get(C[n]??k),i=(0,r.useMemo)((()=>!!o&&m(new Date,new Date(o))<=30),[o]),{start:u}=(0,b.z)(l.fO.stake,l.yW.launch_stake,{logMetric:!0}),{start:d}=(0,b.z)(l.fO.stake,l.yW.load_claim_preview,{logMetric:!0});return t===s.V.CLAIM&&e?(d(),"claimConfirmation"):i||t===s.V.UNSTAKE?(u(),"entry"):"learn"}},72502:(e,t,n)=>{n.d(t,{v:()=>_});var r=n(14041),a=n(65393),o=n(59659),i=n(32183),s=n(8867),l=n(96295),u=n(4244),c=n(72940),d=n(62396),f=n(26746),p=n(13394),y=n(99172),g=n(70359),v=n(24475),m=n(2775),b=n(23349);class k{constructor(e){this.fromAmount=e.fromAmount?BigInt(e.fromAmount):0n,this.toAmount=e.toAmount?BigInt(e.toAmount):0n,this.fromAsset=e.fromAsset?.currencyCode?new b.V(e.fromAsset.name,e.fromAsset.currencyCode,e.fromAsset.address,e.fromAsset.decimals,e.fromAsset.imageURL,e.fromAsset.chainId,e.fromAsset.blockchain):void 0,this.toAsset=new b.V(e.toAsset.name,e.toAsset.currencyCode,e.toAsset.address,e.toAsset.decimals,e.toAsset.imageURL,e.toAsset.chainId,e.toAsset.blockchain),this.slippage=e.slippage}}var h=n(1048).Buffer;class C{constructor(e){this.tx=e.tx,this.approveTx=e.approveTx,this.quote=new k(e.quote),this.chainId=BigInt(e.chainId),this.workflowName=e.workflowName}get stakeHexEncodedTxData(){return h.from((0,m.LL)(this.tx.data),"hex")}get chainPrimaryAssetValue(){return this.tx.value?BigInt(this.tx.value):0n}}var w=n(83257),S=n(74146),A=n(46122),T=n(13129),x=n(76116),M=n(8387),I=n(1048).Buffer;async function P(e,t,n,r,a){const{tx:o}=t,i=o.value?BigInt(o.value):0n,s=o.gas?BigInt(o.gas):void 0,l=await(0,T.F_)(Number(t.chainId));if(l.error)throw l.error;g.yQ.set(A.kV,a);const u=(0,M.X)({baseMetadata:g.yQ,imageURL:t.quote.toAsset.imageURL,name:t.quote.toAsset.name,currencyCode:t.quote.toAsset.currencyCode.rawValue,decimals:BigInt(t.quote.toAsset.decimals),amount:t.quote.toAmount});return r?(0,x.Z)({wallet:e,recipientAddress:o.to,metadata:u,transactionAmount:{kind:"Amount",value:i},txOrUserOpConfig:{txType:"1559",nonce:n,dataBuffer:I.from((0,m.LL)(o.data),"hex"),selectedMaxFeePerGas:BigInt(l.normalMaxFeePerGas),selectedMaxPriorityFeePerGas:BigInt(l.normalPriorityFee),selectedGasLimit:s,selectedBaseFeePerGas:BigInt(l.baseFee)}}):(0,x.Z)({wallet:e,recipientAddress:t.tx.to,metadata:u,transactionAmount:{kind:"Amount",value:BigInt(t.tx.value)},txOrUserOpConfig:{txType:"Legacy",nonce:n,dataBuffer:t.stakeHexEncodedTxData,selectedGasPrice:BigInt(t.tx.gasPrice),selectedGasLimit:BigInt(t.tx.gas)}})}const L={[v.V.STAKE]:"earn/ethereum_kiln/stake",[v.V.UNSTAKE]:"earn/ethereum_kiln/unstake",[v.V.CLAIM]:"earn/ethereum_kiln/claim"};async function E({sourceWallet:e,feeWallet:t,amount:n,userAddress:r,chainId:a,is1559Enabled:o,stakeType:i,stakeTxDataOverride:s}){let l=s;if(!l){const e={amount:n.toString(),userAddress:r},{result:t}=await(0,S.hm)(L[i],e);l=new C(t)}const u=await(0,f.Wp)(r,y.lg.fromChainId({chainId:a}));let c,d=u;l.approveTx&&(c=await(0,w.e)(t,l.approveTx,u,o,g.yQ),d=u+1n);const v=await P(e,l,d,o,i);return"Failure"===c?.kind&&((0,p.gf)({context:"stake",error:new Error(`error building approveTx: ${c.err}`),severity:"error",isHandled:!1}),Object.assign(c.transaction,{gasLimit:l.approveTx?.gas?BigInt(l.approveTx?.gas):void 0})),"Failure"===v?.kind&&((0,p.gf)({context:"stake",error:new Error(`error building swapTx: ${v.err}`),severity:"error",isHandled:!1}),Object.assign(v.transaction,{gasLimit:BigInt(l.tx.gas)})),{stakeTxData:l,unsignedStakeTx:v,unsignedApproveTx:c}}const j={[g.R1]:{[g.Td]:!0,[g.zJ]:!0},[g.Td]:{[l.fz]:!0},[g.zJ]:{[l.fz]:!0},[l.fz]:{[g.Td]:!0,[g.zJ]:!0,[l.fz]:!1},[g.mv]:{[g.Sg]:!1},[g.Sg]:{[g.mv]:!1}};const O="earn/trade",D="earn/claim",F="5",G={[l.fz]:O,[g.R1]:O,[g.zJ]:O,[g.Td]:O,[g.mv]:"earn/deposit",[g.Sg]:"earn/withdraw"};async function B({sourceWallet:e,targetWallet:t,feeWallet:n,amount:r,userAddress:a,chainId:o,currencyCode:i,is1559Enabled:s,source:l,stakeType:u,tokenId:c}){const d=u===v.V.CLAIM,m=(b=e.currencyCode.code,k=t?.currencyCode.code??"",!!j[b]?.[k]);var b,k;const h=d?{userAddress:a,chainId:o.toString(),tokenId:c}:{fromAddress:a,from:e.contractAddress??e.currencyCode.code,to:t?.contractAddress??t?.currencyCode.code,amount:r.toString(),chainId:o.toString(),currencyCode:i,amountReference:"from",source:l,userAddress:a,...m?{slippagePercentage:F}:void 0},A=d?D:G[e.currencyCode.code],{result:T}=await(0,S.hm)(A??O,h),x=new C(T),M=await(0,f.Wp)(a,y.lg.fromChainId({chainId:o}));let I,L=M;x.approveTx&&(I=await(0,w.e)(n,x.approveTx,M,s,g.yQ),L=M+1n);const E=await P(e,x,L,s,u);return"Failure"===I?.kind&&((0,p.gf)({context:"stake",error:new Error(`error building approveTx: ${I.err}`),severity:"error",isHandled:!1}),Object.assign(I.transaction,{gasLimit:x.approveTx?.gas?BigInt(x.approveTx?.gas):void 0})),"Failure"===E?.kind&&((0,p.gf)({context:"stake",error:new Error(`error building swapTx: ${E.err}`),isHandled:!1,severity:"error"}),Object.assign(E.transaction,{gasLimit:BigInt(x.tx.gas)})),{stakeTxData:x,unsignedStakeTx:E,unsignedApproveTx:I}}var H=n(36760),N=n(21599);const W=(0,i.YK)({cbPayNotEnoughBalanceForMinerFeeMessage:{id:"z6rH3y",defaultMessage:"You need an additional ~{cryptoAmountNeeded} ({fiatAmountNeeded}) on the {networkName} network to cover the network fee."},cbPayZeroBalanceForMinerFeeMessage:{id:"cjf4F1",defaultMessage:"You need {cryptoSymbol} before you can make a transaction on the {networkName} network."},notEnoughBalanceForMinerFeeMessage:{id:"8YvB19",defaultMessage:"You have {fiatTotalAvailableBalance} in {cryptoSymbol}, but you need {fiatTotalTransactionValue} due to gas fees"},depositMinerFeeMessage:{id:"mLulYH",defaultMessage:"You must deposit {fiatDifferenceValue} in {cryptoSymbol} to complete this transaction."},minStakeAmountMessage:{id:"+ZZsYn",defaultMessage:"You must stake at least {cryptoAmount} ETH (~ {fiatAmount})"}});var R=n(33396),V=n(37121),U=n(46171);function _({sourceWallet:e,targetWallet:t,feeWallet:n,shouldIgnoreSuccessRedirect:i,amount:f,stakeType:p,tokenId:y,handleSuccess:g}){const{goToStep:m}=(0,R.lE)(U.Im),b=(0,o.f)(),{unsignedApproveTxResult:k,unsignedStakeTxResult:h,stakeTxData:C,quote:w,formDepositAmount:S}=(0,V.A)(U.Zd),A=(0,r.useMemo)((()=>({currencyCode:e?.currencyCode.code,chainId:e?.network.asChain()?.chainId,contractAddress:e?.contractAddress,targetCurrencyCode:t?.currencyCode.code})),[e?.contractAddress,e?.currencyCode.code,e?.network,t?.currencyCode.code]),T=(0,r.useCallback)((e=>{C.onChange(e.stakeTxData),k.onChange(e.unsignedApproveTx),h.onChange(e.unsignedStakeTx),w.onChange(e.stakeTxData.quote)}),[w,C,k,h]),x=(0,r.useCallback)((function(){g?g():i||m("confirmationPreview")}),[g,i,m]),M=(0,r.useCallback)((e=>{(0,a.dz)(A),b(e)}),[b,A]),I=(0,r.useCallback)((e=>{S.onChange(e)}),[S]),P=(0,r.useCallback)((()=>{(0,a.Lu)(A)}),[A]),L=(0,r.useCallback)((()=>{(0,a.MB)(A)}),[A]),j=(0,r.useCallback)((()=>{(0,a.id)(A)}),[A]),{generateTransactions:O,generateTransactionsError:D,generateDepositAmount:F,isGenerateTransactionsLoading:G}=function({targetWallet:e,amount:t,stakeType:n,sourceWallet:a,feeWallet:i,onSuccess:f,updateFormData:p,onNotEnoughData:y,onRefreshFail:g,shouldIgnoreSuccessRedirect:m,onNotEnoughBalanceForMinerFee:b,onError:k,handleSetDepositAmount:h,tokenId:C,stakeTxDataOverride:w}){const S=(0,u.J9)(),[A,T]=(0,r.useState)(!1),[x,M]=(0,r.useState)(),[I,P]=(0,r.useState)(),L=(0,o.f)(),{formatMessage:j}=(0,s.A)();(0,r.useEffect)((function(){M(void 0)}),[t]);const O=(0,r.useCallback)((function({stakeTxData:e,unsignedStakeTx:r,unsignedApproveTx:o}){p?.({stakeTxData:e,unsignedStakeTx:r,unsignedApproveTx:o});const s=i?.contractAddress===a?.contractAddress&&n===v.V.STAKE?t:0n,{hasEnoughBalance:l,totalFeeAssetRequired:u}=(0,c.qw)({feeWallet:i,transactionAmount:s,unsignedTxOrUserOp:r.transaction,unsignedApproveEthTxOrUserOp:o?.transaction});if(!m&&l||n===v.V.CLAIM)return void f?.({stakeTxData:e,unsignedStakeTx:r,unsignedApproveTx:o});const d=void 0!==i?.balance&&i?.currencyCode?S.formatToCrypto({currencyCode:i.currencyCode,decimals:i.decimals,value:u-i.balance,network:i.network}):"",y=void 0!==i?.balance&&i?.currencyCode?S.formatToFiat({fromCurrencyCode:i.currencyCode,decimals:i.decimals,value:BigInt(u)-(i.balance??0n),isAbbreviated:!1,contractAddress:i.contractAddress,network:i.network,blockchain:i.blockchain,includeCode:!0,formatZeroBalance:!0}):"",g=0n===i?.balance,k=g?j(W.cbPayZeroBalanceForMinerFeeMessage,{cryptoSymbol:i?.currencyCode.code,networkName:i?.displayName}):j(W.cbPayNotEnoughBalanceForMinerFeeMessage,{cryptoAmountNeeded:d,fiatAmountNeeded:y,networkName:i?.network?.asChain()?.displayName}),C=j(W.depositMinerFeeMessage,{cryptoSymbol:i?.currencyCode.code,fiatDifferenceValue:S.formatToFiat({fromCurrencyCode:i.currencyCode,decimals:i.decimals,value:BigInt(u)-(i.balance??0n),isAbbreviated:!1,contractAddress:i.contractAddress,network:i.network,blockchain:i.blockchain,includeCode:!0,formatZeroBalance:!0})}),w=g?"zeroBalanceForMinerFee":"notEnoughBalanceForMinerFee";b?.({errorMessage:k,balance:Number(a?.balance??0),totalRequired:u-(i.balance??0n)}),h?.(BigInt(u)-(i.balance??0n)),P(new Error(C)),M({message:k,code:w})}),[p,i,a?.contractAddress,a?.balance,n,t,m,S,j,b,h,f]),D=(0,H.j)(a);return{generateTransactions:(0,r.useCallback)((async function(r=!1){const o=a?.primaryAddress,s=a?.network,u=a?.accountId,c=u?d.g.parseAccountTypeFromId(u):void 0,f=(0,N.e)(c),p={network:Boolean(s),sourceWallet:Boolean(a),address:Boolean(o),targetWallet:Boolean(e)};if(!s||!a||!o||!i||!e&&n!==v.V.CLAIM)return r?void g?.(p):(y?.(p),L(new Error("Not enough data provided to generate transactions")));const b=a.id===e?.id||n===v.V.CLAIM&&a.currencyCode.code===l.fz,h=b?E:B;try{T(!0);const r=await h({feeWallet:i,sourceWallet:a,targetWallet:e,amount:t??0n,stakeType:n,userAddress:o,chainId:BigInt(a.network.asChain()?.chainId??1),currencyCode:a.currencyCode.code,is1559Enabled:D,source:f,tokenId:C,stakeTxDataOverride:m&&b?w:void 0});O(r)}catch(e){k?(M(e),k(e)):L(e)}finally{T(!1)}}),[a,e,i,n,y,L,g,t,D,C,m,w,O,k]),generateTransactionsError:x,generateDepositAmount:I,isGenerateTransactionsLoading:A}}({amount:f,sourceWallet:e,targetWallet:t,feeWallet:n,stakeType:p,updateFormData:T,onSuccess:x,onNotEnoughBalanceForMinerFee:L,onNotEnoughData:j,shouldIgnoreSuccessRedirect:i,onError:M,handleSetDepositAmount:I,onRefreshFail:P,tokenId:y});return(0,r.useMemo)((()=>({generateTransactions:O,generateTransactionsError:D,generateDepositAmount:F,isGenerateTransactionsLoading:G})),[O,D,F,G])}},54:(e,t,n)=>{n.d(t,{u:()=>r});const r=31e3},19994:(e,t,n)=>{n.d(t,{g:()=>o});var r=n(14041),a=n(4244);function o(e){const t=(0,a.J9)(),{quote:n}=e,o=(0,r.useMemo)((()=>{if(!n.fromAsset)return;const e=t.fiatValue({currencyCode:n.fromAsset.currencyCode,decimals:n.fromAsset.decimals,value:n.fromAmount,contractAddress:n.fromAsset.address?.rawValue,network:n.fromAsset.network,blockchain:n.fromAsset.blockchain,digitsToFixed:2});return e?t.fiatValueString(e):void 0}),[n.fromAsset,n.fromAmount,t]),i=(0,r.useMemo)((()=>{if(n.fromAsset)return t.formatToCrypto({currencyCode:n.fromAsset.currencyCode,decimals:n.fromAsset.decimals,value:n.fromAmount,includeCode:!0,maxDisplayDecimals:8n,minDisplayDecimals:0n})}),[t,n.fromAmount,n.fromAsset]),s=(0,r.useMemo)((()=>{const e=t.fiatValue({currencyCode:n.toAsset.currencyCode,decimals:n.toAsset.decimals,value:n.toAmount,contractAddress:n.toAsset.address?.rawValue,network:n.toAsset.network,blockchain:n.toAsset.blockchain,digitsToFixed:2});if(e)return t.fiatValueString(e)}),[t,n.toAsset,n.toAmount]),l=(0,r.useMemo)((()=>t.formatToCrypto({currencyCode:n.toAsset.currencyCode,decimals:n.toAsset.decimals,value:n.toAmount,includeCode:!0,maxDisplayDecimals:8n,minDisplayDecimals:0n})),[t,n.toAmount,n.toAsset.currencyCode,n.toAsset.decimals]);return(0,r.useMemo)((()=>({sourceFiatAmount:o,sourceCryptoAmount:i,targetFiatAmount:s,targetCryptoAmount:l})),[i,o,l,s])}},41015:(e,t,n)=>{n.d(t,{$:()=>s});var r=n(14041),a=n(97416),o=n(81894),i=n(4419);function s(){const e=(0,i.R)(),t=(0,o.s)(a.r.feb_2023_weth_stake);return(0,r.useMemo)((()=>e&&t),[e,t])}},3093:(e,t,n)=>{n.d(t,{l:()=>A});var r=n(14041),a=n(32183),o=n(8867),i=n(96295),s=n(51676),l=n(13620),u=n(4244),c=n(72940),d=n(87432),f=n(24475),p=n(70918),y=n(52197),g=n(34565),v=n(81454),m=n(16238),b=n.n(m),k=n(70359);const h=(0,a.YK)({networkFeeLabel:{id:"9wby6m",defaultMessage:"Network fee (est.)"},networkFeeTooltip:{id:"iDAUkN",defaultMessage:"The network fee (also called a gas fee) goes to network participants who process transactions, not Coinbase. It may be less than our estimate."},coinbaseFeeLabel:{id:"69w8Iv",defaultMessage:"Coinbase fee"},coinbaseFeeTooltip:{id:"gCadXc",defaultMessage:'Coinbase doesn\u2019t charge a transaction fee for staking assets. Information about commission charges can be found by clicking "Read FAQs" on the upper right hand corner of the screen. Stated APR is net of commissions.'},transactionSpeedLabel:{id:"b+2ECB",defaultMessage:"Time (est.)"},maxFeeLabel:{id:"zoMLPL",defaultMessage:"Max: {maxFeeEstimate}"},contractAddressLabel:{id:"55yK3k",defaultMessage:"{currencyCode} contract"},contractAddressTooltip:{id:"vXyOJS",defaultMessage:"This is the smart contract address for {currencyCode}. Please open the contract in a block explorer and verify it is the correct asset."},timeLabel:{id:"8eOBTQ",defaultMessage:"Time (est.)"},minutesText:{id:"c1upgx",defaultMessage:"> {minutes} minutes"},exchangeRateLabel:{id:"+GA3RT",defaultMessage:"Exchange rate"},exchangeRateTooltip:{id:"5zdmMv",defaultMessage:"The exchange rate shows how much staked {fromAsset} you\u2019ll get for 1 {toAsset}. Right now, 1 {toAsset} is worth {rate} {fromAsset}. This means if you decide to unstake 1 {toAsset}, you\u2019ll get {rate} {fromAsset} back."},freeLabel:{id:"gL7LCA",defaultMessage:"Free"},slippageToleranceLabel:{id:"vFrVSa",defaultMessage:"Slippage tolerance"},slippageToleranceTooltip:{id:"1cvIa7",defaultMessage:"We swap crypto using a 3rd party decentralized exchange (DEX). Your swap will execute within {slippagePercentage} of the quoted price or will be canceled and your funds returned."},lockupPeriodLabel:{id:"vrjdJP",defaultMessage:"Lockup period"},noneText:{id:"uSCSrR",defaultMessage:"None"},walletLabel:{id:"iOErts",defaultMessage:"Wallet"},unstakePeriodLabel:{id:"Tuzdjv",defaultMessage:"Unstaking period"},unstakePeriod:{id:"sJ81jA",defaultMessage:"3-4 days"},instantLabel:{id:"KLD1od",defaultMessage:"Instant"},delegatorUnstakePeriodLabel:{id:"+4V8wv",defaultMessage:"Up to 4 days"},instantToolTip:{id:"BvckiD",defaultMessage:"You can unstake at any time with no wait."},delegatorUnstakePeriodToolTip:{id:"2U/mVi",defaultMessage:"You can unstake at any time but it takes up to 4 days for your request to be processed. After that waiting period, you can claim your ETH."},maticUnstakePeriodToolTip:{id:"hojZyH",defaultMessage:"You can unstake at any time but it takes 3\u20134 days (80 checkpoints) for your request to be processed. After that waiting period, you can claim your MATIC."},methodLabel:{id:"D5cU0d",defaultMessage:"Staking method"},earnLabel:{id:"PyjbkQ",defaultMessage:"Earn"},rewardsLabel:{id:"cmUNGL",defaultMessage:"Rewards"},paidInLabel:{id:"CaFFtk",defaultMessage:"Paid in {currencyCode} after unstake"},accruesDailyLabel:{id:"fAilsx",defaultMessage:"Accrues daily"},rewardsTooltipETH:{id:"Doj9h1",defaultMessage:"You'll realize your rewards in ETH after unstaking."},rewardsTooltipMatic:{id:"SH6O87",defaultMessage:"You'll realize your rewards in MATIC after unstaking. You must claim your MATIC in 3-4 days to get the reward."},receiveLabel:{id:"nqy/8Q",defaultMessage:"Receive"}}),C={[k.mv]:h.unstakePeriod,[i.fz]:h.delegatorUnstakePeriodLabel},w={[k.R1]:{[k.Td]:!0,[k.zJ]:!0},[k.Td]:{[i.fz]:!0},[k.zJ]:{[i.fz]:!0},[i.fz]:{[k.Td]:!0,[k.zJ]:!0,[i.fz]:!1},[k.mv]:{[k.Sg]:!1},[k.Sg]:{[k.mv]:!1}},S={[k.mv]:h.maticUnstakePeriodToolTip,[i.fz]:h.delegatorUnstakePeriodToolTip};function A({stakeTxData:e,unsignedApproveTx:t,unsignedStakeTx:n,lastUpdateTime:a,rowItemsAnalytics:m,isPageLoading:A,feeWalletSubdetail:T,earnDetail:x,stakeType:M=f.V.STAKE,getPrimeNetworkFeeDetailTextPreFormatted:I}){const{formatMessage:P,formatNumber:L}=(0,o.A)(),E=(0,p.h)(),j=(0,y.j)(E).get(i.fz)?.address,O=(0,v.V)(),{formatToCrypto:D}=(0,u.J9)(),{networkBaseFee:F,networkMaxFee:G,networkEstimatedFee:B}=(0,c.VL)({unsignedApproveTx:t,unsignedEthTx:n}),H=n instanceof l.U;(0,d.y)((()=>{m?.({networkEstimatedFee:B.toString(),networkMaxFee:G.toString(),networkBaseFee:F.toString()})}));const N=(0,r.useMemo)((()=>{if(H){return O({currencyCode:n.feeCurrencyCode,currencyDecimal:n.feeCurrencyDecimal,network:n.network,blockchain:n.blockchain,amount:B,error:"Could not calculate estimated fee"})}return`${O({currencyCode:n.feeCurrencyCode,currencyDecimal:n.feeCurrencyDecimal,network:n.network,blockchain:n.blockchain,amount:F,error:"Could not calculate base fee"})}-${O({currencyCode:n.feeCurrencyCode,currencyDecimal:n.feeCurrencyDecimal,network:n.network,blockchain:n.blockchain,amount:G,error:"Could not calculate max fee"})}`}),[H,O,n,F,G,B]),W=(0,r.useMemo)((()=>I?.(N)),[N,I]),R=(0,r.useMemo)((()=>H?null:T),[H,T]),{toAsset:V,fromAsset:U,fromAmount:_,toAmount:z}=e.quote,q=U?.currencyCode.code??"",K=(0,r.useMemo)((()=>{const e=_??0n,t=(0,g.eH)(M===f.V.STAKE?z:e);return(0,g.eH)(M===f.V.STAKE?e:z).div(t).toNumber().toFixed(3)}),[z,_,M]),Y=(0,r.useMemo)((()=>{const e=M===f.V.STAKE?U?.currencyCode.code:V.currencyCode.code;return`1 ${M===f.V.STAKE?V.currencyCode.code:U?.currencyCode.code} = ${K} ${e}`}),[V.currencyCode.code,U?.currencyCode.code,K,M]),Q=(0,r.useMemo)((()=>{const e=M===f.V.STAKE?U?.currencyCode.code:V.currencyCode.code,t=M===f.V.STAKE?V.currencyCode.code:U?.currencyCode.code;return P(h.exchangeRateTooltip,{fromAsset:e,toAsset:t,rate:K})}),[M,V,U,K,P]),Z=L(.01*Number(e.quote.slippage??"0.5"),{style:"percent",minimumFractionDigits:0,maximumFractionDigits:2}),X=(0,r.useMemo)((()=>!!w[q]?.[V?.currencyCode.code??""]),[q,V?.currencyCode.code]),J=(0,r.useMemo)((()=>{const e=s.ay.fromChainId(V.chainId)?.blockExplorerUrl;return{text:j??"",blockExplorerUrl:`${e}/address/${j}`}}),[j,V.chainId]),$=(0,r.useMemo)((()=>C[q]),[q]),ee=(0,r.useMemo)((()=>S[q]),[q]),te=(0,r.useMemo)((()=>V?.currencyCode.code===i.fz?P(h.accruesDailyLabel):P(h.paidInLabel,{currencyCode:k.KS[V.currencyCode.code]})),[P,V.currencyCode.code]),ne=(0,r.useMemo)((()=>P(U?.currencyCode.code===k.mv?h.rewardsTooltipMatic:h.rewardsTooltipETH)),[P,U?.currencyCode.code]),re=(0,r.useMemo)((()=>D({currencyCode:V.currencyCode,decimals:V.decimals,value:z,includeCode:!0,maxDisplayDecimals:4n})),[D,z,V.currencyCode,V.decimals]);return(0,r.useMemo)((()=>b()([M===f.V.STAKE?{label:P(h.earnLabel),detailTextComponent:x}:null,M===f.V.STAKE?{label:P(h.unstakePeriodLabel),detailText:P($),tooltipText:ee&&P(ee)}:null,M===f.V.STAKE?{label:P(h.rewardsLabel),detailText:te,tooltipText:ne}:null,M!==f.V.CLAIM&&X?{label:P(h.exchangeRateLabel),detailText:Y,isPageLoading:A,tooltipText:Q}:null,M===f.V.CLAIM?{label:P(h.walletLabel),detailText:J,isPageLoading:A}:null,X?{label:P(h.receiveLabel),detailText:re,isPageLoading:A}:null,X?{label:P(h.slippageToleranceLabel),detailText:Z,isPageLoading:A,tooltipText:P(h.slippageToleranceTooltip,{slippagePercentage:Z})}:null,{label:P(h.coinbaseFeeLabel),detailText:P(h.freeLabel),isPageLoading:A,tooltipText:P(h.coinbaseFeeTooltip)},{label:P(h.networkFeeLabel),detailTextPreFormatted:W,detailText:W?void 0:N,lastUpdateTime:a,isPageLoading:A,subDetailText:R,tooltipText:P(h.networkFeeTooltip)}])),[M,P,x,$,ee,te,ne,X,Y,A,Q,J,re,Z,W,N,a,R])}},79119:(e,t,n)=>{n.d(t,{f:()=>i});var r=n(14041),a=n(70359),o=n(19994);function i(e){const{sourceFiatAmount:t,sourceCryptoAmount:n,targetFiatAmount:i,targetCryptoAmount:s}=(0,o.g)(e),{quote:l}=e;if(!s)throw new Error("Could not display overview items on stake confirmation page, missing crypto amounts");const u=(0,r.useCallback)((function(e){if(e)return e.currencyCode.code===a.Td?a.zd:e.name}),[]);return{primaryItem:{title:u(l.fromAsset)??u(l.toAsset),iconSourceOrName:{iconUrl:l.fromAsset?.imageURL??l.toAsset?.imageURL,currencyCode:l.fromAsset?.currencyCode?.code??l.toAsset?.currencyCode?.code,network:l.fromAsset?.network??l.toAsset?.network,showNetworkIcon:l.fromAsset?!!l.fromAsset.address:!!l.toAsset?.address},detail:t??i,subDetail:n??s,isAsset:!0,testID:"primary"},secondaryItem:{title:u(l.toAsset),iconSourceOrName:{iconUrl:l.toAsset.imageURL,currencyCode:l.toAsset.currencyCode?.code,network:l.toAsset.network,showNetworkIcon:!!l.toAsset?.address},detail:i,subDetail:s,isAsset:!0,testID:"secondary"}}}}}]);
//# sourceMappingURL=1840.js.map